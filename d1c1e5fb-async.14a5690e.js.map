{"version":3,"sources":["node_modules/@tanstack/react-query/build/modern/QueryErrorResetBoundary.js","node_modules/rc-upload/es/traverseFileTree.js","node_modules/@ant-design/icons-svg/es/asn/AppstoreOutlined.js","node_modules/@ant-design/icons/es/icons/AppstoreOutlined.js","node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleOutlined.js","node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js","node_modules/@ant-design/icons-svg/es/asn/HistoryOutlined.js","node_modules/@ant-design/icons/es/icons/HistoryOutlined.js","node_modules/@tanstack/query-core/build/modern/queryCache.js","node_modules/@tanstack/query-core/build/modern/mutationCache.js","node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","node_modules/@tanstack/query-core/build/modern/queryClient.js","src/pages/devices/schedule/components/ApprovalQueue.tsx","node_modules/@ant-design/icons-svg/es/asn/WarningOutlined.js","node_modules/@ant-design/icons/es/icons/WarningOutlined.js","src/pages/devices/schedule/components/ConflictListModal.tsx","node_modules/@ant-design/icons-svg/es/asn/PauseCircleOutlined.js","node_modules/@ant-design/icons/es/icons/PauseCircleOutlined.js","node_modules/@ant-design/icons-svg/es/asn/PlayCircleOutlined.js","node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js","node_modules/@ant-design/icons-svg/es/asn/SaveOutlined.js","node_modules/@ant-design/icons/es/icons/SaveOutlined.js","node_modules/@ant-design/icons-svg/es/asn/StopOutlined.js","node_modules/@ant-design/icons/es/icons/StopOutlined.js","src/pages/devices/schedule/components/LiveBroadcastWaveform.tsx","src/pages/devices/schedule/components/LiveBroadcastRecorder.tsx","src/pages/devices/schedule/components/LiveBroadcastTargetSelector.tsx","src/pages/devices/schedule/components/LiveBroadcastModal.tsx","node_modules/@ant-design/icons-svg/es/asn/AlertOutlined.js","node_modules/@ant-design/icons/es/icons/AlertOutlined.js","node_modules/@ant-design/icons-svg/es/asn/FlagOutlined.js","node_modules/@ant-design/icons/es/icons/FlagOutlined.js","node_modules/@ant-design/icons-svg/es/asn/TeamOutlined.js","node_modules/@ant-design/icons/es/icons/TeamOutlined.js","node_modules/@ant-design/icons-svg/es/asn/ThunderboltOutlined.js","node_modules/@ant-design/icons/es/icons/ThunderboltOutlined.js","node_modules/@fullcalendar/core/index.js","node_modules/@fullcalendar/daygrid/index.js","node_modules/@fullcalendar/interaction/index.js","node_modules/@fullcalendar/react/dist/index.js","node_modules/@fullcalendar/timegrid/internal.js","node_modules/@fullcalendar/timegrid/index.js","src/mocks/mockSchedule.ts","node_modules/@tanstack/query-core/build/modern/queryObserver.js","node_modules/@tanstack/react-query/build/modern/errorBoundaryUtils.js","node_modules/@tanstack/react-query/build/modern/IsRestoringProvider.js","node_modules/@tanstack/react-query/build/modern/suspense.js","node_modules/@tanstack/react-query/build/modern/useQuery.js","node_modules/@tanstack/react-query/build/modern/useBaseQuery.js","src/pages/devices/schedule/hooks/useSchedules.ts","src/pages/devices/schedule/components/ScheduleCalendar.tsx","node_modules/antd/es/descriptions/constant.js","node_modules/antd/es/descriptions/hooks/useItems.js","node_modules/antd/es/descriptions/hooks/useRow.js","node_modules/antd/es/descriptions/Cell.js","node_modules/antd/es/descriptions/Row.js","node_modules/antd/es/descriptions/style/index.js","node_modules/antd/es/descriptions/index.js","node_modules/antd/es/descriptions/Item.js","src/pages/devices/schedule/components/ScheduleDetailModal.tsx","node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","node_modules/@ant-design/icons/es/icons/UploadOutlined.js","node_modules/rc-upload/es/attr-accept.js","node_modules/rc-upload/es/request.js","node_modules/rc-upload/es/uid.js","node_modules/rc-upload/es/AjaxUploader.js","node_modules/rc-upload/es/Upload.js","node_modules/@ant-design/icons-svg/es/asn/FileTwoTone.js","node_modules/@ant-design/icons/es/icons/FileTwoTone.js","node_modules/@ant-design/icons-svg/es/asn/PaperClipOutlined.js","node_modules/@ant-design/icons/es/icons/PaperClipOutlined.js","node_modules/@ant-design/icons-svg/es/asn/PictureTwoTone.js","node_modules/@ant-design/icons/es/icons/PictureTwoTone.js","node_modules/antd/es/upload/utils.js","node_modules/@ant-design/icons-svg/es/asn/DownloadOutlined.js","node_modules/@ant-design/icons/es/icons/DownloadOutlined.js","node_modules/antd/es/upload/UploadList/ListItem.js","node_modules/antd/es/upload/UploadList/index.js","node_modules/antd/es/upload/Upload.js","node_modules/antd/es/upload/Dragger.js","node_modules/antd/es/upload/index.js","src/pages/devices/schedule/schema/schedule.ts","src/pages/devices/schedule/components/RelaySourceSelector.tsx","src/pages/devices/schedule/components/ScheduleForm.tsx","node_modules/@tanstack/query-core/build/modern/mutationObserver.js","node_modules/@tanstack/react-query/build/modern/useMutation.js","src/pages/devices/schedule/hooks/useScheduleMutations.ts","src/pages/devices/schedule/utils/scheduleActions.ts","src/pages/devices/schedule/components/ScheduleListTable.tsx","src/pages/devices/schedule/hooks/useConflicts.ts","src/pages/devices/schedule/utils/conflictDetection.ts","src/pages/devices/schedule/index.tsx","src/models/Schedule.ts"],"sourcesContent":["\"use client\";\n\n// src/QueryErrorResetBoundary.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createValue() {\n  let isReset = false;\n  return {\n    clearReset: () => {\n      isReset = false;\n    },\n    reset: () => {\n      isReset = true;\n    },\n    isReset: () => {\n      return isReset;\n    }\n  };\n}\nvar QueryErrorResetBoundaryContext = React.createContext(createValue());\nvar useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext);\nvar QueryErrorResetBoundary = ({\n  children\n}) => {\n  const [value] = React.useState(() => createValue());\n  return /* @__PURE__ */ jsx(QueryErrorResetBoundaryContext.Provider, { value, children: typeof children === \"function\" ? children(value) : children });\n};\nexport {\n  QueryErrorResetBoundary,\n  useQueryErrorResetBoundary\n};\n//# sourceMappingURL=QueryErrorResetBoundary.js.map","import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n// https://github.com/ant-design/ant-design/issues/50080\nvar traverseFileTree = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(files, isAccepted) {\n    var flattenFileList, progressFileList, readDirectory, _readDirectory, readFile, _readFile, _traverseFileTree, wipIndex;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _readFile = function _readFile3() {\n            _readFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(item) {\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    return _context3.abrupt(\"return\", new Promise(function (reslove) {\n                      item.file(function (file) {\n                        if (isAccepted(file)) {\n                          // https://github.com/ant-design/ant-design/issues/16426\n                          if (item.fullPath && !file.webkitRelativePath) {\n                            Object.defineProperties(file, {\n                              webkitRelativePath: {\n                                writable: true\n                              }\n                            });\n                            // eslint-disable-next-line no-param-reassign\n                            file.webkitRelativePath = item.fullPath.replace(/^\\//, '');\n                            Object.defineProperties(file, {\n                              webkitRelativePath: {\n                                writable: false\n                              }\n                            });\n                          }\n                          reslove(file);\n                        } else {\n                          reslove(null);\n                        }\n                      });\n                    }));\n                  case 1:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return _readFile.apply(this, arguments);\n          };\n          readFile = function _readFile2(_x4) {\n            return _readFile.apply(this, arguments);\n          };\n          _readDirectory = function _readDirectory3() {\n            _readDirectory = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(directory) {\n              var dirReader, entries, results, n, i;\n              return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    dirReader = directory.createReader();\n                    entries = [];\n                  case 2:\n                    if (!true) {\n                      _context2.next = 12;\n                      break;\n                    }\n                    _context2.next = 5;\n                    return new Promise(function (resolve) {\n                      dirReader.readEntries(resolve, function () {\n                        return resolve([]);\n                      });\n                    });\n                  case 5:\n                    results = _context2.sent;\n                    n = results.length;\n                    if (n) {\n                      _context2.next = 9;\n                      break;\n                    }\n                    return _context2.abrupt(\"break\", 12);\n                  case 9:\n                    for (i = 0; i < n; i++) {\n                      entries.push(results[i]);\n                    }\n                    _context2.next = 2;\n                    break;\n                  case 12:\n                    return _context2.abrupt(\"return\", entries);\n                  case 13:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            return _readDirectory.apply(this, arguments);\n          };\n          readDirectory = function _readDirectory2(_x3) {\n            return _readDirectory.apply(this, arguments);\n          };\n          flattenFileList = [];\n          progressFileList = [];\n          files.forEach(function (file) {\n            return progressFileList.push(file.webkitGetAsEntry());\n          });\n\n          // eslint-disable-next-line @typescript-eslint/naming-convention\n          _traverseFileTree = /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(item, path) {\n              var _file, entries;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    if (item) {\n                      _context.next = 2;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 2:\n                    // eslint-disable-next-line no-param-reassign\n                    item.path = path || '';\n                    if (!item.isFile) {\n                      _context.next = 10;\n                      break;\n                    }\n                    _context.next = 6;\n                    return readFile(item);\n                  case 6:\n                    _file = _context.sent;\n                    if (_file) {\n                      flattenFileList.push(_file);\n                    }\n                    _context.next = 15;\n                    break;\n                  case 10:\n                    if (!item.isDirectory) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 13;\n                    return readDirectory(item);\n                  case 13:\n                    entries = _context.sent;\n                    progressFileList.push.apply(progressFileList, _toConsumableArray(entries));\n                  case 15:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function _traverseFileTree(_x5, _x6) {\n              return _ref2.apply(this, arguments);\n            };\n          }();\n          wipIndex = 0;\n        case 9:\n          if (!(wipIndex < progressFileList.length)) {\n            _context4.next = 15;\n            break;\n          }\n          _context4.next = 12;\n          return _traverseFileTree(progressFileList[wipIndex]);\n        case 12:\n          wipIndex++;\n          _context4.next = 9;\n          break;\n        case 15:\n          return _context4.abrupt(\"return\", flattenFileList);\n        case 16:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function traverseFileTree(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default traverseFileTree;","// This icon file is generated automatically.\nvar AppstoreOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z\" } }] }, \"name\": \"appstore\", \"theme\": \"outlined\" };\nexport default AppstoreOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport AppstoreOutlinedSvg from \"@ant-design/icons-svg/es/asn/AppstoreOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar AppstoreOutlined = function AppstoreOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: AppstoreOutlinedSvg\n  }));\n};\n\n/**![appstore](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ2NCAxNDRIMTYwYy04LjggMC0xNiA3LjItMTYgMTZ2MzA0YzAgOC44IDcuMiAxNiAxNiAxNmgzMDRjOC44IDAgMTYtNy4yIDE2LTE2VjE2MGMwLTguOC03LjItMTYtMTYtMTZ6bS01MiAyNjhIMjEyVjIxMmgyMDB2MjAwem00NTItMjY4SDU2MGMtOC44IDAtMTYgNy4yLTE2IDE2djMwNGMwIDguOCA3LjIgMTYgMTYgMTZoMzA0YzguOCAwIDE2LTcuMiAxNi0xNlYxNjBjMC04LjgtNy4yLTE2LTE2LTE2em0tNTIgMjY4SDYxMlYyMTJoMjAwdjIwMHpNNDY0IDU0NEgxNjBjLTguOCAwLTE2IDcuMi0xNiAxNnYzMDRjMCA4LjggNy4yIDE2IDE2IDE2aDMwNGM4LjggMCAxNi03LjIgMTYtMTZWNTYwYzAtOC44LTcuMi0xNi0xNi0xNnptLTUyIDI2OEgyMTJWNjEyaDIwMHYyMDB6bTQ1Mi0yNjhINTYwYy04LjggMC0xNiA3LjItMTYgMTZ2MzA0YzAgOC44IDcuMiAxNiAxNiAxNmgzMDRjOC44IDAgMTYtNy4yIDE2LTE2VjU2MGMwLTguOC03LjItMTYtMTYtMTZ6bS01MiAyNjhINjEyVjYxMmgyMDB2MjAweiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(AppstoreOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'AppstoreOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar ExclamationCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"outlined\" };\nexport default ExclamationCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport ExclamationCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar ExclamationCircleOutlined = function ExclamationCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: ExclamationCircleOutlinedSvg\n  }));\n};\n\n/**![exclamation-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIC8+PHBhdGggZD0iTTQ2NCA2ODhhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem0yNC0xMTJoNDhjNC40IDAgOC0zLjYgOC04VjI5NmMwLTQuNC0zLjYtOC04LThoLTQ4Yy00LjQgMC04IDMuNi04IDh2MjcyYzAgNC40IDMuNiA4IDggOHoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(ExclamationCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ExclamationCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar HistoryOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z\" } }] }, \"name\": \"history\", \"theme\": \"outlined\" };\nexport default HistoryOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport HistoryOutlinedSvg from \"@ant-design/icons-svg/es/asn/HistoryOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar HistoryOutlined = function HistoryOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: HistoryOutlinedSvg\n  }));\n};\n\n/**![history](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUzNi4xIDI3M0g0ODhjLTQuNCAwLTggMy42LTggOHYyNzUuM2MwIDIuNiAxLjIgNSAzLjMgNi41bDE2NS4zIDEyMC43YzMuNiAyLjYgOC42IDEuOSAxMS4yLTEuN2wyOC42LTM5YzIuNy0zLjcgMS45LTguNy0xLjctMTEuMkw1NDQuMSA1MjguNVYyODFjMC00LjQtMy42LTgtOC04em0yMTkuOCA3NS4ybDE1Ni44IDM4LjNjNSAxLjIgOS45LTIuNiA5LjktNy43bC44LTE2MS41YzAtNi43LTcuNy0xMC41LTEyLjktNi4zTDc1Mi45IDMzNC4xYTggOCAwIDAwMyAxNC4xem0xNjcuNyAzMDEuMWwtNTYuNy0xOS41YTggOCAwIDAwLTEwLjEgNC44Yy0xLjkgNS4xLTMuOSAxMC4xLTYgMTUuMS0xNy44IDQyLjEtNDMuMyA4MC03NS45IDExMi41YTM1MyAzNTMgMCAwMS0xMTIuNSA3NS45IDM1Mi4xOCAzNTIuMTggMCAwMS0xMzcuNyAyNy44Yy00Ny44IDAtOTQuMS05LjMtMTM3LjctMjcuOGEzNTMgMzUzIDAgMDEtMTEyLjUtNzUuOWMtMzIuNS0zMi41LTU4LTcwLjQtNzUuOS0xMTIuNUEzNTMuNDQgMzUzLjQ0IDAgMDExNzEgNTEyYzAtNDcuOCA5LjMtOTQuMiAyNy44LTEzNy44IDE3LjgtNDIuMSA0My4zLTgwIDc1LjktMTEyLjVhMzUzIDM1MyAwIDAxMTEyLjUtNzUuOUM0MzAuNiAxNjcuMyA0NzcgMTU4IDUyNC44IDE1OHM5NC4xIDkuMyAxMzcuNyAyNy44QTM1MyAzNTMgMCAwMTc3NSAyNjEuN2MxMC4yIDEwLjMgMTkuOCAyMSAyOC42IDMyLjNsNTkuOC00Ni44Qzc4NC43IDE0Ni42IDY2Mi4yIDgxLjkgNTI0LjYgODIgMjg1IDgyLjEgOTIuNiAyNzYuNyA5NSA1MTYuNCA5Ny40IDc1MS45IDI4OC45IDk0MiA1MjQuOCA5NDJjMTg1LjUgMCAzNDMuNS0xMTcuNiA0MDMuNy0yODIuMyAxLjUtNC4yLS43LTguOS00LjktMTAuNHoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(HistoryOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'HistoryOutlined';\n}\nexport default RefIcon;","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      client,\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/infiniteQueryBehavior.ts\nimport {\n  addConsumeAwareSignal,\n  addToEnd,\n  addToStart,\n  ensureQueryFn\n} from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          addConsumeAwareSignal(\n            object,\n            () => context.signal,\n            () => cancelled = true\n          );\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","import { ScheduleStatus } from \"@/models/Schedule\";\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\nimport { Avatar, Button, Card, List, message, Tag } from \"antd\";\nimport React, { useState } from \"react\";\n\n// Mock Pending Data\nconst initialPending = [\n  {\n    id: \"p1\",\n    title: \"Phát thông báo tiêm chủng\",\n    user: \"Nguyen Van A\",\n    createdAt: \"2024-05-20 08:00\",\n    status: ScheduleStatus.PENDING_APPROVAL,\n  },\n  {\n    id: \"p2\",\n    title: \"Lịch phát nhạc cuối tuần\",\n    user: \"Tran Thi B\",\n    createdAt: \"2024-05-21 09:00\",\n    status: ScheduleStatus.PENDING_APPROVAL,\n  },\n];\n\nexport const ApprovalQueue: React.FC = () => {\n  const [data, setData] = useState(initialPending);\n\n  const handleApprove = (id: string) => {\n    message.success(\"Đã duyệt lịch phát!\");\n    setData((prev) => prev.filter((item) => item.id !== id));\n  };\n\n  const handleReject = (id: string) => {\n    message.info(\"Đã từ chối lịch phát!\");\n    setData((prev) => prev.filter((item) => item.id !== id));\n  };\n\n  return (\n    <Card\n      title=\"Duyệt lịch chờ (Admin)\"\n      className=\"mt-4\"\n      extra={<Tag color=\"orange\">{data.length} chờ duyệt</Tag>}\n    >\n      <List\n        itemLayout=\"horizontal\"\n        dataSource={data}\n        renderItem={(item) => (\n          <List.Item\n            actions={[\n              <Button\n                type=\"text\"\n                icon={<CheckCircleOutlined style={{ color: \"green\" }} />}\n                onClick={() => handleApprove(item.id)}\n              >\n                Duyệt\n              </Button>,\n              <Button\n                type=\"text\"\n                icon={<CloseCircleOutlined style={{ color: \"red\" }} />}\n                danger\n                onClick={() => handleReject(item.id)}\n              >\n                Từ chối\n              </Button>,\n            ]}\n          >\n            <List.Item.Meta\n              avatar={\n                <Avatar style={{ backgroundColor: \"#f56a00\" }}>\n                  {item.user[0]}\n                </Avatar>\n              }\n              title={item.title}\n              description={`Người tạo: ${item.user} | Ngày tạo: ${item.createdAt}`}\n            />\n          </List.Item>\n        )}\n      />\n      {data.length === 0 && (\n        <div className=\"text-center text-gray-400 py-4\">\n          Không có lịch nào cần duyệt\n        </div>\n      )}\n    </Card>\n  );\n};\n","// This icon file is generated automatically.\nvar WarningOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z\" } }] }, \"name\": \"warning\", \"theme\": \"outlined\" };\nexport default WarningOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport WarningOutlinedSvg from \"@ant-design/icons-svg/es/asn/WarningOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar WarningOutlined = function WarningOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: WarningOutlinedSvg\n  }));\n};\n\n/**![warning](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ2NCA3MjBhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem0xNi0zMDR2MTg0YzAgNC40IDMuNiA4IDggOGg0OGM0LjQgMCA4LTMuNiA4LThWNDE2YzAtNC40LTMuNi04LTgtOGgtNDhjLTQuNCAwLTggMy42LTggOHptNDc1LjcgNDQwbC00MTYtNzIwYy02LjItMTAuNy0xNi45LTE2LTI3LjctMTZzLTIxLjYgNS4zLTI3LjcgMTZsLTQxNiA3MjBDNTYgODc3LjQgNzEuNCA5MDQgOTYgOTA0aDgzMmMyNC42IDAgNDAtMjYuNiAyNy43LTQ4em0tNzgzLjUtMjcuOUw1MTIgMjM5LjlsMzM5LjggNTg4LjJIMTcyLjJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(WarningOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'WarningOutlined';\n}\nexport default RefIcon;","import { Schedule } from \"@/models/Schedule\";\nimport { ClockCircleOutlined, WarningOutlined } from \"@ant-design/icons\";\nimport { Alert, Empty, Table, Tag } from \"antd\";\nimport dayjs from \"dayjs\";\nimport React from \"react\";\nimport { ScheduleConflict } from \"../utils/conflictDetection\";\n\ninterface ConflictListModalProps {\n  conflicts: ScheduleConflict[];\n  schedules: Schedule[];\n}\n\ninterface ConflictTableRecord {\n  key: number;\n  conflict: ScheduleConflict;\n  schedule1: Schedule | undefined;\n  schedule2: Schedule | undefined;\n}\n\nexport const ConflictListModal: React.FC<ConflictListModalProps> = ({\n  conflicts,\n  schedules,\n}) => {\n  if (conflicts.length === 0) {\n    return (\n      <Empty\n        description=\"Không có xung đột nào\"\n        image={Empty.PRESENTED_IMAGE_SIMPLE}\n      />\n    );\n  }\n\n  // Create a map for quick schedule lookup\n  const scheduleMap = new Map(schedules.map((s) => [s.id, s]));\n\n  // Transform conflicts into table data\n  const dataSource: ConflictTableRecord[] = conflicts.map((conflict, index) => {\n    const schedule1 = scheduleMap.get(conflict.scheduleId);\n    const schedule2 = scheduleMap.get(conflict.conflictingScheduleId);\n\n    return {\n      key: index,\n      conflict,\n      schedule1,\n      schedule2,\n    };\n  });\n\n  const columns = [\n    {\n      title: \"STT\",\n      key: \"index\",\n      width: 60,\n      render: (_: any, __: any, index: number) => index + 1,\n    },\n    {\n      title: \"Lịch 1\",\n      key: \"schedule1\",\n      render: (_: any, record: ConflictTableRecord) => (\n        <div>\n          <div className=\"font-semibold\">{record.schedule1?.title}</div>\n          <div className=\"text-xs text-gray-500\">\n            <ClockCircleOutlined className=\"mr-1\" />\n            {dayjs(record.schedule1?.startTime).format(\"DD/MM/YYYY HH:mm\")}\n          </div>\n        </div>\n      ),\n    },\n    {\n      title: \"Lịch 2\",\n      key: \"schedule2\",\n      render: (_: any, record: ConflictTableRecord) => (\n        <div>\n          <div className=\"font-semibold\">{record.schedule2?.title}</div>\n          <div className=\"text-xs text-gray-500\">\n            <ClockCircleOutlined className=\"mr-1\" />\n            {dayjs(record.schedule2?.startTime).format(\"DD/MM/YYYY HH:mm\")}\n          </div>\n        </div>\n      ),\n    },\n    {\n      title: \"Lý do\",\n      key: \"reason\",\n      render: (_: any, record: ConflictTableRecord) => {\n        const reasonMap: Record<ScheduleConflict[\"reason\"], string> = {\n          TIME_OVERLAP: \"Trùng thời gian\",\n          DEVICE_OVERLAP: \"Trùng thiết bị\",\n          RELAY_OVERRIDE: \"Lịch tiếp sóng ghi đè\",\n        };\n        return (\n          <div>\n            <div>{reasonMap[record.conflict.reason]}</div>\n            <div className=\"text-xs text-gray-600 mt-1\">\n              {record.conflict.description}\n            </div>\n          </div>\n        );\n      },\n    },\n    {\n      title: \"Mức độ\",\n      key: \"severity\",\n      width: 100,\n      render: (_: any, record: ConflictTableRecord) => {\n        const severityConfig: Record<\n          ScheduleConflict[\"severity\"],\n          { color: string; text: string; icon: React.ReactNode }\n        > = {\n          HIGH: { color: \"red\", text: \"Cao\", icon: <WarningOutlined /> },\n          MEDIUM: { color: \"orange\", text: \"Trung bình\", icon: null },\n          LOW: { color: \"blue\", text: \"Thấp\", icon: null },\n        };\n        const config = severityConfig[record.conflict.severity];\n        return (\n          <Tag color={config.color} icon={config.icon}>\n            {config.text}\n          </Tag>\n        );\n      },\n    },\n  ];\n\n  const highSeverityCount = conflicts.filter(\n    (c) => c.severity === \"HIGH\"\n  ).length;\n\n  return (\n    <div>\n      {highSeverityCount > 0 && (\n        <Alert\n          message={`Có ${highSeverityCount} xung đột mức độ cao cần xử lý`}\n          type=\"error\"\n          showIcon\n          className=\"mb-4\"\n        />\n      )}\n\n      <Table\n        dataSource={dataSource}\n        columns={columns}\n        pagination={false}\n        size=\"small\"\n        scroll={{ y: 400 }}\n      />\n    </div>\n  );\n};\n","// This icon file is generated automatically.\nvar PauseCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"pause-circle\", \"theme\": \"outlined\" };\nexport default PauseCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PauseCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PauseCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PauseCircleOutlined = function PauseCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PauseCircleOutlinedSvg\n  }));\n};\n\n/**![pause-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnptLTg4LTUzMmgtNDhjLTQuNCAwLTggMy42LTggOHYzMDRjMCA0LjQgMy42IDggOCA4aDQ4YzQuNCAwIDgtMy42IDgtOFYzNjBjMC00LjQtMy42LTgtOC04em0yMjQgMGgtNDhjLTQuNCAwLTggMy42LTggOHYzMDRjMCA0LjQgMy42IDggOCA4aDQ4YzQuNCAwIDgtMy42IDgtOFYzNjBjMC00LjQtMy42LTgtOC04eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PauseCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PauseCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar PlayCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\" } }] }, \"name\": \"play-circle\", \"theme\": \"outlined\" };\nexport default PlayCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PlayCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlayCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PlayCircleOutlined = function PlayCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PlayCircleOutlinedSvg\n  }));\n};\n\n/**![play-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MnMxNjYuNi0zNzIgMzcyLTM3MiAzNzIgMTY2LjYgMzcyIDM3Mi0xNjYuNiAzNzItMzcyIDM3MnoiIC8+PHBhdGggZD0iTTcxOS40IDQ5OS4xbC0yOTYuMS0yMTVBMTUuOSAxNS45IDAgMDAzOTggMjk3djQzMGMwIDEzLjEgMTQuOCAyMC41IDI1LjMgMTIuOWwyOTYuMS0yMTVhMTUuOSAxNS45IDAgMDAwLTI1Ljh6bS0yNTcuNiAxMzRWMzkwLjlMNjI4LjUgNTEyIDQ2MS44IDYzMy4xeiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PlayCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PlayCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar SaveOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" } }] }, \"name\": \"save\", \"theme\": \"outlined\" };\nexport default SaveOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport SaveOutlinedSvg from \"@ant-design/icons-svg/es/asn/SaveOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar SaveOutlined = function SaveOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: SaveOutlinedSvg\n  }));\n};\n\n/**![save](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg5My4zIDI5My4zTDczMC43IDEzMC43Yy03LjUtNy41LTE2LjctMTMtMjYuNy0xNlYxMTJIMTQ0Yy0xNy43IDAtMzIgMTQuMy0zMiAzMnY3MzZjMCAxNy43IDE0LjMgMzIgMzIgMzJoNzM2YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjMzOC41YzAtMTctNi43LTMzLjItMTguNy00NS4yek0zODQgMTg0aDI1NnYxMDRIMzg0VjE4NHptNDU2IDY1NkgxODRWMTg0aDEzNnYxMzZjMCAxNy43IDE0LjMgMzIgMzIgMzJoMzIwYzE3LjcgMCAzMi0xNC4zIDMyLTMyVjIwNS44bDEzNiAxMzZWODQwek01MTIgNDQyYy03OS41IDAtMTQ0IDY0LjUtMTQ0IDE0NHM2NC41IDE0NCAxNDQgMTQ0IDE0NC02NC41IDE0NC0xNDQtNjQuNS0xNDQtMTQ0LTE0NHptMCAyMjRjLTQ0LjIgMC04MC0zNS44LTgwLTgwczM1LjgtODAgODAtODAgODAgMzUuOCA4MCA4MC0zNS44IDgwLTgwIDgweiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(SaveOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'SaveOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar StopOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z\" } }] }, \"name\": \"stop\", \"theme\": \"outlined\" };\nexport default StopOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport StopOutlinedSvg from \"@ant-design/icons-svg/es/asn/StopOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar StopOutlined = function StopOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: StopOutlinedSvg\n  }));\n};\n\n/**![stop](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDgyMGMtMjA1LjQgMC0zNzItMTY2LjYtMzcyLTM3MiAwLTg5IDMxLjMtMTcwLjggODMuNS0yMzQuOGw1MjMuMyA1MjMuM0M2ODIuOCA4NTIuNyA2MDEgODg0IDUxMiA4ODR6bTI4OC41LTEzNy4yTDI3Ny4yIDIyMy41QzM0MS4yIDE3MS4zIDQyMyAxNDAgNTEyIDE0MGMyMDUuNCAwIDM3MiAxNjYuNiAzNzIgMzcyIDAgODktMzEuMyAxNzAuOC04My41IDIzNC44eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(StopOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'StopOutlined';\n}\nexport default RefIcon;","import React, { useEffect, useRef } from \"react\";\n\ninterface LiveBroadcastWaveformProps {\n  isRecording: boolean;\n  audioStream: MediaStream | null;\n  status: \"idle\" | \"recording\" | \"paused\" | \"completed\";\n}\n\nexport const LiveBroadcastWaveform: React.FC<LiveBroadcastWaveformProps> = ({\n  isRecording,\n  audioStream,\n  status,\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationRef = useRef<number | undefined>(undefined);\n  const audioContextRef = useRef<AudioContext | undefined>(undefined);\n  const analyserRef = useRef<AnalyserNode | undefined>(undefined);\n\n  useEffect(() => {\n    if (!isRecording || !audioStream || status !== \"recording\") {\n      // Stop animation if not recording\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n      return;\n    }\n\n    // Initialize Web Audio API\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    const source = audioContext.createMediaStreamSource(audioStream);\n\n    source.connect(analyser);\n    analyser.fftSize = 2048;\n\n    audioContextRef.current = audioContext;\n    analyserRef.current = analyser;\n\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n\n    const draw = () => {\n      if (!canvasRef.current || !analyserRef.current) return;\n\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx) return;\n\n      analyserRef.current.getByteTimeDomainData(dataArray);\n\n      // Clear canvas with gradient background\n      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n      gradient.addColorStop(0, \"#fef2f2\");\n      gradient.addColorStop(1, \"#fee2e2\");\n      ctx.fillStyle = gradient;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Draw waveform\n      ctx.lineWidth = 3;\n      ctx.strokeStyle = \"#ef4444\"; // red-500\n      ctx.shadowBlur = 10;\n      ctx.shadowColor = \"rgba(239, 68, 68, 0.5)\";\n      ctx.beginPath();\n\n      const sliceWidth = (canvas.width * 1.0) / bufferLength;\n      let x = 0;\n\n      for (let i = 0; i < bufferLength; i++) {\n        const v = dataArray[i] / 128.0;\n        const y = (v * canvas.height) / 2;\n\n        if (i === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n\n        x += sliceWidth;\n      }\n\n      ctx.lineTo(canvas.width, canvas.height / 2);\n      ctx.stroke();\n\n      // Continue animation\n      animationRef.current = requestAnimationFrame(draw);\n    };\n\n    draw();\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n      if (audioContextRef.current) {\n        audioContextRef.current.close();\n      }\n    };\n  }, [isRecording, audioStream, status]);\n\n  // Draw static waveform for paused/completed states\n  useEffect(() => {\n    if (status === \"paused\" || status === \"completed\") {\n      const canvas = canvasRef.current;\n      if (!canvas) return;\n\n      const ctx = canvas.getContext(\"2d\");\n      if (!ctx) return;\n\n      // Draw static waveform\n      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\n      if (status === \"paused\") {\n        gradient.addColorStop(0, \"#fffbeb\");\n        gradient.addColorStop(1, \"#fef3c7\");\n        ctx.fillStyle = gradient;\n      } else {\n        gradient.addColorStop(0, \"#ecfdf5\");\n        gradient.addColorStop(1, \"#d1fae5\");\n        ctx.fillStyle = gradient;\n      }\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n      // Draw center line\n      ctx.strokeStyle = status === \"paused\" ? \"#f59e0b\" : \"#10b981\";\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n      ctx.moveTo(0, canvas.height / 2);\n      ctx.lineTo(canvas.width, canvas.height / 2);\n      ctx.stroke();\n    }\n  }, [status]);\n\n  return (\n    <div className=\"w-full flex justify-center\">\n      <canvas\n        ref={canvasRef}\n        width={600}\n        height={150}\n        className=\"border-2 border-gray-200 rounded-lg shadow-sm\"\n        style={{ maxWidth: \"100%\" }}\n      />\n    </div>\n  );\n};\n","import {\n  AudioOutlined,\n  PauseCircleOutlined,\n  PlayCircleOutlined,\n  SaveOutlined,\n  StopOutlined,\n} from \"@ant-design/icons\";\nimport { Badge, Button, Space } from \"antd\";\nimport React from \"react\";\nimport { LiveBroadcastWaveform } from \"./LiveBroadcastWaveform\";\n\ninterface LiveBroadcastRecorderProps {\n  status: \"idle\" | \"recording\" | \"paused\" | \"completed\";\n  duration: number;\n  audioStream: MediaStream | null;\n  deviceCount: number;\n  onStart: () => void;\n  onPause: () => void;\n  onResume: () => void;\n  onStop: () => void;\n  onSave: () => void;\n}\n\nexport const LiveBroadcastRecorder: React.FC<LiveBroadcastRecorderProps> = ({\n  status,\n  duration,\n  audioStream,\n  deviceCount,\n  onStart,\n  onPause,\n  onResume,\n  onStop,\n  onSave,\n}) => {\n  const formatTime = (seconds: number) => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n\n    if (hrs > 0) {\n      return `${hrs.toString().padStart(2, \"0\")}:${mins\n        .toString()\n        .padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    }\n    return `${mins.toString().padStart(2, \"0\")}:${secs\n      .toString()\n      .padStart(2, \"0\")}`;\n  };\n\n  const getStatusConfig = () => {\n    switch (status) {\n      case \"idle\":\n        return {\n          bgClass: \"bg-gradient-to-br from-blue-50 to-indigo-50\",\n          borderClass: \"border-blue-200\",\n          iconClass: \"text-blue-500\",\n          statusText: null,\n        };\n      case \"recording\":\n        return {\n          bgClass: \"bg-gradient-to-br from-red-50 to-orange-50\",\n          borderClass: \"border-red-300\",\n          iconClass: \"text-red-500 animate-pulse\",\n          statusText: (\n            <Badge\n              status=\"processing\"\n              text=\"ĐANG PHÁT THANH\"\n              className=\"text-lg font-bold text-red-600\"\n            />\n          ),\n        };\n      case \"paused\":\n        return {\n          bgClass: \"bg-gradient-to-br from-amber-50 to-yellow-50\",\n          borderClass: \"border-amber-300\",\n          iconClass: \"text-amber-500\",\n          statusText: (\n            <Badge\n              status=\"warning\"\n              text=\"TẠM DỪNG\"\n              className=\"text-lg font-bold text-amber-600\"\n            />\n          ),\n        };\n      case \"completed\":\n        return {\n          bgClass: \"bg-gradient-to-br from-green-50 to-emerald-50\",\n          borderClass: \"border-green-300\",\n          iconClass: \"text-green-500\",\n          statusText: (\n            <Badge\n              status=\"success\"\n              text=\"ĐÃ KẾT THÚC\"\n              className=\"text-lg font-bold text-green-600\"\n            />\n          ),\n        };\n    }\n  };\n\n  const config = getStatusConfig();\n\n  return (\n    <div\n      className={`${config.bgClass} ${config.borderClass} border-2 rounded-xl p-8 transition-all duration-300`}\n    >\n      {/* Status Badge */}\n      {config.statusText && (\n        <div className=\"flex justify-center mb-4\">{config.statusText}</div>\n      )}\n\n      {/* Microphone Icon */}\n      <div className=\"flex justify-center mb-6\">\n        <div\n          className={`${config.iconClass} transition-all duration-300`}\n          style={{ fontSize: \"120px\" }}\n        >\n          <AudioOutlined />\n        </div>\n      </div>\n\n      {/* Idle State Message */}\n      {status === \"idle\" && (\n        <div className=\"text-center mb-6\">\n          <p className=\"text-xl text-gray-600 font-medium\">\n            Nhấn nút bên dưới để bắt đầu phát thanh\n          </p>\n          <p className=\"text-sm text-gray-500 mt-2\">\n            Vui lòng chọn đơn vị và thiết bị trước khi bắt đầu\n          </p>\n        </div>\n      )}\n\n      {/* Waveform */}\n      {status !== \"idle\" && (\n        <div className=\"mb-6\">\n          <LiveBroadcastWaveform\n            isRecording={status === \"recording\"}\n            audioStream={audioStream}\n            status={status}\n          />\n        </div>\n      )}\n\n      {/* Timer */}\n      {status !== \"idle\" && (\n        <div className=\"text-center mb-6\">\n          <div className=\"text-5xl font-mono font-bold text-gray-800\">\n            {formatTime(duration)}\n          </div>\n        </div>\n      )}\n\n      {/* Device Count */}\n      {status === \"recording\" && deviceCount > 0 && (\n        <div className=\"text-center mb-6\">\n          <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full border-2 border-red-200 shadow-sm\">\n            <span className=\"text-red-500 text-xl\">📡</span>\n            <span className=\"text-sm font-medium text-gray-700\">\n              Đang phát đến{\" \"}\n              <span className=\"font-bold text-red-600\">{deviceCount}</span>{\" \"}\n              thiết bị\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* Controls */}\n      <div className=\"flex justify-center\">\n        <Space size=\"large\">\n          {status === \"idle\" && (\n            <Button\n              type=\"primary\"\n              danger\n              size=\"large\"\n              icon={<AudioOutlined />}\n              onClick={onStart}\n              className=\"h-12 px-8 text-lg font-semibold\"\n            >\n              Bắt đầu phát thanh\n            </Button>\n          )}\n\n          {status === \"recording\" && (\n            <>\n              <Button\n                size=\"large\"\n                icon={<PauseCircleOutlined />}\n                onClick={onPause}\n                className=\"h-12 px-6\"\n              >\n                Tạm dừng\n              </Button>\n              <Button\n                danger\n                size=\"large\"\n                icon={<StopOutlined />}\n                onClick={onStop}\n                className=\"h-12 px-6\"\n              >\n                Kết thúc\n              </Button>\n            </>\n          )}\n\n          {status === \"paused\" && (\n            <>\n              <Button\n                type=\"primary\"\n                size=\"large\"\n                icon={<PlayCircleOutlined />}\n                onClick={onResume}\n                className=\"h-12 px-6\"\n              >\n                Tiếp tục\n              </Button>\n              <Button\n                danger\n                size=\"large\"\n                icon={<StopOutlined />}\n                onClick={onStop}\n                className=\"h-12 px-6\"\n              >\n                Kết thúc\n              </Button>\n            </>\n          )}\n\n          {status === \"completed\" && (\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              icon={<SaveOutlined />}\n              onClick={onSave}\n              className=\"h-12 px-8 text-lg font-semibold bg-green-600 hover:bg-green-700\"\n            >\n              Lưu bản ghi\n            </Button>\n          )}\n        </Space>\n      </div>\n    </div>\n  );\n};\n","import { mockDevices } from \"@/mocks/mockDevice\";\nimport { mockUnits } from \"@/mocks/mockUnit\";\nimport { UnitType } from \"@/models/Unit\";\nimport { buildTree } from \"@/pages/devices/list/utils/build-tree\";\nimport { Checkbox, Select, TreeSelect } from \"antd\";\nimport React, { useMemo } from \"react\";\n\ninterface LiveBroadcastTargetSelectorProps {\n  selectedUnitId: string | null;\n  onUnitChange: (unitId: string | null) => void;\n  selectedDeviceIds: string[];\n  onDeviceIdsChange: (deviceIds: string[]) => void;\n  selectAllDevices: boolean;\n  onSelectAllChange: (selectAll: boolean) => void;\n}\n\nexport const LiveBroadcastTargetSelector: React.FC<\n  LiveBroadcastTargetSelectorProps\n> = ({\n  selectedUnitId,\n  onUnitChange,\n  selectedDeviceIds,\n  onDeviceIdsChange,\n  selectAllDevices,\n  onSelectAllChange,\n}) => {\n  const treeData = useMemo(() => {\n    return buildTree(\n      mockUnits.getAll().filter((u) => u.type !== UnitType.EMPLOYEE)\n    );\n  }, []);\n\n  const availableDevices = useMemo(() => {\n    if (!selectedUnitId) return [];\n\n    // Get all devices for selected unit\n    const devices = mockDevices\n      .getAll()\n      .filter((d) => d.unitId === selectedUnitId);\n\n    return devices.map((d) => ({\n      label: `${d.name} (${d.code})`,\n      value: d.id,\n    }));\n  }, [selectedUnitId]);\n\n  const handleUnitChange = (unitId: string | null) => {\n    onUnitChange(unitId);\n\n    // Auto-select all devices when unit changes\n    if (unitId && selectAllDevices) {\n      const devices = mockDevices.getAll().filter((d) => d.unitId === unitId);\n      onDeviceIdsChange(devices.map((d) => d.id));\n    } else {\n      onDeviceIdsChange([]);\n    }\n  };\n\n  const handleSelectAllChange = (checked: boolean) => {\n    onSelectAllChange(checked);\n\n    if (checked && selectedUnitId) {\n      // Select all devices\n      const devices = mockDevices\n        .getAll()\n        .filter((d) => d.unitId === selectedUnitId);\n      onDeviceIdsChange(devices.map((d) => d.id));\n    } else {\n      onDeviceIdsChange([]);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <h4 className=\"font-semibold text-blue-900 mb-3 flex items-center gap-2\">\n          📍 Chọn phạm vi phát thanh\n        </h4>\n\n        {/* Unit Selection */}\n        <div className=\"mb-3\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Đơn vị <span className=\"text-red-500\">*</span>\n          </label>\n          <TreeSelect\n            showSearch\n            style={{ width: \"100%\" }}\n            value={selectedUnitId}\n            dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\n            placeholder=\"Chọn đơn vị quản lý\"\n            allowClear\n            treeDefaultExpandAll\n            onChange={handleUnitChange}\n            treeData={treeData}\n          />\n        </div>\n\n        {/* Device Selection */}\n        {selectedUnitId && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Thiết bị\n            </label>\n\n            <div className=\"space-y-2\">\n              <Checkbox\n                checked={selectAllDevices}\n                onChange={(e) => handleSelectAllChange(e.target.checked)}\n              >\n                <span className=\"font-medium\">\n                  Tất cả ({availableDevices.length} thiết bị)\n                </span>\n              </Checkbox>\n\n              {!selectAllDevices && (\n                <Select\n                  mode=\"multiple\"\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Chọn thiết bị cụ thể\"\n                  options={availableDevices}\n                  value={selectedDeviceIds}\n                  onChange={onDeviceIdsChange}\n                  maxTagCount=\"responsive\"\n                  showSearch\n                  filterOption={(input, option) =>\n                    (option?.label ?? \"\")\n                      .toLowerCase()\n                      .includes(input.toLowerCase())\n                  }\n                />\n              )}\n            </div>\n\n            {/* Summary */}\n            <div className=\"mt-3 p-2 bg-white rounded border border-blue-200\">\n              <div className=\"text-sm text-gray-600\">\n                📡 Sẽ phát đến:{\" \"}\n                <span className=\"font-semibold text-blue-700\">\n                  {selectedDeviceIds.length} thiết bị\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { message, Modal } from \"antd\";\nimport dayjs from \"dayjs\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { LiveBroadcastRecorder } from \"./LiveBroadcastRecorder\";\nimport { LiveBroadcastTargetSelector } from \"./LiveBroadcastTargetSelector\";\n\ninterface LiveBroadcastModalProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport const LiveBroadcastModal: React.FC<LiveBroadcastModalProps> = ({\n  open,\n  onClose,\n}) => {\n  const [status, setStatus] = useState<\n    \"idle\" | \"recording\" | \"paused\" | \"completed\"\n  >(\"idle\");\n  const [duration, setDuration] = useState(0);\n  const [selectedUnitId, setSelectedUnitId] = useState<string | null>(null);\n  const [selectedDeviceIds, setSelectedDeviceIds] = useState<string[]>([]);\n  const [selectAllDevices, setSelectAllDevices] = useState(true);\n  const [audioStream, setAudioStream] = useState<MediaStream | null>(null);\n  const [audioChunks, setAudioChunks] = useState<Blob[]>([]);\n\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Check browser support\n  const checkBrowserSupport = useCallback(() => {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      Modal.warning({\n        title: \"Trình duyệt không hỗ trợ\",\n        content:\n          \"Trình duyệt của bạn không hỗ trợ ghi âm. Vui lòng sử dụng Chrome, Firefox, hoặc Edge phiên bản mới nhất.\",\n      });\n      return false;\n    }\n    return true;\n  }, []);\n\n  // Request microphone permission\n  const requestMicrophonePermission = useCallback(async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      return stream;\n    } catch (error: any) {\n      if (error.name === \"NotAllowedError\") {\n        message.error(\n          \"Vui lòng cho phép truy cập microphone để sử dụng tính năng này\"\n        );\n      } else if (error.name === \"NotFoundError\") {\n        message.error(\"Không tìm thấy microphone. Vui lòng kiểm tra thiết bị.\");\n      } else {\n        message.error(\"Không thể truy cập microphone: \" + error.message);\n      }\n      return null;\n    }\n  }, []);\n\n  // Start timer\n  const startTimer = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n\n    timerRef.current = setInterval(() => {\n      setDuration((prev) => prev + 1);\n    }, 1000);\n  }, []);\n\n  // Stop timer\n  const stopTimer = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n  }, []);\n\n  // Handle start recording\n  const handleStart = useCallback(async () => {\n    // Validate selection\n    if (!selectedUnitId) {\n      message.warning(\"Vui lòng chọn đơn vị trước khi bắt đầu\");\n      return;\n    }\n\n    if (selectedDeviceIds.length === 0) {\n      message.warning(\"Vui lòng chọn ít nhất một thiết bị\");\n      return;\n    }\n\n    // Check browser support\n    if (!checkBrowserSupport()) {\n      return;\n    }\n\n    // Request microphone permission\n    const stream = await requestMicrophonePermission();\n    if (!stream) {\n      return;\n    }\n\n    setAudioStream(stream);\n\n    // Initialize MediaRecorder\n    const mediaRecorder = new MediaRecorder(stream);\n    mediaRecorderRef.current = mediaRecorder;\n\n    const chunks: Blob[] = [];\n\n    mediaRecorder.ondataavailable = (event) => {\n      if (event.data.size > 0) {\n        chunks.push(event.data);\n      }\n    };\n\n    mediaRecorder.onstop = () => {\n      setAudioChunks(chunks);\n    };\n\n    // Start recording\n    mediaRecorder.start();\n    setStatus(\"recording\");\n    setDuration(0);\n    startTimer();\n\n    message.success(\"Đã bắt đầu phát thanh!\");\n  }, [\n    selectedUnitId,\n    selectedDeviceIds,\n    checkBrowserSupport,\n    requestMicrophonePermission,\n    startTimer,\n  ]);\n\n  // Handle pause\n  const handlePause = useCallback(() => {\n    if (mediaRecorderRef.current && status === \"recording\") {\n      mediaRecorderRef.current.pause();\n      setStatus(\"paused\");\n      stopTimer();\n      message.info(\"Đã tạm dừng phát thanh\");\n    }\n  }, [status, stopTimer]);\n\n  // Handle resume\n  const handleResume = useCallback(() => {\n    if (mediaRecorderRef.current && status === \"paused\") {\n      mediaRecorderRef.current.resume();\n      setStatus(\"recording\");\n      startTimer();\n      message.success(\"Đã tiếp tục phát thanh\");\n    }\n  }, [status, startTimer]);\n\n  // Handle stop\n  const handleStop = useCallback(() => {\n    if (mediaRecorderRef.current) {\n      mediaRecorderRef.current.stop();\n      setStatus(\"completed\");\n      stopTimer();\n\n      // Stop all audio tracks\n      if (audioStream) {\n        audioStream.getTracks().forEach((track) => track.stop());\n      }\n\n      message.success(\"Đã kết thúc phát thanh\");\n    }\n  }, [audioStream, stopTimer]);\n\n  // Handle save\n  const handleSave = useCallback(() => {\n    if (audioChunks.length === 0) {\n      message.warning(\"Không có dữ liệu âm thanh để lưu\");\n      return;\n    }\n\n    // Create blob from chunks\n    const audioBlob = new Blob(audioChunks, { type: \"audio/webm\" });\n\n    // Create download link\n    const url = URL.createObjectURL(audioBlob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `broadcast-${dayjs().format(\"YYYYMMDD-HHmmss\")}.webm`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    message.success(\"Đã lưu bản ghi âm thành công!\");\n\n    // TODO: Upload to server\n    // uploadAudio(audioBlob);\n  }, [audioChunks]);\n\n  // Handle close\n  const handleClose = useCallback(() => {\n    if (status === \"recording\" || status === \"paused\") {\n      Modal.confirm({\n        title: \"Đang phát thanh\",\n        content: \"Bạn có chắc chắn muốn đóng? Bản ghi âm sẽ không được lưu.\",\n        okText: \"Đóng\",\n        okType: \"danger\",\n        cancelText: \"Hủy\",\n        onOk: () => {\n          // Stop recording\n          if (mediaRecorderRef.current) {\n            mediaRecorderRef.current.stop();\n          }\n          if (audioStream) {\n            audioStream.getTracks().forEach((track) => track.stop());\n          }\n          stopTimer();\n\n          // Reset state\n          setStatus(\"idle\");\n          setDuration(0);\n          setAudioStream(null);\n          setAudioChunks([]);\n\n          onClose();\n        },\n      });\n    } else {\n      // Reset state\n      setStatus(\"idle\");\n      setDuration(0);\n      setSelectedUnitId(null);\n      setSelectedDeviceIds([]);\n      setSelectAllDevices(true);\n      setAudioStream(null);\n      setAudioChunks([]);\n\n      onClose();\n    }\n  }, [status, audioStream, stopTimer, onClose]);\n\n  // Auto-manage timer based on status\n  useEffect(() => {\n    if (status === \"recording\") {\n      // Ensure timer is running\n      if (!timerRef.current) {\n        timerRef.current = setInterval(() => {\n          setDuration((prev) => prev + 1);\n        }, 1000);\n      }\n    } else {\n      // Stop timer if not recording\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    }\n  }, [status]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n      if (audioStream) {\n        audioStream.getTracks().forEach((track) => track.stop());\n      }\n    };\n  }, [audioStream]);\n\n  return (\n    <Modal\n      title={\n        <div className=\"flex items-center gap-2 text-xl\">\n          <span className=\"text-2xl\">🎙️</span>\n          <span>Phát thanh trực tiếp</span>\n        </div>\n      }\n      open={open}\n      onCancel={handleClose}\n      footer={null}\n      width={900}\n      centered\n      destroyOnClose\n    >\n      <div className=\"space-y-6\">\n        {/* Recorder UI */}\n        <LiveBroadcastRecorder\n          status={status}\n          duration={duration}\n          audioStream={audioStream}\n          deviceCount={selectedDeviceIds.length}\n          onStart={handleStart}\n          onPause={handlePause}\n          onResume={handleResume}\n          onStop={handleStop}\n          onSave={handleSave}\n        />\n\n        {/* Target Selector */}\n        {status === \"idle\" && (\n          <LiveBroadcastTargetSelector\n            selectedUnitId={selectedUnitId}\n            onUnitChange={setSelectedUnitId}\n            selectedDeviceIds={selectedDeviceIds}\n            onDeviceIdsChange={setSelectedDeviceIds}\n            selectAllDevices={selectAllDevices}\n            onSelectAllChange={setSelectAllDevices}\n          />\n        )}\n\n        {/* Info when recording */}\n        {status !== \"idle\" && (\n          <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n            <div className=\"text-sm text-gray-600\">\n              <div className=\"flex justify-between items-center\">\n                <span>📍 Đơn vị:</span>\n                <span className=\"font-semibold text-gray-800\">\n                  {selectedUnitId || \"N/A\"}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center mt-2\">\n                <span>📡 Thiết bị:</span>\n                <span className=\"font-semibold text-gray-800\">\n                  {selectedDeviceIds.length} thiết bị\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Modal>\n  );\n};\n","// This icon file is generated automatically.\nvar AlertOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"alert\", \"theme\": \"outlined\" };\nexport default AlertOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport AlertOutlinedSvg from \"@ant-design/icons-svg/es/asn/AlertOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar AlertOutlined = function AlertOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: AlertOutlinedSvg\n  }));\n};\n\n/**![alert](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE5MyA3OTZjMCAxNy43IDE0LjMgMzIgMzIgMzJoNTc0YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjU2M2MwLTE3Ni4yLTE0Mi44LTMxOS0zMTktMzE5UzE5MyAzODYuOCAxOTMgNTYzdjIzM3ptNzItMjMzYzAtMTM2LjQgMTEwLjYtMjQ3IDI0Ny0yNDdzMjQ3IDExMC42IDI0NyAyNDd2MTkzSDQwNFY1ODVjMC01LjUtNC41LTEwLTEwLTEwaC00NGMtNS41IDAtMTAgNC41LTEwIDEwdjE3MWgtNzVWNTYzem0tNDguMS0yNTIuNWwzOS42LTM5LjZjMy4xLTMuMSAzLjEtOC4yIDAtMTEuM2wtNjcuOS02Ny45YTguMDMgOC4wMyAwIDAwLTExLjMgMGwtMzkuNiAzOS42YTguMDMgOC4wMyAwIDAwMCAxMS4zbDY3LjkgNjcuOWMzLjEgMy4xIDguMSAzLjEgMTEuMyAwem02NjkuNi03OS4ybC0zOS42LTM5LjZhOC4wMyA4LjAzIDAgMDAtMTEuMyAwbC02Ny45IDY3LjlhOC4wMyA4LjAzIDAgMDAwIDExLjNsMzkuNiAzOS42YzMuMSAzLjEgOC4yIDMuMSAxMS4zIDBsNjcuOS02Ny45YzMuMS0zLjIgMy4xLTguMiAwLTExLjN6TTgzMiA4OTJIMTkyYy0xNy43IDAtMzIgMTQuMy0zMiAzMnYyNGMwIDQuNCAzLjYgOCA4IDhoNjg4YzQuNCAwIDgtMy42IDgtOHYtMjRjMC0xNy43LTE0LjMtMzItMzItMzJ6TTQ4NCAxODBoNTZjNC40IDAgOC0zLjYgOC04Vjc2YzAtNC40LTMuNi04LTgtOGgtNTZjLTQuNCAwLTggMy42LTggOHY5NmMwIDQuNCAzLjYgOCA4IDh6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(AlertOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'AlertOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar FlagOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z\" } }] }, \"name\": \"flag\", \"theme\": \"outlined\" };\nexport default FlagOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FlagOutlinedSvg from \"@ant-design/icons-svg/es/asn/FlagOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar FlagOutlined = function FlagOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: FlagOutlinedSvg\n  }));\n};\n\n/**![flag](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg4MCAzMDVINjI0VjE5MmMwLTE3LjctMTQuMy0zMi0zMi0zMkgxODR2LTQwYzAtNC40LTMuNi04LTgtOGgtNTZjLTQuNCAwLTggMy42LTggOHY3ODRjMCA0LjQgMy42IDggOCA4aDU2YzQuNCAwIDgtMy42IDgtOFY2NDBoMjQ4djExM2MwIDE3LjcgMTQuMyAzMiAzMiAzMmg0MTZjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzM3YzAtMTcuNy0xNC4zLTMyLTMyLTMyek0xODQgNTY4VjIzMmgzNjh2MzM2SDE4NHptNjU2IDE0NUg1MDR2LTczaDExMmM0LjQgMCA4LTMuNiA4LThWMzc3aDIxNnYzMzZ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(FlagOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FlagOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar TeamOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z\" } }] }, \"name\": \"team\", \"theme\": \"outlined\" };\nexport default TeamOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport TeamOutlinedSvg from \"@ant-design/icons-svg/es/asn/TeamOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar TeamOutlined = function TeamOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: TeamOutlinedSvg\n  }));\n};\n\n/**![team](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTgyNC4yIDY5OS45YTMwMS41NSAzMDEuNTUgMCAwMC04Ni40LTYwLjRDNzgzLjEgNjAyLjggODEyIDU0Ni44IDgxMiA0ODRjMC0xMTAuOC05Mi40LTIwMS43LTIwMy4yLTIwMC0xMDkuMSAxLjctMTk3IDkwLjYtMTk3IDIwMCAwIDYyLjggMjkgMTE4LjggNzQuMiAxNTUuNWEzMDAuOTUgMzAwLjk1IDAgMDAtODYuNCA2MC40QzM0NSA3NTQuNiAzMTQgODI2LjggMzEyIDkwMy44YTggOCAwIDAwOCA4LjJoNTZjNC4zIDAgNy45LTMuNCA4LTcuNyAxLjktNTggMjUuNC0xMTIuMyA2Ni43LTE1My41QTIyNi42MiAyMjYuNjIgMCAwMTYxMiA2ODRjNjAuOSAwIDExOC4yIDIzLjcgMTYxLjMgNjYuOEM4MTQuNSA3OTIgODM4IDg0Ni4zIDg0MCA5MDQuM2MuMSA0LjMgMy43IDcuNyA4IDcuN2g1NmE4IDggMCAwMDgtOC4yYy0yLTc3LTMzLTE0OS4yLTg3LjgtMjAzLjl6TTYxMiA2MTJjLTM0LjIgMC02Ni40LTEzLjMtOTAuNS0zNy41YTEyNi44NiAxMjYuODYgMCAwMS0zNy41LTkxLjhjLjMtMzIuOCAxMy40LTY0LjUgMzYuMy04OCAyNC0yNC42IDU2LjEtMzguMyA5MC40LTM4LjcgMzMuOS0uMyA2Ni44IDEyLjkgOTEgMzYuNiAyNC44IDI0LjMgMzguNCA1Ni44IDM4LjQgOTEuNCAwIDM0LjItMTMuMyA2Ni4zLTM3LjUgOTAuNUExMjcuMyAxMjcuMyAwIDAxNjEyIDYxMnpNMzYxLjUgNTEwLjRjLS45LTguNy0xLjQtMTcuNS0xLjQtMjYuNCAwLTE1LjkgMS41LTMxLjQgNC4zLTQ2LjUuNy0zLjYtMS4yLTcuMy00LjUtOC44LTEzLjYtNi4xLTI2LjEtMTQuNS0zNi45LTI1LjFhMTI3LjU0IDEyNy41NCAwIDAxLTM4LjctOTUuNGMuOS0zMi4xIDEzLjgtNjIuNiAzNi4zLTg1LjYgMjQuNy0yNS4zIDU3LjktMzkuMSA5My4yLTM4LjcgMzEuOS4zIDYyLjcgMTIuNiA4NiAzNC40IDcuOSA3LjQgMTQuNyAxNS42IDIwLjQgMjQuNCAyIDMuMSA1LjkgNC40IDkuMyAzLjIgMTcuNi02LjEgMzYuMi0xMC40IDU1LjMtMTIuNCA1LjYtLjYgOC44LTYuNiA2LjMtMTEuNi0zMi41LTY0LjMtOTguOS0xMDguNy0xNzUuNy0xMDkuOS0xMTAuOS0xLjctMjAzLjMgODkuMi0yMDMuMyAxOTkuOSAwIDYyLjggMjguOSAxMTguOCA3NC4yIDE1NS41LTMxLjggMTQuNy02MS4xIDM1LTg2LjUgNjAuNC01NC44IDU0LjctODUuOCAxMjYuOS04Ny44IDIwNGE4IDggMCAwMDggOC4yaDU2LjFjNC4zIDAgNy45LTMuNCA4LTcuNyAxLjktNTggMjUuNC0xMTIuMyA2Ni43LTE1My41IDI5LjQtMjkuNCA2NS40LTQ5LjggMTA0LjctNTkuNyAzLjktMSA2LjUtNC43IDYtOC43eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(TeamOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'TeamOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar ThunderboltOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z\" } }] }, \"name\": \"thunderbolt\", \"theme\": \"outlined\" };\nexport default ThunderboltOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport ThunderboltOutlinedSvg from \"@ant-design/icons-svg/es/asn/ThunderboltOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar ThunderboltOutlined = function ThunderboltOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: ThunderboltOutlinedSvg\n  }));\n};\n\n/**![thunderbolt](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg0OCAzNTkuM0g2MjcuN0w4MjUuOCAxMDljNC4xLTUuMy40LTEzLTYuMy0xM0g0MzZjLTIuOCAwLTUuNSAxLjUtNi45IDRMMTcwIDU0Ny41Yy0zLjEgNS4zLjcgMTIgNi45IDEyaDE3NC40bC04OS40IDM1Ny42Yy0xLjkgNy44IDcuNSAxMy4zIDEzLjMgNy43TDg1My41IDM3M2M1LjItNC45IDEuNy0xMy43LTUuNS0xMy43ek0zNzguMiA3MzIuNWw2MC4zLTI0MUgyODEuMWwxODkuNi0zMjcuNGgyMjQuNkw0ODcgNDI3LjRoMjExTDM3OC4yIDczMi41eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(ThunderboltOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ThunderboltOutlined';\n}\nexport default RefIcon;","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as rangeContainsMarker, H as createEmptyEventStore, I as reduceEventStore, J as rezoneEventStoreDates, K as mergeRawOptions, L as BASE_OPTION_REFINERS, M as CALENDAR_LISTENER_REFINERS, N as CALENDAR_OPTION_REFINERS, O as COMPLEX_OPTION_COMPARATORS, P as VIEW_OPTION_REFINERS, Q as DateEnv, R as DateProfileGenerator, S as createEventUi, U as parseBusinessHours, W as setRef, X as Interaction, Y as getElSeg, Z as elementClosest, _ as EventImpl, $ as listenBySelector, a0 as listenToHoverBySelector, a1 as PureComponent, a2 as buildViewContext, a3 as getUniqueDomId, a4 as parseInteractionSettings, a5 as interactionSettingsStore, a6 as NowTimer, a7 as CalendarImpl, a8 as flushSync, a9 as CalendarRoot, aa as RenderId, ab as ensureElHasStyles, ac as applyStyleProp, ad as sliceEventStore } from './internal-common.js';\nexport { ae as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\n// should be initialized once and stay constant\n// this will change too\nfunction getInitialDate(options, dateEnv, nowManager) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return nowManager.getDateMarker();\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n                dateEnv,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, typeData.dateEnv, dateEnv, clippedFramingRange);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, eventDateEnv, calendarDateEnv, framingRange) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    // https://github.com/fullcalendar/fullcalendar/issues/7934\n    if (startTime) {\n        if (startTime.milliseconds < 0) {\n            // possible for next-day to have negative business hours that go into current day\n            endMarker = addDays(endMarker, 1);\n        }\n        else if (startTime.milliseconds >= 1000 * 60 * 60 * 24) {\n            // possible for prev-day to have >24hr business hours that go into current day\n            dayMarker = addDays(dayMarker, -1);\n        }\n    }\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = calendarDateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(calendarDateEnv.createMarker(eventDateEnv.toDate(instanceStart)));\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n/*\nTODO: test switching timezones when NO timezone plugin\n*/\nclass CalendarNowManager {\n    constructor() {\n        this.resetListeners = new Set();\n    }\n    handleInput(dateEnv, // will change if timezone setup changed\n    nowInput) {\n        const oldDateEnv = this.dateEnv;\n        if (dateEnv !== oldDateEnv) {\n            if (typeof nowInput === 'function') {\n                this.nowFn = nowInput;\n            }\n            else if (!oldDateEnv) { // first time?\n                this.nowAnchorDate = dateEnv.toDate(nowInput\n                    ? dateEnv.createMarker(nowInput)\n                    : dateEnv.createNowMarker());\n                this.nowAnchorQueried = Date.now();\n            }\n            this.dateEnv = dateEnv;\n            // not first time? fire reset handlers\n            if (oldDateEnv) {\n                for (const resetListener of this.resetListeners.values()) {\n                    resetListener();\n                }\n            }\n        }\n    }\n    getDateMarker() {\n        return this.nowAnchorDate\n            ? this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf() +\n                (Date.now() - this.nowAnchorQueried))\n            : this.dateEnv.createMarker(this.nowFn());\n    }\n    addResetListener(handler) {\n        this.resetListeners.add(handler);\n    }\n    removeResetListener(handler) {\n        this.resetListeners.delete(handler);\n    }\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.nowManager = new CalendarNowManager();\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        this.nowManager = new CalendarNowManager();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            nowManager: this.nowManager,\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv, this.nowManager);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            nowManager: this.nowManager,\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ nowManager: this.nowManager, viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        this.nowManager.handleInput(optionsData.dateEnv, refinedOptions.now);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            nowManager: this.nowManager,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.nowManager, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : undefined;\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            createElement(NowTimer, { unit: \"day\" }, (nowDate) => {\n                let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, nowDate, props.viewTitle);\n                return (createElement(Fragment, null,\n                    toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n                    createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                        this.renderView(props),\n                        this.buildAppendContent()),\n                    toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n            })));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.20';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.scrollX - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.scrollY - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.scrollX;\n            this.prevScrollY = window.scrollY;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.scrollX;\n        this.origScreenY = pageY - window.scrollY;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.scrollX) - this.origScreenX;\n        this.deltaY = (pageY - window.scrollY) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.style.userSelect = 'none';\n            mirrorEl.style.webkitUserSelect = 'none';\n            mirrorEl.style.pointerEvents = 'none';\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.scrollX, this.pointerScreenY + window.scrollY);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.scrollX;\n            let pointerScreenY = pageY - window.scrollY;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                /*\n                TODO: fix broken RTL scrolling. canScrollLeft always returning false\n                https://github.com/fullcalendar/fullcalendar/issues/4837\n                */\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                /*\n                TODO: in the future, always have auto-scroll happen on element where current Hit came from\n                Ticket: https://github.com/fullcalendar/fullcalendar/issues/4593\n                */\n                els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.el = el;\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.disablePointCheck = false;\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        // Ensure the component we are querying for the hit is accessibly my the pointer\n                        // Prevents obscured calendars (ex: under a modal dialog) from accepting hit\n                        // https://github.com/fullcalendar/fullcalendar/issues/5026\n                        (this.disablePointCheck ||\n                            offsetTracker.el.contains(offsetTracker.el.getRootNode().elementFromPoint(\n                            // add-back origins to get coordinate relative to top-left of window viewport\n                            positionLeft + originLeft - window.scrollX, positionTop + originTop - window.scrollY))) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, this.eventRange.instance.range.start, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, eventInstanceStart, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(eventInstanceStart);\n        }\n        else {\n            // Moving from allDate->timed\n            // Doesn't matter where on the event the drag began, mutate the event's start-date to date1\n            date0 = eventInstanceStart;\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        let externalDragging = new ExternalElementDragging(dragging, settings.eventData);\n        // The hit-detection system requires that the dnd-mirror-element be pointer-events:none,\n        // but this can't be guaranteed for third-party draggables, so disable\n        externalDragging.hitDragging.disablePointCheck = true;\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n","import React, { Component, createRef, PureComponent } from 'react';\nimport { createPortal, flushSync } from 'react-dom';\nimport { Calendar, } from '@fullcalendar/core';\nimport { CustomRenderingStore, } from '@fullcalendar/core/internal';\nconst reactMajorVersion = parseInt(String(React.version).split('.')[0]);\nconst syncRenderingByDefault = reactMajorVersion < 18;\nexport default class FullCalendar extends Component {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.isUpdating = false;\n        this.isUnmounting = false;\n        this.state = {\n            customRenderingMap: new Map()\n        };\n        this.requestResize = () => {\n            if (!this.isUnmounting) {\n                this.cancelResize();\n                this.resizeId = requestAnimationFrame(() => {\n                    this.doResize();\n                });\n            }\n        };\n    }\n    render() {\n        const customRenderingNodes = [];\n        for (const customRendering of this.state.customRenderingMap.values()) {\n            customRenderingNodes.push(React.createElement(CustomRenderingComponent, { key: customRendering.id, customRendering: customRendering }));\n        }\n        return (React.createElement(\"div\", { ref: this.elRef }, customRenderingNodes));\n    }\n    componentDidMount() {\n        // reset b/c react strict-mode calls componentWillUnmount/componentDidMount\n        this.isUnmounting = false;\n        const customRenderingStore = new CustomRenderingStore();\n        this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n        this.calendar = new Calendar(this.elRef.current, Object.assign(Object.assign({}, this.props), { handleCustomRendering: this.handleCustomRendering }));\n        this.calendar.render();\n        // attaching with .on() will cause this to fire AFTER internal preact rendering did flushSync\n        this.calendar.on('_beforeprint', () => {\n            flushSync(() => {\n                // our `customRenderingMap` state will be flushed at this point\n            });\n        });\n        let lastRequestTimestamp;\n        customRenderingStore.subscribe((customRenderingMap) => {\n            const requestTimestamp = Date.now();\n            const isMounting = !lastRequestTimestamp;\n            const runFunc = (\n            // don't call flushSync if React version already does sync rendering by default\n            // guards against fatal errors:\n            // https://github.com/fullcalendar/fullcalendar/issues/7448\n            syncRenderingByDefault ||\n                //\n                isMounting ||\n                this.isUpdating ||\n                this.isUnmounting ||\n                (requestTimestamp - lastRequestTimestamp) < 100 // rerendering frequently\n            ) ? runNow // either sync rendering (first-time or React 16/17) or async (React 18)\n                : flushSync; // guaranteed sync rendering\n            runFunc(() => {\n                this.setState({ customRenderingMap }, () => {\n                    lastRequestTimestamp = requestTimestamp;\n                    if (isMounting) {\n                        this.doResize();\n                    }\n                    else {\n                        this.requestResize();\n                    }\n                });\n            });\n        });\n    }\n    componentDidUpdate() {\n        this.isUpdating = true;\n        this.calendar.resetOptions(Object.assign(Object.assign({}, this.props), { handleCustomRendering: this.handleCustomRendering }));\n        this.isUpdating = false;\n    }\n    componentWillUnmount() {\n        this.isUnmounting = true;\n        this.cancelResize();\n        this.calendar.destroy();\n    }\n    doResize() {\n        this.calendar.updateSize();\n    }\n    cancelResize() {\n        if (this.resizeId !== undefined) {\n            cancelAnimationFrame(this.resizeId);\n            this.resizeId = undefined;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendar.act = runNow; // DEPRECATED. Not leveraged anymore\nclass CustomRenderingComponent extends PureComponent {\n    render() {\n        const { customRendering } = this.props;\n        const { generatorMeta } = customRendering;\n        const vnode = typeof generatorMeta === 'function' ?\n            generatorMeta(customRendering.renderProps) :\n            generatorMeta;\n        return createPortal(vnode, customRendering.containerEl);\n    }\n}\n// Util\n// -------------------------------------------------------------------------------------------------\nfunction runNow(f) {\n    f();\n}\n//# sourceMappingURL=index.js.map","import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), 'mirror')),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let { nowIndicator, nextDayThreshold } = context.options;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\ninjectStyles(css_248z);\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import {\n  Schedule,\n  ScheduleSourceType,\n  ScheduleStatus,\n  ScheduleType,\n} from \"@/models/Schedule\";\nimport { AbstractMock } from \"@/utils/abstract-mock\";\nimport { mockDevices } from \"./mockDevice\";\nimport { mockUnits } from \"./mockUnit\";\n\n// Helper functions\nconst getRandomElement = <T>(arr: T[]): T =>\n  arr[Math.floor(Math.random() * arr.length)];\nconst getRandomElements = <T>(arr: T[], count: number): T[] => {\n  const shuffled = [...arr].sort(() => 0.5 - Math.random());\n  return shuffled.slice(0, Math.min(count, arr.length));\n};\n\n// Schedule templates\nconst scheduleTemplates = [\n  // Morning broadcasts\n  {\n    title: \"Bản tin sáng\",\n    duration: 30,\n    priority: 7,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Chào cờ đầu tuần\",\n    duration: 15,\n    priority: 8,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Thông báo thời tiết\",\n    duration: 10,\n    priority: 5,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Tin tức trong nước\",\n    duration: 20,\n    priority: 6,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Tin tức quốc tế\",\n    duration: 15,\n    priority: 5,\n    type: ScheduleType.ONE_TIME,\n  },\n\n  // Noon broadcasts\n  {\n    title: \"Bản tin trưa\",\n    duration: 30,\n    priority: 7,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Thông tin thị trường\",\n    duration: 15,\n    priority: 5,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Tư vấn nông nghiệp\",\n    duration: 20,\n    priority: 6,\n    type: ScheduleType.ROUTINE,\n  },\n\n  // Afternoon broadcasts\n  {\n    title: \"Chương trình ca nhạc\",\n    duration: 60,\n    priority: 4,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Tuyên truyền pháp luật\",\n    duration: 30,\n    priority: 6,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Giáo dục sức khỏe\",\n    duration: 25,\n    priority: 5,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Văn hóa địa phương\",\n    duration: 30,\n    priority: 5,\n    type: ScheduleType.ONE_TIME,\n  },\n\n  // Evening broadcasts\n  {\n    title: \"Bản tin tối\",\n    duration: 30,\n    priority: 7,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Chương trình giải trí\",\n    duration: 60,\n    priority: 4,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Nhạc dân ca\",\n    duration: 45,\n    priority: 4,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Thể thao trong tuần\",\n    duration: 30,\n    priority: 5,\n    type: ScheduleType.ROUTINE,\n  },\n\n  // Special broadcasts\n  {\n    title: \"Thông báo khẩn cấp\",\n    duration: 15,\n    priority: 10,\n    type: ScheduleType.EMERGENCY,\n  },\n  {\n    title: \"Cảnh báo thiên tai\",\n    duration: 10,\n    priority: 10,\n    type: ScheduleType.EMERGENCY,\n  },\n  {\n    title: \"Hướng dẫn sơ tán\",\n    duration: 20,\n    priority: 10,\n    type: ScheduleType.EMERGENCY,\n  },\n  {\n    title: \"Thông báo quan trọng\",\n    duration: 15,\n    priority: 9,\n    type: ScheduleType.EMERGENCY,\n  },\n\n  // Educational\n  {\n    title: \"Học tiếng Anh qua radio\",\n    duration: 30,\n    priority: 5,\n    type: ScheduleType.ROUTINE,\n  },\n  {\n    title: \"Kỹ năng sống\",\n    duration: 25,\n    priority: 5,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Tư vấn pháp luật\",\n    duration: 30,\n    priority: 6,\n    type: ScheduleType.ROUTINE,\n  },\n\n  // Community\n  {\n    title: \"Góc thư bạn đọc\",\n    duration: 20,\n    priority: 4,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Câu chuyện làng xóm\",\n    duration: 30,\n    priority: 4,\n    type: ScheduleType.ONE_TIME,\n  },\n  {\n    title: \"Tuyên dương điển hình\",\n    duration: 25,\n    priority: 6,\n    type: ScheduleType.ONE_TIME,\n  },\n];\n\n// Time slots for broadcasts (hour)\nconst timeSlots = [\n  6,\n  6.5,\n  7,\n  7.5,\n  8,\n  8.5,\n  9,\n  9.5,\n  10,\n  10.5,\n  11,\n  11.5, // Morning\n  12,\n  12.5, // Noon\n  14,\n  14.5,\n  15,\n  15.5,\n  16,\n  16.5,\n  17,\n  17.5, // Afternoon\n  18,\n  18.5,\n  19,\n  19.5,\n  20,\n  20.5,\n  21,\n  21.5, // Evening\n];\n\n// Get all ward units for targeting\nconst wardUnits = mockUnits\n  .getAll()\n  .filter((u) => u.id.startsWith(\"ward-\") && !u.id.includes(\"admin\"));\nconst allDevices = mockDevices.getAll();\n\n// Generate schedules\nconst defaultData: Schedule[] = [];\nlet scheduleCounter = 1;\n\n// Current date reference\nconst now = new Date();\nconst currentHour = now.getHours();\nconst currentMinute = now.getMinutes();\n\n// Generate for 20 days (-10 to +10)\nfor (let dayOffset = -10; dayOffset <= 10; dayOffset++) {\n  const targetDate = new Date(now);\n  targetDate.setDate(now.getDate() + dayOffset);\n  targetDate.setHours(0, 0, 0, 0);\n\n  // Determine if this is past, present, or future\n  const isPast = dayOffset < 0;\n  const isToday = dayOffset === 0;\n  const isFuture = dayOffset > 0;\n\n  // Number of schedules for this day (10-20)\n  const schedulesPerDay = Math.floor(Math.random() * 11) + 10; // 10-20\n\n  // Generate schedules for this day\n  for (let i = 0; i < schedulesPerDay; i++) {\n    const template = getRandomElement(scheduleTemplates);\n    const timeSlot = getRandomElement(timeSlots);\n\n    // Calculate start time\n    const startTime = new Date(targetDate);\n    const hours = Math.floor(timeSlot);\n    const minutes = (timeSlot % 1) * 60;\n    startTime.setHours(hours, minutes, 0, 0);\n\n    // Calculate end time\n    const endTime = new Date(startTime);\n    endTime.setMinutes(endTime.getMinutes() + template.duration);\n\n    // Determine if this schedule is currently running\n    const isCurrentlyRunning =\n      isToday &&\n      currentHour === hours &&\n      currentMinute >= minutes &&\n      currentMinute < minutes + template.duration;\n\n    // Determine status based on time and randomness\n    let status: ScheduleStatus;\n\n    if (template.type === ScheduleType.EMERGENCY) {\n      // Emergency schedules\n      if (isPast) {\n        status =\n          Math.random() > 0.8\n            ? ScheduleStatus.CANCELED\n            : ScheduleStatus.COMPLETED;\n      } else if (isCurrentlyRunning) {\n        status = ScheduleStatus.RUNNING;\n      } else {\n        status =\n          Math.random() > 0.5 ? ScheduleStatus.READY : ScheduleStatus.APPROVED;\n      }\n    } else {\n      // Regular schedules\n      if (isPast) {\n        // Past: mostly COMPLETED, some CANCELED\n        const rand = Math.random();\n        if (rand < 0.85) status = ScheduleStatus.COMPLETED;\n        else if (rand < 0.95) status = ScheduleStatus.CANCELED;\n        else status = ScheduleStatus.REJECTED;\n      } else if (isCurrentlyRunning) {\n        status = ScheduleStatus.RUNNING;\n      } else if (isFuture || isToday) {\n        // Future: mix of statuses\n        const rand = Math.random();\n        if (rand < 0.05) status = ScheduleStatus.DRAFT;\n        else if (rand < 0.2) status = ScheduleStatus.PENDING_APPROVAL;\n        else if (rand < 0.45) status = ScheduleStatus.READY;\n        else if (rand < 0.7) status = ScheduleStatus.APPROVED;\n        else if (rand < 0.85) status = ScheduleStatus.READY;\n        else if (rand < 0.95) status = ScheduleStatus.PENDING_APPROVAL;\n        else status = ScheduleStatus.REJECTED;\n      } else {\n        status = ScheduleStatus.READY;\n      }\n    }\n\n    // Determine source type\n    let sourceType: ScheduleSourceType;\n    let sourceUrl: string;\n    let ttsContent: string | undefined;\n    let sourceUnitId: string | undefined;\n    let relayFromLevel: \"PROVINCE\" | \"DISTRICT\" | \"COMMUNE\" | undefined;\n\n    const sourceRand = Math.random();\n    if (sourceRand < 0.5) {\n      // FILE\n      sourceType = ScheduleSourceType.FILE;\n      sourceUrl = `https://storage.example.com/audio/${scheduleCounter}.mp3`;\n    } else if (sourceRand < 0.7) {\n      // STREAM\n      sourceType = ScheduleSourceType.STREAM;\n      sourceUrl = `http://stream.example.com/channel-${\n        Math.floor(Math.random() * 5) + 1\n      }`;\n    } else if (sourceRand < 0.85) {\n      // TTS\n      sourceType = ScheduleSourceType.TTS;\n      sourceUrl = \"\";\n      ttsContent = `Nội dung ${\n        template.title\n      } - ${new Date().toLocaleDateString(\"vi-VN\")}`;\n    } else {\n      // RELAY\n      sourceType = ScheduleSourceType.RELAY;\n      sourceUrl = `relay://province-hanoi/channel-${\n        Math.floor(Math.random() * 3) + 1\n      }`;\n      sourceUnitId = \"province-hanoi\";\n      relayFromLevel = getRandomElement([\"PROVINCE\", \"DISTRICT\"] as const);\n    }\n\n    // Determine targets\n    const targetRand = Math.random();\n    let targetUnitIds: string[] = [];\n    let targetDeviceIds: string[] = [];\n\n    if (targetRand < 0.3) {\n      // Target specific units (1-3 wards)\n      const selectedUnits = getRandomElements(\n        wardUnits,\n        Math.floor(Math.random() * 3) + 1\n      );\n      targetUnitIds = selectedUnits.map((u) => u.id);\n    } else if (targetRand < 0.6) {\n      // Target specific devices (1-10 devices)\n      const selectedDevices = getRandomElements(\n        allDevices,\n        Math.floor(Math.random() * 10) + 1\n      );\n      targetDeviceIds = selectedDevices.map((d) => d.id);\n    } else {\n      // Target by unit (1-5 wards)\n      const selectedUnits = getRandomElements(\n        wardUnits,\n        Math.floor(Math.random() * 5) + 1\n      );\n      targetUnitIds = selectedUnits.map((u) => u.id);\n    }\n\n    // For ROUTINE schedules, add daysOfWeek\n    let daysOfWeek: number[] | undefined;\n    if (template.type === ScheduleType.ROUTINE) {\n      // Random days: weekdays, weekends, or all week\n      const dayPattern = Math.random();\n      if (dayPattern < 0.5) {\n        daysOfWeek = [1, 2, 3, 4, 5]; // Weekdays\n      } else if (dayPattern < 0.7) {\n        daysOfWeek = [0, 6]; // Weekends\n      } else {\n        daysOfWeek = [0, 1, 2, 3, 4, 5, 6]; // All week\n      }\n    }\n\n    // Create schedule\n    const schedule: Schedule = {\n      id: `schedule-${scheduleCounter}`,\n      title: `${template.title} ${\n        dayOffset !== 0 ? `(${dayOffset > 0 ? \"+\" : \"\"}${dayOffset}d)` : \"\"\n      }`,\n      description:\n        Math.random() > 0.7\n          ? `Mô tả chi tiết cho ${template.title}`\n          : undefined,\n      ownerUnitId: targetUnitIds[0] || \"province-hanoi\",\n      type: template.type,\n      priority: template.priority,\n      sourceType,\n      sourceUrl,\n      ttsContent,\n      sourceUnitId,\n      relayFromLevel,\n      startTime,\n      endTime,\n      daysOfWeek,\n      targetUnitIds,\n      targetDeviceIds,\n      status,\n      approvedBy: [\n        ScheduleStatus.APPROVED,\n        ScheduleStatus.RUNNING,\n        ScheduleStatus.COMPLETED,\n      ].includes(status)\n        ? `admin-${Math.floor(Math.random() * 100)}`\n        : undefined,\n      createdAt: new Date(\n        targetDate.getTime() - Math.random() * 7 * 24 * 60 * 60 * 1000\n      ), // Created within last week\n    };\n\n    defaultData.push(schedule);\n    scheduleCounter++;\n  }\n}\n\n// Sort by startTime\ndefaultData.sort((a, b) => a.startTime.getTime() - b.startTime.getTime());\n\nconsole.log(`✅ Generated ${defaultData.length} mock schedules`);\nconsole.log(`📊 Status distribution:`, {\n  DRAFT: defaultData.filter((s) => s.status === ScheduleStatus.DRAFT).length,\n  PENDING_APPROVAL: defaultData.filter(\n    (s) => s.status === ScheduleStatus.PENDING_APPROVAL\n  ).length,\n  READY: defaultData.filter((s) => s.status === ScheduleStatus.READY).length,\n  RUNNING: defaultData.filter((s) => s.status === ScheduleStatus.RUNNING)\n    .length,\n  COMPLETED: defaultData.filter((s) => s.status === ScheduleStatus.COMPLETED)\n    .length,\n  APPROVED: defaultData.filter((s) => s.status === ScheduleStatus.APPROVED)\n    .length,\n  CANCELED: defaultData.filter((s) => s.status === ScheduleStatus.CANCELED)\n    .length,\n  REJECTED: defaultData.filter((s) => s.status === ScheduleStatus.REJECTED)\n    .length,\n});\n\nexport const mockSchedules = new AbstractMock<Schedule>({\n  defaultData,\n});\n","// src/queryObserver.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { fetchState } from \"./query.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  timeUntilStale\n} from \"./utils.js\";\nimport { timeoutManager } from \"./timeoutManager.js\";\nvar QueryObserver = class extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.options = options;\n    this.#client = client;\n    this.#selectError = null;\n    this.#currentThenable = pendingThenable();\n    this.bindMethods();\n    this.setOptions(options);\n  }\n  #client;\n  #currentQuery = void 0;\n  #currentQueryInitialState = void 0;\n  #currentResult = void 0;\n  #currentResultState;\n  #currentResultOptions;\n  #currentThenable;\n  #selectError;\n  #selectFn;\n  #selectResult;\n  // This property keeps track of the last query with defined data.\n  // It will be used to pass the previous data and query to the placeholder function between renders.\n  #lastQueryWithDefinedData;\n  #staleTimeoutId;\n  #refetchIntervalId;\n  #currentRefetchInterval;\n  #trackedProps = /* @__PURE__ */ new Set();\n  bindMethods() {\n    this.refetch = this.refetch.bind(this);\n  }\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.#currentQuery.addObserver(this);\n      if (shouldFetchOnMount(this.#currentQuery, this.options)) {\n        this.#executeFetch();\n      } else {\n        this.updateResult();\n      }\n      this.#updateTimers();\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnReconnect\n    );\n  }\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(\n      this.#currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus\n    );\n  }\n  destroy() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.#clearStaleTimeout();\n    this.#clearRefetchInterval();\n    this.#currentQuery.removeObserver(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    const prevQuery = this.#currentQuery;\n    this.options = this.#client.defaultQueryOptions(options);\n    if (this.options.enabled !== void 0 && typeof this.options.enabled !== \"boolean\" && typeof this.options.enabled !== \"function\" && typeof resolveEnabled(this.options.enabled, this.#currentQuery) !== \"boolean\") {\n      throw new Error(\n        \"Expected enabled to be a boolean or a callback that returns a boolean\"\n      );\n    }\n    this.#updateQuery();\n    this.#currentQuery.setOptions(this.options);\n    if (prevOptions._defaulted && !shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getQueryCache().notify({\n        type: \"observerOptionsUpdated\",\n        query: this.#currentQuery,\n        observer: this\n      });\n    }\n    const mounted = this.hasListeners();\n    if (mounted && shouldFetchOptionally(\n      this.#currentQuery,\n      prevQuery,\n      this.options,\n      prevOptions\n    )) {\n      this.#executeFetch();\n    }\n    this.updateResult();\n    if (mounted && (this.#currentQuery !== prevQuery || resolveEnabled(this.options.enabled, this.#currentQuery) !== resolveEnabled(prevOptions.enabled, this.#currentQuery) || resolveStaleTime(this.options.staleTime, this.#currentQuery) !== resolveStaleTime(prevOptions.staleTime, this.#currentQuery))) {\n      this.#updateStaleTimeout();\n    }\n    const nextRefetchInterval = this.#computeRefetchInterval();\n    if (mounted && (this.#currentQuery !== prevQuery || resolveEnabled(this.options.enabled, this.#currentQuery) !== resolveEnabled(prevOptions.enabled, this.#currentQuery) || nextRefetchInterval !== this.#currentRefetchInterval)) {\n      this.#updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n  getOptimisticResult(options) {\n    const query = this.#client.getQueryCache().build(this.#client, options);\n    const result = this.createResult(query, options);\n    if (shouldAssignObserverCurrentProperties(this, result)) {\n      this.#currentResult = result;\n      this.#currentResultOptions = this.options;\n      this.#currentResultState = this.#currentQuery.state;\n    }\n    return result;\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  trackResult(result, onPropTracked) {\n    return new Proxy(result, {\n      get: (target, key) => {\n        this.trackProp(key);\n        onPropTracked?.(key);\n        if (key === \"promise\") {\n          this.trackProp(\"data\");\n          if (!this.options.experimental_prefetchInRender && this.#currentThenable.status === \"pending\") {\n            this.#currentThenable.reject(\n              new Error(\n                \"experimental_prefetchInRender feature flag is not enabled\"\n              )\n            );\n          }\n        }\n        return Reflect.get(target, key);\n      }\n    });\n  }\n  trackProp(key) {\n    this.#trackedProps.add(key);\n  }\n  getCurrentQuery() {\n    return this.#currentQuery;\n  }\n  refetch({ ...options } = {}) {\n    return this.fetch({\n      ...options\n    });\n  }\n  fetchOptimistic(options) {\n    const defaultedOptions = this.#client.defaultQueryOptions(options);\n    const query = this.#client.getQueryCache().build(this.#client, defaultedOptions);\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n  fetch(fetchOptions) {\n    return this.#executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true\n    }).then(() => {\n      this.updateResult();\n      return this.#currentResult;\n    });\n  }\n  #executeFetch(fetchOptions) {\n    this.#updateQuery();\n    let promise = this.#currentQuery.fetch(\n      this.options,\n      fetchOptions\n    );\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop);\n    }\n    return promise;\n  }\n  #updateStaleTimeout() {\n    this.#clearStaleTimeout();\n    const staleTime = resolveStaleTime(\n      this.options.staleTime,\n      this.#currentQuery\n    );\n    if (isServer || this.#currentResult.isStale || !isValidTimeout(staleTime)) {\n      return;\n    }\n    const time = timeUntilStale(this.#currentResult.dataUpdatedAt, staleTime);\n    const timeout = time + 1;\n    this.#staleTimeoutId = timeoutManager.setTimeout(() => {\n      if (!this.#currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n  #computeRefetchInterval() {\n    return (typeof this.options.refetchInterval === \"function\" ? this.options.refetchInterval(this.#currentQuery) : this.options.refetchInterval) ?? false;\n  }\n  #updateRefetchInterval(nextInterval) {\n    this.#clearRefetchInterval();\n    this.#currentRefetchInterval = nextInterval;\n    if (isServer || resolveEnabled(this.options.enabled, this.#currentQuery) === false || !isValidTimeout(this.#currentRefetchInterval) || this.#currentRefetchInterval === 0) {\n      return;\n    }\n    this.#refetchIntervalId = timeoutManager.setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.#executeFetch();\n      }\n    }, this.#currentRefetchInterval);\n  }\n  #updateTimers() {\n    this.#updateStaleTimeout();\n    this.#updateRefetchInterval(this.#computeRefetchInterval());\n  }\n  #clearStaleTimeout() {\n    if (this.#staleTimeoutId) {\n      timeoutManager.clearTimeout(this.#staleTimeoutId);\n      this.#staleTimeoutId = void 0;\n    }\n  }\n  #clearRefetchInterval() {\n    if (this.#refetchIntervalId) {\n      timeoutManager.clearInterval(this.#refetchIntervalId);\n      this.#refetchIntervalId = void 0;\n    }\n  }\n  createResult(query, options) {\n    const prevQuery = this.#currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.#currentResult;\n    const prevResultState = this.#currentResultState;\n    const prevResultOptions = this.#currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.#currentQueryInitialState;\n    const { state } = query;\n    let newState = { ...state };\n    let isPlaceholderData = false;\n    let data;\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n      if (fetchOnMount || fetchOptionally) {\n        newState = {\n          ...newState,\n          ...fetchState(state.data, query.options)\n        };\n      }\n      if (options._optimisticResults === \"isRestoring\") {\n        newState.fetchStatus = \"idle\";\n      }\n    }\n    let { error, errorUpdatedAt, status } = newState;\n    data = newState.data;\n    let skipSelect = false;\n    if (options.placeholderData !== void 0 && data === void 0 && status === \"pending\") {\n      let placeholderData;\n      if (prevResult?.isPlaceholderData && options.placeholderData === prevResultOptions?.placeholderData) {\n        placeholderData = prevResult.data;\n        skipSelect = true;\n      } else {\n        placeholderData = typeof options.placeholderData === \"function\" ? options.placeholderData(\n          this.#lastQueryWithDefinedData?.state.data,\n          this.#lastQueryWithDefinedData\n        ) : options.placeholderData;\n      }\n      if (placeholderData !== void 0) {\n        status = \"success\";\n        data = replaceData(\n          prevResult?.data,\n          placeholderData,\n          options\n        );\n        isPlaceholderData = true;\n      }\n    }\n    if (options.select && data !== void 0 && !skipSelect) {\n      if (prevResult && data === prevResultState?.data && options.select === this.#selectFn) {\n        data = this.#selectResult;\n      } else {\n        try {\n          this.#selectFn = options.select;\n          data = options.select(data);\n          data = replaceData(prevResult?.data, data, options);\n          this.#selectResult = data;\n          this.#selectError = null;\n        } catch (selectError) {\n          this.#selectError = selectError;\n        }\n      }\n    }\n    if (this.#selectError) {\n      error = this.#selectError;\n      data = this.#selectResult;\n      errorUpdatedAt = Date.now();\n      status = \"error\";\n    }\n    const isFetching = newState.fetchStatus === \"fetching\";\n    const isPending = status === \"pending\";\n    const isError = status === \"error\";\n    const isLoading = isPending && isFetching;\n    const hasData = data !== void 0;\n    const result = {\n      status,\n      fetchStatus: newState.fetchStatus,\n      isPending,\n      isSuccess: status === \"success\",\n      isError,\n      isInitialLoading: isLoading,\n      isLoading,\n      data,\n      dataUpdatedAt: newState.dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: newState.fetchFailureCount,\n      failureReason: newState.fetchFailureReason,\n      errorUpdateCount: newState.errorUpdateCount,\n      isFetched: newState.dataUpdateCount > 0 || newState.errorUpdateCount > 0,\n      isFetchedAfterMount: newState.dataUpdateCount > queryInitialState.dataUpdateCount || newState.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isPending,\n      isLoadingError: isError && !hasData,\n      isPaused: newState.fetchStatus === \"paused\",\n      isPlaceholderData,\n      isRefetchError: isError && hasData,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      promise: this.#currentThenable,\n      isEnabled: resolveEnabled(options.enabled, query) !== false\n    };\n    const nextResult = result;\n    if (this.options.experimental_prefetchInRender) {\n      const hasResultData = nextResult.data !== void 0;\n      const isErrorWithoutData = nextResult.status === \"error\" && !hasResultData;\n      const finalizeThenableIfPossible = (thenable) => {\n        if (isErrorWithoutData) {\n          thenable.reject(nextResult.error);\n        } else if (hasResultData) {\n          thenable.resolve(nextResult.data);\n        }\n      };\n      const recreateThenable = () => {\n        const pending = this.#currentThenable = nextResult.promise = pendingThenable();\n        finalizeThenableIfPossible(pending);\n      };\n      const prevThenable = this.#currentThenable;\n      switch (prevThenable.status) {\n        case \"pending\":\n          if (query.queryHash === prevQuery.queryHash) {\n            finalizeThenableIfPossible(prevThenable);\n          }\n          break;\n        case \"fulfilled\":\n          if (isErrorWithoutData || nextResult.data !== prevThenable.value) {\n            recreateThenable();\n          }\n          break;\n        case \"rejected\":\n          if (!isErrorWithoutData || nextResult.error !== prevThenable.reason) {\n            recreateThenable();\n          }\n          break;\n      }\n    }\n    return nextResult;\n  }\n  updateResult() {\n    const prevResult = this.#currentResult;\n    const nextResult = this.createResult(this.#currentQuery, this.options);\n    this.#currentResultState = this.#currentQuery.state;\n    this.#currentResultOptions = this.options;\n    if (this.#currentResultState.data !== void 0) {\n      this.#lastQueryWithDefinedData = this.#currentQuery;\n    }\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n    this.#currentResult = nextResult;\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n      const { notifyOnChangeProps } = this.options;\n      const notifyOnChangePropsValue = typeof notifyOnChangeProps === \"function\" ? notifyOnChangeProps() : notifyOnChangeProps;\n      if (notifyOnChangePropsValue === \"all\" || !notifyOnChangePropsValue && !this.#trackedProps.size) {\n        return true;\n      }\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.#trackedProps\n      );\n      if (this.options.throwOnError) {\n        includedProps.add(\"error\");\n      }\n      return Object.keys(this.#currentResult).some((key) => {\n        const typedKey = key;\n        const changed = this.#currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n    this.#notify({ listeners: shouldNotifyListeners() });\n  }\n  #updateQuery() {\n    const query = this.#client.getQueryCache().build(this.#client, this.options);\n    if (query === this.#currentQuery) {\n      return;\n    }\n    const prevQuery = this.#currentQuery;\n    this.#currentQuery = query;\n    this.#currentQueryInitialState = query.state;\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n  onQueryUpdate() {\n    this.updateResult();\n    if (this.hasListeners()) {\n      this.#updateTimers();\n    }\n  }\n  #notify(notifyOptions) {\n    notifyManager.batch(() => {\n      if (notifyOptions.listeners) {\n        this.listeners.forEach((listener) => {\n          listener(this.#currentResult);\n        });\n      }\n      this.#client.getQueryCache().notify({\n        query: this.#currentQuery,\n        type: \"observerResultsUpdated\"\n      });\n    });\n  }\n};\nfunction shouldLoadOnMount(query, options) {\n  return resolveEnabled(options.enabled, query) !== false && query.state.data === void 0 && !(query.state.status === \"error\" && options.retryOnMount === false);\n}\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.data !== void 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\nfunction shouldFetchOn(query, options, field) {\n  if (resolveEnabled(options.enabled, query) !== false && resolveStaleTime(options.staleTime, query) !== \"static\") {\n    const value = typeof field === \"function\" ? field(query) : field;\n    return value === \"always\" || value !== false && isStale(query, options);\n  }\n  return false;\n}\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return (query !== prevQuery || resolveEnabled(prevOptions.enabled, query) === false) && (!options.suspense || query.state.status !== \"error\") && isStale(query, options);\n}\nfunction isStale(query, options) {\n  return resolveEnabled(options.enabled, query) !== false && query.isStaleByTime(resolveStaleTime(options.staleTime, query));\n}\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult) {\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true;\n  }\n  return false;\n}\nexport {\n  QueryObserver\n};\n//# sourceMappingURL=queryObserver.js.map","\"use client\";\n\n// src/errorBoundaryUtils.ts\nimport * as React from \"react\";\nimport { shouldThrowError } from \"@tanstack/query-core\";\nvar ensurePreventErrorBoundaryRetry = (options, errorResetBoundary, query) => {\n  const throwOnError = query?.state.error && typeof options.throwOnError === \"function\" ? shouldThrowError(options.throwOnError, [query.state.error, query]) : options.throwOnError;\n  if (options.suspense || options.experimental_prefetchInRender || throwOnError) {\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false;\n    }\n  }\n};\nvar useClearResetErrorBoundary = (errorResetBoundary) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n};\nvar getHasError = ({\n  result,\n  errorResetBoundary,\n  throwOnError,\n  query,\n  suspense\n}) => {\n  return result.isError && !errorResetBoundary.isReset() && !result.isFetching && query && (suspense && result.data === void 0 || shouldThrowError(throwOnError, [result.error, query]));\n};\nexport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n};\n//# sourceMappingURL=errorBoundaryUtils.js.map","\"use client\";\n\n// src/IsRestoringProvider.ts\nimport * as React from \"react\";\nvar IsRestoringContext = React.createContext(false);\nvar useIsRestoring = () => React.useContext(IsRestoringContext);\nvar IsRestoringProvider = IsRestoringContext.Provider;\nexport {\n  IsRestoringProvider,\n  useIsRestoring\n};\n//# sourceMappingURL=IsRestoringProvider.js.map","// src/suspense.ts\nvar defaultThrowOnError = (_error, query) => query.state.data === void 0;\nvar ensureSuspenseTimers = (defaultedOptions) => {\n  if (defaultedOptions.suspense) {\n    const MIN_SUSPENSE_TIME_MS = 1e3;\n    const clamp = (value) => value === \"static\" ? value : Math.max(value ?? MIN_SUSPENSE_TIME_MS, MIN_SUSPENSE_TIME_MS);\n    const originalStaleTime = defaultedOptions.staleTime;\n    defaultedOptions.staleTime = typeof originalStaleTime === \"function\" ? (...args) => clamp(originalStaleTime(...args)) : clamp(originalStaleTime);\n    if (typeof defaultedOptions.gcTime === \"number\") {\n      defaultedOptions.gcTime = Math.max(\n        defaultedOptions.gcTime,\n        MIN_SUSPENSE_TIME_MS\n      );\n    }\n  }\n};\nvar willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nvar shouldSuspend = (defaultedOptions, result) => defaultedOptions?.suspense && result.isPending;\nvar fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).catch(() => {\n  errorResetBoundary.clearReset();\n});\nexport {\n  defaultThrowOnError,\n  ensureSuspenseTimers,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n};\n//# sourceMappingURL=suspense.js.map","\"use client\";\n\n// src/useQuery.ts\nimport { QueryObserver } from \"@tanstack/query-core\";\nimport { useBaseQuery } from \"./useBaseQuery.js\";\nfunction useQuery(options, queryClient) {\n  return useBaseQuery(options, QueryObserver, queryClient);\n}\nexport {\n  useQuery\n};\n//# sourceMappingURL=useQuery.js.map","\"use client\";\n\n// src/useBaseQuery.ts\nimport * as React from \"react\";\nimport { isServer, noop, notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary.js\";\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary\n} from \"./errorBoundaryUtils.js\";\nimport { useIsRestoring } from \"./IsRestoringProvider.js\";\nimport {\n  ensureSuspenseTimers,\n  fetchOptimistic,\n  shouldSuspend,\n  willFetch\n} from \"./suspense.js\";\nfunction useBaseQuery(options, Observer, queryClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof options !== \"object\" || Array.isArray(options)) {\n      throw new Error(\n        'Bad argument type. Starting with v5, only the \"Object\" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object'\n      );\n    }\n  }\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const client = useQueryClient(queryClient);\n  const defaultedOptions = client.defaultQueryOptions(options);\n  client.getDefaultOptions().queries?._experimental_beforeQuery?.(\n    defaultedOptions\n  );\n  const query = client.getQueryCache().get(defaultedOptions.queryHash);\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!defaultedOptions.queryFn) {\n      console.error(\n        `[${defaultedOptions.queryHash}]: No queryFn was passed as an option, and no default queryFn was found. The queryFn parameter is only optional when using a default queryFn. More info here: https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function`\n      );\n    }\n  }\n  defaultedOptions._optimisticResults = isRestoring ? \"isRestoring\" : \"optimistic\";\n  ensureSuspenseTimers(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary, query);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const isNewCacheEntry = !client.getQueryCache().get(defaultedOptions.queryHash);\n  const [observer] = React.useState(\n    () => new Observer(\n      client,\n      defaultedOptions\n    )\n  );\n  const result = observer.getOptimisticResult(defaultedOptions);\n  const shouldSubscribe = !isRestoring && options.subscribed !== false;\n  React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = shouldSubscribe ? observer.subscribe(notifyManager.batchCalls(onStoreChange)) : noop;\n        observer.updateResult();\n        return unsubscribe;\n      },\n      [observer, shouldSubscribe]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  React.useEffect(() => {\n    observer.setOptions(defaultedOptions);\n  }, [defaultedOptions, observer]);\n  if (shouldSuspend(defaultedOptions, result)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  }\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    throwOnError: defaultedOptions.throwOnError,\n    query,\n    suspense: defaultedOptions.suspense\n  })) {\n    throw result.error;\n  }\n  ;\n  client.getDefaultOptions().queries?._experimental_afterQuery?.(\n    defaultedOptions,\n    result\n  );\n  if (defaultedOptions.experimental_prefetchInRender && !isServer && willFetch(result, isRestoring)) {\n    const promise = isNewCacheEntry ? (\n      // Fetch immediately on render in order to ensure `.promise` is resolved even if the component is unmounted\n      fetchOptimistic(defaultedOptions, observer, errorResetBoundary)\n    ) : (\n      // subscribe to the \"cache promise\" so that we can finalize the currentThenable once data comes in\n      query?.promise\n    );\n    promise?.catch(noop).finally(() => {\n      observer.updateResult();\n    });\n  }\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\nexport {\n  useBaseQuery\n};\n//# sourceMappingURL=useBaseQuery.js.map","import { mockSchedules } from \"@/mocks/mockSchedule\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nexport const useSchedules = () => {\n  return useQuery({\n    queryKey: [\"schedules\"],\n    queryFn: async () => {\n      // Simulate network delay\n      await new Promise((resolve) => setTimeout(resolve, 800));\n      return mockSchedules.getAll();\n    },\n  });\n};\n","import {\n  Schedule,\n  ScheduleSourceType,\n  ScheduleStatus,\n  ScheduleType,\n} from \"@/models/Schedule\";\nimport {\n  AlertOutlined,\n  AudioOutlined,\n  ClockCircleOutlined,\n  EyeOutlined,\n  FlagOutlined,\n  LeftOutlined,\n  LinkOutlined,\n  RightOutlined,\n  SoundOutlined,\n  TeamOutlined,\n  ThunderboltOutlined,\n} from \"@ant-design/icons\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport {\n  Button,\n  Card,\n  DatePicker,\n  Segmented,\n  Space,\n  Spin,\n  Tag,\n  Tooltip,\n  Typography,\n} from \"antd\";\nimport type { Dayjs } from \"dayjs\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/vi\";\nimport { useRef, useState } from \"react\";\nimport { useSchedules } from \"../hooks/useSchedules\";\n\ndayjs.locale(\"vi\");\nconst { Text } = Typography;\n\ninterface ScheduleCalendarProps {\n  onEdit?: (id: string) => void;\n  selectedUnitId?: string | null;\n  scheduleFilter?: \"all\" | \"unit\" | \"relay\";\n}\n\nexport const ScheduleCalendar: React.FC<ScheduleCalendarProps> = ({\n  onEdit,\n  selectedUnitId,\n  scheduleFilter = \"all\",\n}) => {\n  const { data: schedules, isLoading } = useSchedules();\n  const calendarRef = useRef<FullCalendar>(null);\n  const [currentDate, setCurrentDate] = useState<Dayjs>(dayjs());\n  const [viewType, setViewType] = useState<string>(\"timeGridWeek\");\n\n  // Import mockDevices and mockUnits for filtering\n  const mockDevices = require(\"@/mocks/mockDevice\").mockDevices;\n  const mockUnits = require(\"@/mocks/mockUnit\").mockUnits;\n\n  // Get all child unit IDs recursively (same logic as ScheduleListTable)\n  const getAllChildUnitIds = (unitId: string): string[] => {\n    const allUnits = mockUnits.getAll();\n    const childIds: string[] = [unitId];\n\n    const findChildren = (parentId: string) => {\n      const children = allUnits.filter((u: any) => u.parentId === parentId);\n      children.forEach((child: any) => {\n        childIds.push(child.id);\n        findChildren(child.id);\n      });\n    };\n\n    findChildren(unitId);\n    return childIds;\n  };\n\n  // Filter by unit\n  const filteredByUnit = (() => {\n    if (!selectedUnitId || !schedules) return schedules;\n\n    const allUnitIds = getAllChildUnitIds(selectedUnitId);\n\n    return schedules.filter((schedule) => {\n      if (allUnitIds.includes(schedule.ownerUnitId)) return true;\n      if (schedule.targetUnitIds.some((id) => allUnitIds.includes(id)))\n        return true;\n\n      const unitDevices = mockDevices\n        .getAll()\n        .filter((d: any) => allUnitIds.includes(d.unitId));\n      const unitDeviceIds = unitDevices.map((d: any) => d.id);\n      if (schedule.targetDeviceIds.some((id) => unitDeviceIds.includes(id)))\n        return true;\n\n      return false;\n    });\n  })();\n\n  // Filter by segment\n  const filteredSchedules = (() => {\n    if (!filteredByUnit) return [];\n\n    switch (scheduleFilter) {\n      case \"all\":\n        return filteredByUnit;\n      case \"unit\":\n        return filteredByUnit.filter(\n          (s) => s.sourceType !== ScheduleSourceType.RELAY\n        );\n      case \"relay\":\n        return filteredByUnit.filter(\n          (s) => s.sourceType === ScheduleSourceType.RELAY\n        );\n      default:\n        return filteredByUnit;\n    }\n  })();\n\n  const handlePrev = () => {\n    const calendarApi = calendarRef.current?.getApi();\n    calendarApi?.prev();\n    setCurrentDate(dayjs(calendarApi?.getDate()));\n  };\n\n  const handleNext = () => {\n    const calendarApi = calendarRef.current?.getApi();\n    calendarApi?.next();\n    setCurrentDate(dayjs(calendarApi?.getDate()));\n  };\n\n  const handleToday = () => {\n    const calendarApi = calendarRef.current?.getApi();\n    calendarApi?.today();\n    setCurrentDate(dayjs(calendarApi?.getDate()));\n  };\n\n  const handleDateChange = (date: Dayjs | null) => {\n    if (date) {\n      const calendarApi = calendarRef.current?.getApi();\n      calendarApi?.gotoDate(date.toDate());\n      setCurrentDate(date);\n    }\n  };\n\n  const handleViewChange = (value: string) => {\n    const calendarApi = calendarRef.current?.getApi();\n    calendarApi?.changeView(value);\n    setViewType(value);\n  };\n\n  const events = filteredSchedules?.map((s) => {\n    const style = getEventStyles(s.status, s.type);\n\n    return {\n      id: s.id,\n      title: s.title,\n      start: s.startTime,\n      end: s.endTime,\n      backgroundColor: style.bg,\n      borderColor: style.border,\n      textColor: style.text,\n      extendedProps: {\n        status: s.status,\n        type: s.type,\n        sourceType: s.sourceType,\n        originalData: s,\n        accentColor: style.border,\n        onEdit,\n      },\n      // For recurring events\n      daysOfWeek: s.daysOfWeek,\n      ...(s.type === ScheduleType.ROUTINE && s.daysOfWeek\n        ? {\n            startTime: s.startTime.toTimeString().slice(0, 8),\n            endTime: s.endTime?.toTimeString().slice(0, 8),\n            startRecur: s.startTime,\n          }\n        : {}),\n    };\n  });\n\n  return (\n    <Card title=\"Lịch phát sóng\" bordered={false} className=\"shadow-md\">\n      <Spin spinning={isLoading}>\n        <div className=\"flex flex-col gap-4 mb-4\">\n          {/* Custom Toolbar */}\n          <div className=\"flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50 p-3 rounded-lg border border-blue-100 shadow-sm\">\n            <Space size=\"middle\">\n              <Button icon={<LeftOutlined />} onClick={handlePrev} />\n              <Button icon={<RightOutlined />} onClick={handleNext} />\n              <Button type=\"primary\" ghost onClick={handleToday}>\n                Hôm nay\n              </Button>\n              <DatePicker\n                value={currentDate}\n                onChange={handleDateChange}\n                allowClear={false}\n                format=\"DD/MM/YYYY\"\n                className=\"w-36\"\n              />\n              <Text strong className=\"text-lg ml-2 capitalize text-blue-900\">\n                {currentDate.format(\"MMMM YYYY\")}\n              </Text>\n            </Space>\n\n            <Segmented\n              value={viewType}\n              onChange={handleViewChange}\n              options={[\n                { label: \"Tháng\", value: \"dayGridMonth\" },\n                { label: \"Tuần\", value: \"timeGridWeek\" },\n                { label: \"Ngày\", value: \"timeGridDay\" },\n              ]}\n            />\n          </div>\n\n          <div className=\"h-[600px]\">\n            <FullCalendar\n              ref={calendarRef}\n              plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n              initialView=\"timeGridWeek\"\n              headerToolbar={false}\n              events={events}\n              eventContent={renderEventContent}\n              locale=\"vi\"\n              firstDay={1}\n              slotMinTime=\"00:00:00\"\n              slotMaxTime=\"24:00:00\"\n              allDaySlot={false}\n              height=\"100%\"\n              slotEventOverlap={false}\n              dayMaxEvents={true}\n              datesSet={(arg) => setCurrentDate(dayjs(arg.view.currentStart))}\n            />\n            <style>{`\n                .fc-event {\n                    transition: all 0.2s ease;\n                    cursor: pointer;\n                }\n                .fc-event:hover {\n                    transform: translateY(-1px);\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;\n                }\n            `}</style>\n          </div>\n        </div>\n      </Spin>\n\n      {/* Updated Legend */}\n      <div className=\"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n        <Text strong className=\"block mb-3 text-gray-700\">\n          Chú thích trạng thái:\n        </Text>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n          <LegendItem color=\"#10B981\" label=\"Đang chạy\" />\n          <LegendItem color=\"#06B6D4\" label=\"Sẵn sàng\" />\n          <LegendItem color=\"#3B82F6\" label=\"Đã hoàn thành\" />\n          <LegendItem color=\"#2563EB\" label=\"Đã duyệt\" />\n          <LegendItem color=\"#F59E0B\" label=\"Chờ duyệt\" />\n          <LegendItem color=\"#9CA3AF\" label=\"Nháp\" />\n          <LegendItem color=\"#64748B\" label=\"Đã hủy\" />\n          <LegendItem color=\"#DC2626\" label=\"Khẩn cấp / Từ chối\" />\n        </div>\n      </div>\n    </Card>\n  );\n};\n\n// Legend Item Component\nconst LegendItem: React.FC<{ color: string; label: string }> = ({\n  color,\n  label,\n}) => (\n  <div className=\"flex items-center gap-2\">\n    <div\n      className=\"w-3 h-3 rounded-full shadow-sm\"\n      style={{ backgroundColor: color }}\n    ></div>\n    <Text className=\"text-sm text-gray-600\">{label}</Text>\n  </div>\n);\n\n// Event Content Renderer\nfunction renderEventContent(eventInfo: any) {\n  const { extendedProps, title } = eventInfo.event;\n  const { timeText } = eventInfo;\n  const schedule = extendedProps.originalData as Schedule;\n\n  // Source Icon & Text\n  const sourceInfo = getSourceInfo(schedule.sourceType);\n\n  // Duration\n  const start = dayjs(schedule.startTime);\n  const end = schedule.endTime ? dayjs(schedule.endTime) : start.add(1, \"hour\");\n  const duration = end.diff(start, \"minute\");\n\n  // Target Count\n  const targetCount =\n    (schedule.targetUnitIds?.length || 0) +\n    (schedule.targetDeviceIds?.length || 0);\n\n  // Priority Badge\n  const priorityBadge = getPriorityBadge(schedule.priority);\n\n  // Relay Info\n  const relayInfo =\n    schedule.sourceType === ScheduleSourceType.RELAY\n      ? getRelayInfo(schedule)\n      : null;\n\n  // Tooltip Content with Action Buttons\n  const tooltipContent = (\n    <div className=\"min-w-[280px] max-w-[350px]\">\n      {/* Header */}\n      <div className=\"flex items-start justify-between gap-2 mb-3 pb-2 border-b border-gray-200\">\n        <div className=\"flex-1\">\n          <div className=\"font-bold text-base text-blue-700 mb-1\">{title}</div>\n          <div className=\"flex gap-2 flex-wrap\">\n            <Tag color={getStatusColor(schedule.status)} className=\"text-xs\">\n              {getScheduleStatusLabel(schedule.status)}\n            </Tag>\n            {schedule.type === ScheduleType.EMERGENCY && (\n              <Tag color=\"red\" icon={<AlertOutlined />} className=\"text-xs\">\n                KHẨN CẤP\n              </Tag>\n            )}\n            {priorityBadge}\n          </div>\n        </div>\n      </div>\n\n      {/* Details */}\n      <div className=\"space-y-2 text-sm mb-3\">\n        <DetailRow\n          icon={<ClockCircleOutlined />}\n          label=\"Thời gian\"\n          value={`${timeText} (${duration} phút)`}\n        />\n        <DetailRow\n          icon={sourceInfo.icon}\n          label=\"Nguồn phát\"\n          value={sourceInfo.text}\n        />\n        <DetailRow\n          icon={<TeamOutlined />}\n          label=\"Phạm vi\"\n          value={\n            targetCount > 0 ? `${targetCount} điểm phát` : \"Toàn bộ hệ thống\"\n          }\n        />\n\n        {relayInfo && (\n          <DetailRow\n            icon={<ThunderboltOutlined />}\n            label=\"Tiếp sóng\"\n            value={relayInfo}\n          />\n        )}\n\n        {schedule.description && (\n          <div className=\"pt-2 border-t border-gray-100\">\n            <Text className=\"text-xs text-gray-500 italic\">\n              {schedule.description}\n            </Text>\n          </div>\n        )}\n      </div>\n\n      {/* Action Buttons */}\n      {extendedProps.onEdit && (\n        <div className=\"flex gap-2 pt-2 border-t border-gray-200\">\n          <Button\n            type=\"primary\"\n            size=\"small\"\n            icon={<EyeOutlined />}\n            onClick={(e) => {\n              e.stopPropagation();\n              extendedProps.onEdit(schedule.id);\n            }}\n            className=\"flex-1\"\n          >\n            Xem chi tiết\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n\n  // Event Card Display\n  return (\n    <Tooltip\n      title={tooltipContent}\n      placement=\"rightTop\"\n      color=\"white\"\n      overlayInnerStyle={{\n        color: \"black\",\n        padding: \"12px\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n      }}\n      overlayStyle={{ maxWidth: \"400px\" }}\n    >\n      <div\n        className=\"p-1.5 h-full flex flex-col rounded-md shadow-sm hover:shadow-md transition-all cursor-pointer\"\n        style={{\n          backgroundColor: extendedProps.accentColor,\n          color: \"#FFFFFF\",\n          borderLeft: `4px solid rgba(0,0,0,0.2)`,\n        }}\n      >\n        {/* Time & Priority */}\n        <div className=\"font-semibold text-xs opacity-95 flex justify-between items-center mb-1\">\n          <span>{timeText}</span>\n          <div className=\"flex gap-1 items-center\">\n            {schedule.priority >= 8 && (\n              <FlagOutlined className=\"text-white animate-pulse\" />\n            )}\n            {schedule.type === ScheduleType.EMERGENCY && (\n              <AlertOutlined className=\"text-white animate-pulse\" />\n            )}\n          </div>\n        </div>\n\n        {/* Title */}\n        <div className=\"font-bold text-sm leading-tight flex-1 line-clamp-2 mb-1\">\n          {title}\n        </div>\n\n        {/* Mini Icons Footer */}\n        <div className=\"mt-auto flex gap-2 opacity-90 text-xs items-center\">\n          {sourceInfo.icon}\n          {targetCount > 0 && (\n            <span className=\"flex items-center gap-0.5\">\n              <TeamOutlined />\n              <span className=\"text-[10px]\">{targetCount}</span>\n            </span>\n          )}\n          {schedule.sourceType === ScheduleSourceType.RELAY && (\n            <ThunderboltOutlined />\n          )}\n        </div>\n      </div>\n    </Tooltip>\n  );\n}\n\n// Helper Components\nconst DetailRow: React.FC<{\n  icon: React.ReactNode;\n  label: string;\n  value: React.ReactNode;\n}> = ({ icon, label, value }) => (\n  <div className=\"flex gap-2 items-start\">\n    <span className=\"text-gray-400 mt-0.5\">{icon}</span>\n    <div className=\"flex-1 flex gap-2\">\n      <span className=\"text-gray-500 font-medium min-w-[80px]\">{label}:</span>\n      <span className=\"text-gray-700 flex-1\">{value}</span>\n    </div>\n  </div>\n);\n\n// Helper Functions\nconst getSourceInfo = (sourceType: ScheduleSourceType) => {\n  switch (sourceType) {\n    case ScheduleSourceType.STREAM:\n      return { icon: <LinkOutlined />, text: \"Tiếp sóng trực tiếp\" };\n    case ScheduleSourceType.TTS:\n      return { icon: <SoundOutlined />, text: \"Chuyển văn bản (TTS)\" };\n    case ScheduleSourceType.RELAY:\n      return { icon: <ThunderboltOutlined />, text: \"Tiếp sóng từ cấp trên\" };\n    case ScheduleSourceType.FILE:\n    default:\n      return { icon: <AudioOutlined />, text: \"File âm thanh\" };\n  }\n};\n\nconst getPriorityBadge = (priority: number) => {\n  if (priority >= 8) {\n    return (\n      <Tag color=\"red\" icon={<FlagOutlined />} className=\"text-xs\">\n        Ưu tiên cao\n      </Tag>\n    );\n  }\n  if (priority >= 5) {\n    return (\n      <Tag color=\"orange\" className=\"text-xs\">\n        Ưu tiên TB\n      </Tag>\n    );\n  }\n  return null;\n};\n\nconst getRelayInfo = (schedule: Schedule) => {\n  const parts = [];\n  if (schedule.relayFromLevel) {\n    const levelMap = {\n      PROVINCE: \"Tỉnh\",\n      DISTRICT: \"Huyện\",\n      COMMUNE: \"Xã\",\n    };\n    parts.push(`Từ cấp ${levelMap[schedule.relayFromLevel]}`);\n  }\n  if (schedule.sourceUnitId) {\n    parts.push(`Đơn vị: ${schedule.sourceUnitId}`);\n  }\n  return parts.join(\" • \") || \"Tiếp sóng từ cấp trên\";\n};\n\nconst getEventStyles = (status: ScheduleStatus, type: ScheduleType) => {\n  // Emergency overrides all\n  if (type === ScheduleType.EMERGENCY) {\n    return { bg: \"#FEE2E2\", border: \"#DC2626\", text: \"#991B1B\" };\n  }\n\n  switch (status) {\n    case ScheduleStatus.RUNNING:\n      return { bg: \"#D1FAE5\", border: \"#10B981\", text: \"#065F46\" };\n    case ScheduleStatus.READY:\n      return { bg: \"#CFFAFE\", border: \"#06B6D4\", text: \"#164E63\" };\n    case ScheduleStatus.COMPLETED:\n      return { bg: \"#DBEAFE\", border: \"#3B82F6\", text: \"#1E40AF\" };\n    case ScheduleStatus.APPROVED:\n      return { bg: \"#EFF6FF\", border: \"#2563EB\", text: \"#1E3A8A\" };\n    case ScheduleStatus.PENDING_APPROVAL:\n      return { bg: \"#FEF3C7\", border: \"#F59E0B\", text: \"#92400E\" };\n    case ScheduleStatus.DRAFT:\n      return { bg: \"#F3F4F6\", border: \"#9CA3AF\", text: \"#374151\" };\n    case ScheduleStatus.CANCELED:\n      return { bg: \"#F1F5F9\", border: \"#64748B\", text: \"#334155\" };\n    case ScheduleStatus.REJECTED:\n      return { bg: \"#FEE2E2\", border: \"#EF4444\", text: \"#991B1B\" };\n    default:\n      return { bg: \"#F9FAFB\", border: \"#D1D5DB\", text: \"#6B7280\" };\n  }\n};\n\nconst getStatusColor = (status: ScheduleStatus) => {\n  switch (status) {\n    case ScheduleStatus.RUNNING:\n      return \"green\";\n    case ScheduleStatus.READY:\n      return \"cyan\";\n    case ScheduleStatus.COMPLETED:\n      return \"blue\";\n    case ScheduleStatus.APPROVED:\n      return \"blue\";\n    case ScheduleStatus.PENDING_APPROVAL:\n      return \"orange\";\n    case ScheduleStatus.DRAFT:\n      return \"default\";\n    case ScheduleStatus.CANCELED:\n      return \"default\";\n    case ScheduleStatus.REJECTED:\n      return \"red\";\n    default:\n      return \"default\";\n  }\n};\n\nconst getScheduleStatusLabel = (status: ScheduleStatus) => {\n  switch (status) {\n    case ScheduleStatus.RUNNING:\n      return \"Đang chạy\";\n    case ScheduleStatus.READY:\n      return \"Sẵn sàng\";\n    case ScheduleStatus.COMPLETED:\n      return \"Đã hoàn thành\";\n    case ScheduleStatus.PENDING_APPROVAL:\n      return \"Chờ duyệt\";\n    case ScheduleStatus.APPROVED:\n      return \"Đã duyệt\";\n    case ScheduleStatus.DRAFT:\n      return \"Nháp\";\n    case ScheduleStatus.CANCELED:\n      return \"Đã hủy\";\n    case ScheduleStatus.REJECTED:\n      return \"Từ chối\";\n    default:\n      return status;\n  }\n};\n","const DEFAULT_COLUMN_MAP = {\n  xxl: 3,\n  xl: 3,\n  lg: 3,\n  md: 3,\n  sm: 2,\n  xs: 1\n};\nexport default DEFAULT_COLUMN_MAP;","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { matchScreen } from '../../_util/responsiveObserver';\n// Convert children into items\nconst transChildren2Items = childNodes => toArray(childNodes).map(node => Object.assign(Object.assign({}, node === null || node === void 0 ? void 0 : node.props), {\n  key: node.key\n}));\nexport default function useItems(screens, items, children) {\n  const mergedItems = React.useMemo(() =>\n  // Take `items` first or convert `children` into items\n  items || transChildren2Items(children), [items, children]);\n  const responsiveItems = React.useMemo(() => mergedItems.map(_a => {\n    var {\n        span\n      } = _a,\n      restItem = __rest(_a, [\"span\"]);\n    if (span === 'filled') {\n      return Object.assign(Object.assign({}, restItem), {\n        filled: true\n      });\n    }\n    return Object.assign(Object.assign({}, restItem), {\n      span: typeof span === 'number' ? span : matchScreen(screens, span)\n    });\n  }), [mergedItems, screens]);\n  return responsiveItems;\n}","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useMemo } from 'react';\nimport { devUseWarning } from '../../_util/warning';\n// Calculate the sum of span in a row\nfunction getCalcRows(rowItems, mergedColumn) {\n  let rows = [];\n  let tmpRow = [];\n  let exceed = false;\n  let count = 0;\n  rowItems.filter(n => n).forEach(rowItem => {\n    const {\n        filled\n      } = rowItem,\n      restItem = __rest(rowItem, [\"filled\"]);\n    if (filled) {\n      tmpRow.push(restItem);\n      rows.push(tmpRow);\n      // reset\n      tmpRow = [];\n      count = 0;\n      return;\n    }\n    const restSpan = mergedColumn - count;\n    count += rowItem.span || 1;\n    if (count >= mergedColumn) {\n      if (count > mergedColumn) {\n        exceed = true;\n        tmpRow.push(Object.assign(Object.assign({}, restItem), {\n          span: restSpan\n        }));\n      } else {\n        tmpRow.push(restItem);\n      }\n      rows.push(tmpRow);\n      // reset\n      tmpRow = [];\n      count = 0;\n    } else {\n      tmpRow.push(restItem);\n    }\n  });\n  if (tmpRow.length > 0) {\n    rows.push(tmpRow);\n  }\n  rows = rows.map(rows => {\n    const count = rows.reduce((acc, item) => acc + (item.span || 1), 0);\n    if (count < mergedColumn) {\n      // If the span of the last element in the current row is less than the column, then add its span to the remaining columns\n      const last = rows[rows.length - 1];\n      last.span = mergedColumn - (count - (last.span || 1));\n      return rows;\n    }\n    return rows;\n  });\n  return [rows, exceed];\n}\nconst useRow = (mergedColumn, items) => {\n  const [rows, exceed] = useMemo(() => getCalcRows(items, mergedColumn), [items, mergedColumn]);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Descriptions');\n    process.env.NODE_ENV !== \"production\" ? warning(!exceed, 'usage', 'Sum of column `span` in a line not match `column` of Descriptions.') : void 0;\n  }\n  return rows;\n};\nexport default useRow;","\"use client\";\n\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport DescriptionsContext from './DescriptionsContext';\nconst isNonNullable = val => {\n  return val !== undefined && val !== null;\n};\nconst Cell = props => {\n  const {\n    itemPrefixCls,\n    component,\n    span,\n    className,\n    style,\n    labelStyle,\n    contentStyle,\n    bordered,\n    label,\n    content,\n    colon,\n    type,\n    styles\n  } = props;\n  const Component = component;\n  const {\n    classNames: ctxClassNames\n  } = React.useContext(DescriptionsContext);\n  const mergedLabelStyle = Object.assign(Object.assign({}, labelStyle), styles === null || styles === void 0 ? void 0 : styles.label);\n  const mergedContentStyle = Object.assign(Object.assign({}, contentStyle), styles === null || styles === void 0 ? void 0 : styles.content);\n  if (bordered) {\n    return /*#__PURE__*/React.createElement(Component, {\n      colSpan: span,\n      style: style,\n      className: classnames(className, {\n        [`${itemPrefixCls}-item-${type}`]: type === 'label' || type === 'content',\n        [ctxClassNames === null || ctxClassNames === void 0 ? void 0 : ctxClassNames.label]: (ctxClassNames === null || ctxClassNames === void 0 ? void 0 : ctxClassNames.label) && type === 'label',\n        [ctxClassNames === null || ctxClassNames === void 0 ? void 0 : ctxClassNames.content]: (ctxClassNames === null || ctxClassNames === void 0 ? void 0 : ctxClassNames.content) && type === 'content'\n      })\n    }, isNonNullable(label) && /*#__PURE__*/React.createElement(\"span\", {\n      style: mergedLabelStyle\n    }, label), isNonNullable(content) && /*#__PURE__*/React.createElement(\"span\", {\n      style: mergedContentStyle\n    }, content));\n  }\n  return /*#__PURE__*/React.createElement(Component, {\n    colSpan: span,\n    style: style,\n    className: classnames(`${itemPrefixCls}-item`, className)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${itemPrefixCls}-item-container`\n  }, isNonNullable(label) && (/*#__PURE__*/React.createElement(\"span\", {\n    style: mergedLabelStyle,\n    className: classnames(`${itemPrefixCls}-item-label`, ctxClassNames === null || ctxClassNames === void 0 ? void 0 : ctxClassNames.label, {\n      [`${itemPrefixCls}-item-no-colon`]: !colon\n    })\n  }, label)), isNonNullable(content) && (/*#__PURE__*/React.createElement(\"span\", {\n    style: mergedContentStyle,\n    className: classnames(`${itemPrefixCls}-item-content`, ctxClassNames === null || ctxClassNames === void 0 ? void 0 : ctxClassNames.content)\n  }, content))));\n};\nexport default Cell;","\"use client\";\n\nimport * as React from 'react';\nimport Cell from './Cell';\nimport DescriptionsContext from './DescriptionsContext';\nfunction renderCells(items, {\n  colon,\n  prefixCls,\n  bordered\n}, {\n  component,\n  type,\n  showLabel,\n  showContent,\n  labelStyle: rootLabelStyle,\n  contentStyle: rootContentStyle,\n  styles: rootStyles\n}) {\n  return items.map(({\n    label,\n    children,\n    prefixCls: itemPrefixCls = prefixCls,\n    className,\n    style,\n    labelStyle,\n    contentStyle,\n    span = 1,\n    key,\n    styles\n  }, index) => {\n    if (typeof component === 'string') {\n      return /*#__PURE__*/React.createElement(Cell, {\n        key: `${type}-${key || index}`,\n        className: className,\n        style: style,\n        styles: {\n          label: Object.assign(Object.assign(Object.assign(Object.assign({}, rootLabelStyle), rootStyles === null || rootStyles === void 0 ? void 0 : rootStyles.label), labelStyle), styles === null || styles === void 0 ? void 0 : styles.label),\n          content: Object.assign(Object.assign(Object.assign(Object.assign({}, rootContentStyle), rootStyles === null || rootStyles === void 0 ? void 0 : rootStyles.content), contentStyle), styles === null || styles === void 0 ? void 0 : styles.content)\n        },\n        span: span,\n        colon: colon,\n        component: component,\n        itemPrefixCls: itemPrefixCls,\n        bordered: bordered,\n        label: showLabel ? label : null,\n        content: showContent ? children : null,\n        type: type\n      });\n    }\n    return [/*#__PURE__*/React.createElement(Cell, {\n      key: `label-${key || index}`,\n      className: className,\n      style: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, rootLabelStyle), rootStyles === null || rootStyles === void 0 ? void 0 : rootStyles.label), style), labelStyle), styles === null || styles === void 0 ? void 0 : styles.label),\n      span: 1,\n      colon: colon,\n      component: component[0],\n      itemPrefixCls: itemPrefixCls,\n      bordered: bordered,\n      label: label,\n      type: \"label\"\n    }), /*#__PURE__*/React.createElement(Cell, {\n      key: `content-${key || index}`,\n      className: className,\n      style: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, rootContentStyle), rootStyles === null || rootStyles === void 0 ? void 0 : rootStyles.content), style), contentStyle), styles === null || styles === void 0 ? void 0 : styles.content),\n      span: span * 2 - 1,\n      component: component[1],\n      itemPrefixCls: itemPrefixCls,\n      bordered: bordered,\n      content: children,\n      type: \"content\"\n    })];\n  });\n}\nconst Row = props => {\n  const descContext = React.useContext(DescriptionsContext);\n  const {\n    prefixCls,\n    vertical,\n    row,\n    index,\n    bordered\n  } = props;\n  if (vertical) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n      key: `label-${index}`,\n      className: `${prefixCls}-row`\n    }, renderCells(row, props, Object.assign({\n      component: 'th',\n      type: 'label',\n      showLabel: true\n    }, descContext))), /*#__PURE__*/React.createElement(\"tr\", {\n      key: `content-${index}`,\n      className: `${prefixCls}-row`\n    }, renderCells(row, props, Object.assign({\n      component: 'td',\n      type: 'content',\n      showContent: true\n    }, descContext))));\n  }\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    className: `${prefixCls}-row`\n  }, renderCells(row, props, Object.assign({\n    component: bordered ? ['th', 'td'] : 'td',\n    type: 'item',\n    showLabel: true,\n    showContent: true\n  }, descContext)));\n};\nexport default Row;","import { unit } from '@ant-design/cssinjs';\nimport { resetComponent, textEllipsis } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\nconst genBorderedStyle = token => {\n  const {\n    componentCls,\n    labelBg\n  } = token;\n  return {\n    [`&${componentCls}-bordered`]: {\n      [`> ${componentCls}-view`]: {\n        border: `${unit(token.lineWidth)} ${token.lineType} ${token.colorSplit}`,\n        '> table': {\n          tableLayout: 'auto'\n        },\n        [`${componentCls}-row`]: {\n          borderBottom: `${unit(token.lineWidth)} ${token.lineType} ${token.colorSplit}`,\n          '&:first-child': {\n            '> th:first-child, > td:first-child': {\n              borderStartStartRadius: token.borderRadiusLG\n            }\n          },\n          '&:last-child': {\n            borderBottom: 'none',\n            '> th:first-child, > td:first-child': {\n              borderEndStartRadius: token.borderRadiusLG\n            }\n          },\n          [`> ${componentCls}-item-label, > ${componentCls}-item-content`]: {\n            padding: `${unit(token.padding)} ${unit(token.paddingLG)}`,\n            borderInlineEnd: `${unit(token.lineWidth)} ${token.lineType} ${token.colorSplit}`,\n            '&:last-child': {\n              borderInlineEnd: 'none'\n            }\n          },\n          [`> ${componentCls}-item-label`]: {\n            color: token.colorTextSecondary,\n            backgroundColor: labelBg,\n            '&::after': {\n              display: 'none'\n            }\n          }\n        }\n      },\n      [`&${componentCls}-middle`]: {\n        [`${componentCls}-row`]: {\n          [`> ${componentCls}-item-label, > ${componentCls}-item-content`]: {\n            padding: `${unit(token.paddingSM)} ${unit(token.paddingLG)}`\n          }\n        }\n      },\n      [`&${componentCls}-small`]: {\n        [`${componentCls}-row`]: {\n          [`> ${componentCls}-item-label, > ${componentCls}-item-content`]: {\n            padding: `${unit(token.paddingXS)} ${unit(token.padding)}`\n          }\n        }\n      }\n    }\n  };\n};\nconst genDescriptionStyles = token => {\n  const {\n    componentCls,\n    extraColor,\n    itemPaddingBottom,\n    itemPaddingEnd,\n    colonMarginRight,\n    colonMarginLeft,\n    titleMarginBottom\n  } = token;\n  return {\n    [componentCls]: Object.assign(Object.assign(Object.assign({}, resetComponent(token)), genBorderedStyle(token)), {\n      '&-rtl': {\n        direction: 'rtl'\n      },\n      [`${componentCls}-header`]: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: titleMarginBottom\n      },\n      [`${componentCls}-title`]: Object.assign(Object.assign({}, textEllipsis), {\n        flex: 'auto',\n        color: token.titleColor,\n        fontWeight: token.fontWeightStrong,\n        fontSize: token.fontSizeLG,\n        lineHeight: token.lineHeightLG\n      }),\n      [`${componentCls}-extra`]: {\n        marginInlineStart: 'auto',\n        color: extraColor,\n        fontSize: token.fontSize\n      },\n      [`${componentCls}-view`]: {\n        width: '100%',\n        borderRadius: token.borderRadiusLG,\n        table: {\n          width: '100%',\n          tableLayout: 'fixed',\n          borderCollapse: 'collapse'\n        }\n      },\n      [`${componentCls}-row`]: {\n        '> th, > td': {\n          paddingBottom: itemPaddingBottom,\n          paddingInlineEnd: itemPaddingEnd\n        },\n        '> th:last-child, > td:last-child': {\n          paddingInlineEnd: 0\n        },\n        '&:last-child': {\n          borderBottom: 'none',\n          '> th, > td': {\n            paddingBottom: 0\n          }\n        }\n      },\n      [`${componentCls}-item-label`]: {\n        color: token.labelColor,\n        fontWeight: 'normal',\n        fontSize: token.fontSize,\n        lineHeight: token.lineHeight,\n        textAlign: 'start',\n        '&::after': {\n          content: '\":\"',\n          position: 'relative',\n          top: -0.5,\n          // magic for position\n          marginInline: `${unit(colonMarginLeft)} ${unit(colonMarginRight)}`\n        },\n        [`&${componentCls}-item-no-colon::after`]: {\n          content: '\"\"'\n        }\n      },\n      [`${componentCls}-item-no-label`]: {\n        '&::after': {\n          margin: 0,\n          content: '\"\"'\n        }\n      },\n      [`${componentCls}-item-content`]: {\n        display: 'table-cell',\n        flex: 1,\n        color: token.contentColor,\n        fontSize: token.fontSize,\n        lineHeight: token.lineHeight,\n        wordBreak: 'break-word',\n        overflowWrap: 'break-word'\n      },\n      [`${componentCls}-item`]: {\n        paddingBottom: 0,\n        verticalAlign: 'top',\n        '&-container': {\n          display: 'flex',\n          [`${componentCls}-item-label`]: {\n            display: 'inline-flex',\n            alignItems: 'baseline'\n          },\n          [`${componentCls}-item-content`]: {\n            display: 'inline-flex',\n            alignItems: 'baseline',\n            minWidth: '1em'\n          }\n        }\n      },\n      '&-middle': {\n        [`${componentCls}-row`]: {\n          '> th, > td': {\n            paddingBottom: token.paddingSM\n          }\n        }\n      },\n      '&-small': {\n        [`${componentCls}-row`]: {\n          '> th, > td': {\n            paddingBottom: token.paddingXS\n          }\n        }\n      }\n    })\n  };\n};\nexport const prepareComponentToken = token => ({\n  labelBg: token.colorFillAlter,\n  labelColor: token.colorTextTertiary,\n  titleColor: token.colorText,\n  titleMarginBottom: token.fontSizeSM * token.lineHeightSM,\n  itemPaddingBottom: token.padding,\n  itemPaddingEnd: token.padding,\n  colonMarginRight: token.marginXS,\n  colonMarginLeft: token.marginXXS / 2,\n  contentColor: token.colorText,\n  extraColor: token.colorText\n});\n// ============================== Export ==============================\nexport default genStyleHooks('Descriptions', token => {\n  const descriptionToken = mergeToken(token, {});\n  return genDescriptionStyles(descriptionToken);\n}, prepareComponentToken);","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable react/no-array-index-key */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { matchScreen } from '../_util/responsiveObserver';\nimport { devUseWarning } from '../_util/warning';\nimport { useComponentConfig } from '../config-provider/context';\nimport useSize from '../config-provider/hooks/useSize';\nimport useBreakpoint from '../grid/hooks/useBreakpoint';\nimport DEFAULT_COLUMN_MAP from './constant';\nimport DescriptionsContext from './DescriptionsContext';\nimport useItems from './hooks/useItems';\nimport useRow from './hooks/useRow';\nimport DescriptionsItem from './Item';\nimport Row from './Row';\nimport useStyle from './style';\nconst Descriptions = props => {\n  const {\n      prefixCls: customizePrefixCls,\n      title,\n      extra,\n      column,\n      colon = true,\n      bordered,\n      layout,\n      children,\n      className,\n      rootClassName,\n      style,\n      size: customizeSize,\n      labelStyle,\n      contentStyle,\n      styles,\n      items,\n      classNames: descriptionsClassNames\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"title\", \"extra\", \"column\", \"colon\", \"bordered\", \"layout\", \"children\", \"className\", \"rootClassName\", \"style\", \"size\", \"labelStyle\", \"contentStyle\", \"styles\", \"items\", \"classNames\"]);\n  const {\n    getPrefixCls,\n    direction,\n    className: contextClassName,\n    style: contextStyle,\n    classNames: contextClassNames,\n    styles: contextStyles\n  } = useComponentConfig('descriptions');\n  const prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n  const screens = useBreakpoint();\n  // ============================== Warn ==============================\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Descriptions');\n    [['labelStyle', 'styles={{ label: {} }}'], ['contentStyle', 'styles={{ content: {} }}']].forEach(([deprecatedName, newName]) => {\n      warning.deprecated(!(deprecatedName in props), deprecatedName, newName);\n    });\n  }\n  // Column count\n  const mergedColumn = React.useMemo(() => {\n    var _a;\n    if (typeof column === 'number') {\n      return column;\n    }\n    return (_a = matchScreen(screens, Object.assign(Object.assign({}, DEFAULT_COLUMN_MAP), column))) !== null && _a !== void 0 ? _a : 3;\n  }, [screens, column]);\n  // Items with responsive\n  const mergedItems = useItems(screens, items, children);\n  const mergedSize = useSize(customizeSize);\n  const rows = useRow(mergedColumn, mergedItems);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  // ======================== Render ========================\n  const contextValue = React.useMemo(() => ({\n    labelStyle,\n    contentStyle,\n    styles: {\n      content: Object.assign(Object.assign({}, contextStyles.content), styles === null || styles === void 0 ? void 0 : styles.content),\n      label: Object.assign(Object.assign({}, contextStyles.label), styles === null || styles === void 0 ? void 0 : styles.label)\n    },\n    classNames: {\n      label: classNames(contextClassNames.label, descriptionsClassNames === null || descriptionsClassNames === void 0 ? void 0 : descriptionsClassNames.label),\n      content: classNames(contextClassNames.content, descriptionsClassNames === null || descriptionsClassNames === void 0 ? void 0 : descriptionsClassNames.content)\n    }\n  }), [labelStyle, contentStyle, styles, descriptionsClassNames, contextClassNames, contextStyles]);\n  return wrapCSSVar(/*#__PURE__*/React.createElement(DescriptionsContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: classNames(prefixCls, contextClassName, contextClassNames.root, descriptionsClassNames === null || descriptionsClassNames === void 0 ? void 0 : descriptionsClassNames.root, {\n      [`${prefixCls}-${mergedSize}`]: mergedSize && mergedSize !== 'default',\n      [`${prefixCls}-bordered`]: !!bordered,\n      [`${prefixCls}-rtl`]: direction === 'rtl'\n    }, className, rootClassName, hashId, cssVarCls),\n    style: Object.assign(Object.assign(Object.assign(Object.assign({}, contextStyle), contextStyles.root), styles === null || styles === void 0 ? void 0 : styles.root), style)\n  }, restProps), (title || extra) && (/*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${prefixCls}-header`, contextClassNames.header, descriptionsClassNames === null || descriptionsClassNames === void 0 ? void 0 : descriptionsClassNames.header),\n    style: Object.assign(Object.assign({}, contextStyles.header), styles === null || styles === void 0 ? void 0 : styles.header)\n  }, title && (/*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${prefixCls}-title`, contextClassNames.title, descriptionsClassNames === null || descriptionsClassNames === void 0 ? void 0 : descriptionsClassNames.title),\n    style: Object.assign(Object.assign({}, contextStyles.title), styles === null || styles === void 0 ? void 0 : styles.title)\n  }, title)), extra && (/*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${prefixCls}-extra`, contextClassNames.extra, descriptionsClassNames === null || descriptionsClassNames === void 0 ? void 0 : descriptionsClassNames.extra),\n    style: Object.assign(Object.assign({}, contextStyles.extra), styles === null || styles === void 0 ? void 0 : styles.extra)\n  }, extra)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-view`\n  }, /*#__PURE__*/React.createElement(\"table\", null, /*#__PURE__*/React.createElement(\"tbody\", null, rows.map((row, index) => (/*#__PURE__*/React.createElement(Row, {\n    key: index,\n    index: index,\n    colon: colon,\n    prefixCls: prefixCls,\n    vertical: layout === 'vertical',\n    bordered: bordered,\n    row: row\n  })))))))));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Descriptions.displayName = 'Descriptions';\n}\nexport { DescriptionsContext };\nDescriptions.Item = DescriptionsItem;\nexport default Descriptions;","// JSX Structure Syntactic Sugar. Never reach the render code.\n/* istanbul ignore next */\nconst DescriptionsItem = ({\n  children\n}) => children;\nexport default DescriptionsItem;","import { mockDevices } from \"@/mocks/mockDevice\";\nimport { mockUnits } from \"@/mocks/mockUnit\";\nimport {\n  Schedule,\n  ScheduleSourceType,\n  ScheduleStatus,\n  ScheduleType,\n} from \"@/models/Schedule\";\nimport {\n  AlertOutlined,\n  AudioOutlined,\n  CalendarOutlined,\n  ClockCircleOutlined,\n  EditOutlined,\n  FlagOutlined,\n  LinkOutlined,\n  SoundOutlined,\n  TeamOutlined,\n  ThunderboltOutlined,\n} from \"@ant-design/icons\";\nimport { Button, Descriptions, Divider, Modal, Space, Tag } from \"antd\";\nimport dayjs from \"dayjs\";\nimport React from \"react\";\n\ninterface ScheduleDetailModalProps {\n  open: boolean;\n  schedule: Schedule | null;\n  onClose: () => void;\n  onEdit?: (schedule: Schedule) => void;\n}\n\nexport const ScheduleDetailModal: React.FC<ScheduleDetailModalProps> = ({\n  open,\n  schedule,\n  onClose,\n  onEdit,\n}) => {\n  if (!schedule) return null;\n\n  // Get status config\n  const getStatusConfig = (status: ScheduleStatus) => {\n    const configs: Record<\n      ScheduleStatus,\n      { color: string; text: string; icon?: React.ReactNode }\n    > = {\n      [ScheduleStatus.DRAFT]: { color: \"default\", text: \"Nháp\" },\n      [ScheduleStatus.PENDING_APPROVAL]: {\n        color: \"orange\",\n        text: \"Chờ duyệt\",\n      },\n      [ScheduleStatus.READY]: { color: \"cyan\", text: \"Sẵn sàng\" },\n      [ScheduleStatus.RUNNING]: { color: \"green\", text: \"Đang chạy\" },\n      [ScheduleStatus.COMPLETED]: { color: \"blue\", text: \"Đã hoàn thành\" },\n      [ScheduleStatus.APPROVED]: { color: \"blue\", text: \"Đã duyệt\" },\n      [ScheduleStatus.CANCELED]: { color: \"default\", text: \"Đã hủy\" },\n      [ScheduleStatus.REJECTED]: { color: \"red\", text: \"Từ chối\" },\n    };\n    return configs[status];\n  };\n\n  // Get source icon\n  const getSourceIcon = (sourceType: ScheduleSourceType) => {\n    const icons: Record<ScheduleSourceType, React.ReactNode> = {\n      [ScheduleSourceType.FILE]: <AudioOutlined />,\n      [ScheduleSourceType.STREAM]: <LinkOutlined />,\n      [ScheduleSourceType.TTS]: <SoundOutlined />,\n      [ScheduleSourceType.RELAY]: <ThunderboltOutlined />,\n    };\n    return icons[sourceType];\n  };\n\n  // Get source text\n  const getSourceText = (sourceType: ScheduleSourceType) => {\n    const texts: Record<ScheduleSourceType, string> = {\n      [ScheduleSourceType.FILE]: \"File âm thanh\",\n      [ScheduleSourceType.STREAM]: \"Tiếp sóng trực tiếp\",\n      [ScheduleSourceType.TTS]: \"Text-to-Speech\",\n      [ScheduleSourceType.RELAY]: \"Tiếp sóng từ cấp trên\",\n    };\n    return texts[sourceType];\n  };\n\n  // Get unit names\n  const getUnitNames = (unitIds: string[]) => {\n    const allUnits = mockUnits.getAll();\n    return unitIds\n      .map((id) => {\n        const unit = allUnits.find((u) => u.id === id);\n        return unit?.name || id;\n      })\n      .join(\", \");\n  };\n\n  // Get device names\n  const getDeviceNames = (deviceIds: string[]) => {\n    const allDevices = mockDevices.getAll();\n    return deviceIds\n      .map((id) => {\n        const device = allDevices.find((d) => d.id === id);\n        return device?.name || id;\n      })\n      .join(\", \");\n  };\n\n  // Get owner unit name\n  const getOwnerUnitName = (unitId: string) => {\n    const unit = mockUnits.getAll().find((u) => u.id === unitId);\n    return unit?.name || unitId;\n  };\n\n  const statusConfig = getStatusConfig(schedule.status);\n  const duration = schedule.endTime\n    ? dayjs(schedule.endTime).diff(dayjs(schedule.startTime), \"minute\")\n    : 0;\n\n  return (\n    <Modal\n      title={\n        <div className=\"flex items-center gap-3\">\n          <CalendarOutlined className=\"text-2xl text-blue-500\" />\n          <div>\n            <div className=\"text-lg font-semibold\">{schedule.title}</div>\n            <div className=\"text-sm font-normal text-gray-500\">\n              Chi tiết lịch phát\n            </div>\n          </div>\n        </div>\n      }\n      open={open}\n      onCancel={onClose}\n      width={800}\n      footer={\n        <Space>\n          <Button onClick={onClose}>Đóng</Button>\n          {onEdit && (\n            <Button\n              type=\"primary\"\n              icon={<EditOutlined />}\n              onClick={() => {\n                onEdit(schedule);\n                onClose();\n              }}\n            >\n              Chỉnh sửa\n            </Button>\n          )}\n        </Space>\n      }\n    >\n      <div className=\"space-y-4\">\n        {/* Status and Type Tags */}\n        <div className=\"flex gap-2 flex-wrap\">\n          <Tag color={statusConfig.color} className=\"text-sm px-3 py-1\">\n            {statusConfig.text}\n          </Tag>\n          {schedule.type === ScheduleType.ROUTINE && (\n            <Tag color=\"blue\" className=\"text-sm px-3 py-1\">\n              Định kỳ\n            </Tag>\n          )}\n          {schedule.type === ScheduleType.ONE_TIME && (\n            <Tag className=\"text-sm px-3 py-1\">Một lần</Tag>\n          )}\n          {schedule.type === ScheduleType.EMERGENCY && (\n            <Tag\n              color=\"red\"\n              icon={<AlertOutlined />}\n              className=\"text-sm px-3 py-1\"\n            >\n              KHẨN CẤP\n            </Tag>\n          )}\n          {schedule.priority >= 8 && (\n            <Tag\n              color=\"red\"\n              icon={<FlagOutlined />}\n              className=\"text-sm px-3 py-1\"\n            >\n              Ưu tiên cao ({schedule.priority})\n            </Tag>\n          )}\n        </div>\n\n        <Divider className=\"my-4\" />\n\n        {/* Basic Information */}\n        <Descriptions title=\"Thông tin cơ bản\" bordered column={2} size=\"small\">\n          <Descriptions.Item label=\"ID\" span={2}>\n            <code className=\"bg-gray-100 px-2 py-1 rounded text-xs\">\n              {schedule.id}\n            </code>\n          </Descriptions.Item>\n\n          <Descriptions.Item label=\"Đơn vị quản lý\" span={2}>\n            {getOwnerUnitName(schedule.ownerUnitId)}\n          </Descriptions.Item>\n\n          {schedule.description && (\n            <Descriptions.Item label=\"Mô tả\" span={2}>\n              {schedule.description}\n            </Descriptions.Item>\n          )}\n\n          <Descriptions.Item label=\"Độ ưu tiên\">\n            {schedule.priority}\n          </Descriptions.Item>\n\n          <Descriptions.Item label=\"Ngày tạo\">\n            {dayjs(schedule.createdAt).format(\"DD/MM/YYYY HH:mm\")}\n          </Descriptions.Item>\n\n          {schedule.approvedBy && (\n            <Descriptions.Item label=\"Người duyệt\" span={2}>\n              {schedule.approvedBy}\n            </Descriptions.Item>\n          )}\n        </Descriptions>\n\n        <Divider className=\"my-4\" />\n\n        {/* Time Information */}\n        <Descriptions\n          title=\"Thời gian phát sóng\"\n          bordered\n          column={2}\n          size=\"small\"\n        >\n          <Descriptions.Item\n            label={\n              <span>\n                <ClockCircleOutlined className=\"mr-2\" />\n                Bắt đầu\n              </span>\n            }\n          >\n            {dayjs(schedule.startTime).format(\"DD/MM/YYYY HH:mm\")}\n          </Descriptions.Item>\n\n          <Descriptions.Item\n            label={\n              <span>\n                <ClockCircleOutlined className=\"mr-2\" />\n                Kết thúc\n              </span>\n            }\n          >\n            {schedule.endTime\n              ? dayjs(schedule.endTime).format(\"DD/MM/YYYY HH:mm\")\n              : \"Không xác định\"}\n          </Descriptions.Item>\n\n          <Descriptions.Item label=\"Thời lượng\" span={2}>\n            {duration > 0 ? `${duration} phút` : \"Không xác định\"}\n          </Descriptions.Item>\n\n          {schedule.type === ScheduleType.ROUTINE && schedule.daysOfWeek && (\n            <Descriptions.Item label=\"Ngày lặp lại\" span={2}>\n              {schedule.daysOfWeek\n                .map((day) => {\n                  const days = [\n                    \"Chủ nhật\",\n                    \"Thứ 2\",\n                    \"Thứ 3\",\n                    \"Thứ 4\",\n                    \"Thứ 5\",\n                    \"Thứ 6\",\n                    \"Thứ 7\",\n                  ];\n                  return days[day];\n                })\n                .join(\", \")}\n            </Descriptions.Item>\n          )}\n        </Descriptions>\n\n        <Divider className=\"my-4\" />\n\n        {/* Source Information */}\n        <Descriptions title=\"Nguồn phát sóng\" bordered column={1} size=\"small\">\n          <Descriptions.Item label=\"Loại nguồn\">\n            <Space>\n              {getSourceIcon(schedule.sourceType)}\n              {getSourceText(schedule.sourceType)}\n            </Space>\n          </Descriptions.Item>\n\n          {schedule.sourceType === ScheduleSourceType.FILE && (\n            <Descriptions.Item label=\"File âm thanh\">\n              <a\n                href={schedule.sourceUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-500 hover:text-blue-700\"\n              >\n                {schedule.sourceUrl}\n              </a>\n            </Descriptions.Item>\n          )}\n\n          {schedule.sourceType === ScheduleSourceType.STREAM && (\n            <Descriptions.Item label=\"URL Stream\">\n              <a\n                href={schedule.sourceUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-500 hover:text-blue-700\"\n              >\n                {schedule.sourceUrl}\n              </a>\n            </Descriptions.Item>\n          )}\n\n          {schedule.sourceType === ScheduleSourceType.TTS && (\n            <Descriptions.Item label=\"Nội dung TTS\">\n              <div className=\"bg-gray-50 p-2 rounded border border-gray-200\">\n                {schedule.ttsContent}\n              </div>\n            </Descriptions.Item>\n          )}\n\n          {schedule.sourceType === ScheduleSourceType.RELAY && (\n            <>\n              <Descriptions.Item label=\"Tiếp sóng từ\">\n                {schedule.sourceUnitId\n                  ? getOwnerUnitName(schedule.sourceUnitId)\n                  : \"N/A\"}\n              </Descriptions.Item>\n              {schedule.relayFromLevel && (\n                <Descriptions.Item label=\"Cấp tiếp sóng\">\n                  {schedule.relayFromLevel}\n                </Descriptions.Item>\n              )}\n            </>\n          )}\n        </Descriptions>\n\n        <Divider className=\"my-4\" />\n\n        {/* Target Information */}\n        <Descriptions\n          title=\"Phạm vi phát sóng\"\n          bordered\n          column={1}\n          size=\"small\"\n        >\n          {schedule.targetUnitIds.length === 0 &&\n          schedule.targetDeviceIds.length === 0 ? (\n            <Descriptions.Item label=\"Phạm vi\">\n              <Tag color=\"blue\" icon={<TeamOutlined />}>\n                Toàn bộ hệ thống\n              </Tag>\n            </Descriptions.Item>\n          ) : (\n            <>\n              {schedule.targetUnitIds.length > 0 && (\n                <Descriptions.Item\n                  label={`Đơn vị (${schedule.targetUnitIds.length})`}\n                >\n                  <div className=\"max-h-32 overflow-y-auto\">\n                    {getUnitNames(schedule.targetUnitIds)}\n                  </div>\n                </Descriptions.Item>\n              )}\n\n              {schedule.targetDeviceIds.length > 0 && (\n                <Descriptions.Item\n                  label={`Thiết bị (${schedule.targetDeviceIds.length})`}\n                >\n                  <div className=\"max-h-32 overflow-y-auto\">\n                    {getDeviceNames(schedule.targetDeviceIds)}\n                  </div>\n                </Descriptions.Item>\n              )}\n            </>\n          )}\n        </Descriptions>\n      </div>\n    </Modal>\n  );\n};\n","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\n\n/**![upload](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQwMCAzMTcuN2g3My45VjY1NmMwIDQuNCAzLjYgOCA4IDhoNjBjNC40IDAgOC0zLjYgOC04VjMxNy43SDYyNGM2LjcgMCAxMC40LTcuNyA2LjMtMTIuOUw1MTguMyAxNjNhOCA4IDAgMDAtMTIuNiAwbC0xMTIgMTQxLjdjLTQuMSA1LjMtLjQgMTMgNi4zIDEzek04NzggNjI2aC02MGMtNC40IDAtOCAzLjYtOCA4djE1NEgyMTRWNjM0YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYxOThjMCAxNy43IDE0LjMgMzIgMzIgMzJoNjg0YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjYzNGMwLTQuNC0zLjYtOC04LTh6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(UploadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'UploadOutlined';\n}\nexport default RefIcon;","import warning from \"rc-util/es/warning\";\nexport default (function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim();\n      // This is something like */*,*  allow all files\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      }\n\n      // like .jpg, .png\n      if (validType.charAt(0) === '.') {\n        var lowerFileName = fileName.toLowerCase();\n        var lowerType = validType.toLowerCase();\n        var affixList = [lowerType];\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n        return affixList.some(function (affix) {\n          return lowerFileName.endsWith(affix);\n        });\n      }\n\n      // This is something like a image/* mime type\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      // Full match\n      if (mimeType === validType) {\n        return true;\n      }\n\n      // Invalidate type should skip\n      if (/^\\w+$/.test(validType)) {\n        warning(false, \"Upload takes an invalidate 'accept' type '\".concat(validType, \"'.Skip for check.\"));\n        return true;\n      }\n      return false;\n    });\n  }\n  return true;\n});","function getError(option, xhr) {\n  var msg = \"cannot \".concat(option.method, \" \").concat(option.action, \" \").concat(xhr.status, \"'\");\n  var err = new Error(msg);\n  err.status = xhr.status;\n  err.method = option.method;\n  err.url = option.action;\n  return err;\n}\nfunction getBody(xhr) {\n  var text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nexport default function upload(option) {\n  // eslint-disable-next-line no-undef\n  var xhr = new XMLHttpRequest();\n  if (option.onProgress && xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n      option.onProgress(e);\n    };\n  }\n\n  // eslint-disable-next-line no-undef\n  var formData = new FormData();\n  if (option.data) {\n    Object.keys(option.data).forEach(function (key) {\n      var value = option.data[key];\n      // support key-value array data\n      if (Array.isArray(value)) {\n        value.forEach(function (item) {\n          // { list: [ 11, 22 ] }\n          // formData.append('list[]', 11);\n          formData.append(\"\".concat(key, \"[]\"), item);\n        });\n        return;\n      }\n      formData.append(key, value);\n    });\n  }\n\n  // eslint-disable-next-line no-undef\n  if (option.file instanceof Blob) {\n    formData.append(option.filename, option.file, option.file.name);\n  } else {\n    formData.append(option.filename, option.file);\n  }\n  xhr.onerror = function error(e) {\n    option.onError(e);\n  };\n  xhr.onload = function onload() {\n    // allow success when 2xx status\n    // see https://github.com/react-component/upload/issues/34\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(option, xhr), getBody(xhr));\n    }\n    return option.onSuccess(getBody(xhr), xhr);\n  };\n  xhr.open(option.method, option.action, true);\n\n  // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n  var headers = option.headers || {};\n\n  // when set headers['X-Requested-With'] = null , can close default XHR header\n  // see https://github.com/react-component/upload/issues/33\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n  Object.keys(headers).forEach(function (h) {\n    if (headers[h] !== null) {\n      xhr.setRequestHeader(h, headers[h]);\n    }\n  });\n  xhr.send(formData);\n  return {\n    abort: function abort() {\n      xhr.abort();\n    }\n  };\n}","var now = +new Date();\nvar index = 0;\nexport default function uid() {\n  // eslint-disable-next-line no-plusplus\n  return \"rc-upload-\".concat(now, \"-\").concat(++index);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"component\", \"prefixCls\", \"className\", \"classNames\", \"disabled\", \"id\", \"name\", \"style\", \"styles\", \"multiple\", \"accept\", \"capture\", \"children\", \"directory\", \"folder\", \"openFileDialogOnClick\", \"onMouseEnter\", \"onMouseLeave\", \"hasControlInside\"];\n/* eslint react/no-is-mounted:0,react/sort-comp:0,react/prop-types:0 */\nimport clsx from 'classnames';\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport React, { Component } from 'react';\nimport attrAccept from \"./attr-accept\";\nimport defaultRequest from \"./request\";\nimport traverseFileTree from \"./traverseFileTree\";\nimport getUid from \"./uid\";\nvar AjaxUploader = /*#__PURE__*/function (_Component) {\n  _inherits(AjaxUploader, _Component);\n  var _super = _createSuper(AjaxUploader);\n  function AjaxUploader() {\n    var _this;\n    _classCallCheck(this, AjaxUploader);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      uid: getUid()\n    });\n    _defineProperty(_assertThisInitialized(_this), \"reqs\", {});\n    _defineProperty(_assertThisInitialized(_this), \"fileInput\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      var _this$props = _this.props,\n        accept = _this$props.accept,\n        directory = _this$props.directory;\n      var files = e.target.files;\n      var acceptedFiles = _toConsumableArray(files).filter(function (file) {\n        return !directory || attrAccept(file, accept);\n      });\n      _this.uploadFiles(acceptedFiles);\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var el = _this.fileInput;\n      if (!el) {\n        return;\n      }\n      var target = event.target;\n      var onClick = _this.props.onClick;\n      if (target && target.tagName === 'BUTTON') {\n        var parent = el.parentNode;\n        parent.focus();\n        target.blur();\n      }\n      el.click();\n      if (onClick) {\n        onClick(event);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      if (e.key === 'Enter') {\n        _this.onClick(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDataTransferFiles\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataTransfer, existFileCallback) {\n        var _this$props2, multiple, accept, directory, items, files, acceptFiles;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$props2 = _this.props, multiple = _this$props2.multiple, accept = _this$props2.accept, directory = _this$props2.directory;\n              items = _toConsumableArray(dataTransfer.items || []);\n              files = _toConsumableArray(dataTransfer.files || []);\n              if (files.length > 0 || items.some(function (item) {\n                return item.kind === 'file';\n              })) {\n                existFileCallback === null || existFileCallback === void 0 || existFileCallback();\n              }\n              if (!directory) {\n                _context.next = 11;\n                break;\n              }\n              _context.next = 7;\n              return traverseFileTree(Array.prototype.slice.call(items), function (_file) {\n                return attrAccept(_file, _this.props.accept);\n              });\n            case 7:\n              files = _context.sent;\n              _this.uploadFiles(files);\n              _context.next = 14;\n              break;\n            case 11:\n              acceptFiles = _toConsumableArray(files).filter(function (file) {\n                return attrAccept(file, accept);\n              });\n              if (multiple === false) {\n                acceptFiles = files.slice(0, 1);\n              }\n              _this.uploadFiles(acceptFiles);\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"onFilePaste\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n        var pastable, clipboardData;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              pastable = _this.props.pastable;\n              if (pastable) {\n                _context2.next = 3;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 3:\n              if (!(e.type === 'paste')) {\n                _context2.next = 6;\n                break;\n              }\n              clipboardData = e.clipboardData;\n              return _context2.abrupt(\"return\", _this.onDataTransferFiles(clipboardData, function () {\n                e.preventDefault();\n              }));\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"onFileDragOver\", function (e) {\n      e.preventDefault();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFileDrop\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e) {\n        var dataTransfer;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              if (!(e.type === 'drop')) {\n                _context3.next = 4;\n                break;\n              }\n              dataTransfer = e.dataTransfer;\n              return _context3.abrupt(\"return\", _this.onDataTransferFiles(dataTransfer));\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      return function (_x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"uploadFiles\", function (files) {\n      var originFiles = _toConsumableArray(files);\n      var postFiles = originFiles.map(function (file) {\n        // eslint-disable-next-line no-param-reassign\n        file.uid = getUid();\n        return _this.processFile(file, originFiles);\n      });\n\n      // Batch upload files\n      Promise.all(postFiles).then(function (fileList) {\n        var onBatchStart = _this.props.onBatchStart;\n        onBatchStart === null || onBatchStart === void 0 || onBatchStart(fileList.map(function (_ref4) {\n          var origin = _ref4.origin,\n            parsedFile = _ref4.parsedFile;\n          return {\n            file: origin,\n            parsedFile: parsedFile\n          };\n        }));\n        fileList.filter(function (file) {\n          return file.parsedFile !== null;\n        }).forEach(function (file) {\n          _this.post(file);\n        });\n      });\n    });\n    /**\n     * Process file before upload. When all the file is ready, we start upload.\n     */\n    _defineProperty(_assertThisInitialized(_this), \"processFile\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(file, fileList) {\n        var beforeUpload, transformedFile, action, mergedAction, data, mergedData, parsedData, parsedFile, mergedParsedFile;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              beforeUpload = _this.props.beforeUpload;\n              transformedFile = file;\n              if (!beforeUpload) {\n                _context4.next = 14;\n                break;\n              }\n              _context4.prev = 3;\n              _context4.next = 6;\n              return beforeUpload(file, fileList);\n            case 6:\n              transformedFile = _context4.sent;\n              _context4.next = 12;\n              break;\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](3);\n              // Rejection will also trade as false\n              transformedFile = false;\n            case 12:\n              if (!(transformedFile === false)) {\n                _context4.next = 14;\n                break;\n              }\n              return _context4.abrupt(\"return\", {\n                origin: file,\n                parsedFile: null,\n                action: null,\n                data: null\n              });\n            case 14:\n              // Get latest action\n              action = _this.props.action;\n              if (!(typeof action === 'function')) {\n                _context4.next = 21;\n                break;\n              }\n              _context4.next = 18;\n              return action(file);\n            case 18:\n              mergedAction = _context4.sent;\n              _context4.next = 22;\n              break;\n            case 21:\n              mergedAction = action;\n            case 22:\n              // Get latest data\n              data = _this.props.data;\n              if (!(typeof data === 'function')) {\n                _context4.next = 29;\n                break;\n              }\n              _context4.next = 26;\n              return data(file);\n            case 26:\n              mergedData = _context4.sent;\n              _context4.next = 30;\n              break;\n            case 29:\n              mergedData = data;\n            case 30:\n              parsedData =\n              // string type is from legacy `transformFile`.\n              // Not sure if this will work since no related test case works with it\n              (_typeof(transformedFile) === 'object' || typeof transformedFile === 'string') && transformedFile ? transformedFile : file;\n              if (parsedData instanceof File) {\n                parsedFile = parsedData;\n              } else {\n                parsedFile = new File([parsedData], file.name, {\n                  type: file.type\n                });\n              }\n              mergedParsedFile = parsedFile;\n              mergedParsedFile.uid = file.uid;\n              return _context4.abrupt(\"return\", {\n                origin: file,\n                data: mergedData,\n                parsedFile: mergedParsedFile,\n                action: mergedAction\n              });\n            case 35:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[3, 9]]);\n      }));\n      return function (_x5, _x6) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"saveFileInput\", function (node) {\n      _this.fileInput = node;\n    });\n    return _this;\n  }\n  _createClass(AjaxUploader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n      var pastable = this.props.pastable;\n      if (pastable) {\n        document.addEventListener('paste', this.onFilePaste);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      this.abort();\n      document.removeEventListener('paste', this.onFilePaste);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pastable = this.props.pastable;\n      if (pastable && !prevProps.pastable) {\n        document.addEventListener('paste', this.onFilePaste);\n      } else if (!pastable && prevProps.pastable) {\n        document.removeEventListener('paste', this.onFilePaste);\n      }\n    }\n  }, {\n    key: \"post\",\n    value: function post(_ref6) {\n      var _this2 = this;\n      var data = _ref6.data,\n        origin = _ref6.origin,\n        action = _ref6.action,\n        parsedFile = _ref6.parsedFile;\n      if (!this._isMounted) {\n        return;\n      }\n      var _this$props3 = this.props,\n        onStart = _this$props3.onStart,\n        customRequest = _this$props3.customRequest,\n        name = _this$props3.name,\n        headers = _this$props3.headers,\n        withCredentials = _this$props3.withCredentials,\n        method = _this$props3.method;\n      var uid = origin.uid;\n      var request = customRequest || defaultRequest;\n      var requestOption = {\n        action: action,\n        filename: name,\n        data: data,\n        file: parsedFile,\n        headers: headers,\n        withCredentials: withCredentials,\n        method: method || 'post',\n        onProgress: function onProgress(e) {\n          var onProgress = _this2.props.onProgress;\n          onProgress === null || onProgress === void 0 || onProgress(e, parsedFile);\n        },\n        onSuccess: function onSuccess(ret, xhr) {\n          var onSuccess = _this2.props.onSuccess;\n          onSuccess === null || onSuccess === void 0 || onSuccess(ret, parsedFile, xhr);\n          delete _this2.reqs[uid];\n        },\n        onError: function onError(err, ret) {\n          var onError = _this2.props.onError;\n          onError === null || onError === void 0 || onError(err, ret, parsedFile);\n          delete _this2.reqs[uid];\n        }\n      };\n      onStart(origin);\n      this.reqs[uid] = request(requestOption, {\n        defaultRequest: defaultRequest\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setState({\n        uid: getUid()\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(file) {\n      var reqs = this.reqs;\n      if (file) {\n        var uid = file.uid ? file.uid : file;\n        if (reqs[uid] && reqs[uid].abort) {\n          reqs[uid].abort();\n        }\n        delete reqs[uid];\n      } else {\n        Object.keys(reqs).forEach(function (uid) {\n          if (reqs[uid] && reqs[uid].abort) {\n            reqs[uid].abort();\n          }\n          delete reqs[uid];\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        Tag = _this$props4.component,\n        prefixCls = _this$props4.prefixCls,\n        className = _this$props4.className,\n        _this$props4$classNam = _this$props4.classNames,\n        classNames = _this$props4$classNam === void 0 ? {} : _this$props4$classNam,\n        disabled = _this$props4.disabled,\n        id = _this$props4.id,\n        name = _this$props4.name,\n        style = _this$props4.style,\n        _this$props4$styles = _this$props4.styles,\n        styles = _this$props4$styles === void 0 ? {} : _this$props4$styles,\n        multiple = _this$props4.multiple,\n        accept = _this$props4.accept,\n        capture = _this$props4.capture,\n        children = _this$props4.children,\n        directory = _this$props4.directory,\n        folder = _this$props4.folder,\n        openFileDialogOnClick = _this$props4.openFileDialogOnClick,\n        onMouseEnter = _this$props4.onMouseEnter,\n        onMouseLeave = _this$props4.onMouseLeave,\n        hasControlInside = _this$props4.hasControlInside,\n        otherProps = _objectWithoutProperties(_this$props4, _excluded);\n      var cls = clsx(_defineProperty(_defineProperty(_defineProperty({}, prefixCls, true), \"\".concat(prefixCls, \"-disabled\"), disabled), className, className));\n      // because input don't have directory/webkitdirectory type declaration\n      var dirProps = directory || folder ? {\n        directory: 'directory',\n        webkitdirectory: 'webkitdirectory'\n      } : {};\n      var events = disabled ? {} : {\n        onClick: openFileDialogOnClick ? this.onClick : function () {},\n        onKeyDown: openFileDialogOnClick ? this.onKeyDown : function () {},\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        onDrop: this.onFileDrop,\n        onDragOver: this.onFileDragOver,\n        tabIndex: hasControlInside ? undefined : '0'\n      };\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, events, {\n        className: cls,\n        role: hasControlInside ? undefined : 'button',\n        style: style\n      }), /*#__PURE__*/React.createElement(\"input\", _extends({}, pickAttrs(otherProps, {\n        aria: true,\n        data: true\n      }), {\n        id: id\n        /**\n         * https://github.com/ant-design/ant-design/issues/50643,\n         * https://github.com/react-component/upload/pull/575#issuecomment-2320646552\n         */,\n        name: name,\n        disabled: disabled,\n        type: \"file\",\n        ref: this.saveFileInput,\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        } // https://github.com/ant-design/ant-design/issues/19948\n        ,\n        key: this.state.uid,\n        style: _objectSpread({\n          display: 'none'\n        }, styles.input),\n        className: classNames.input,\n        accept: accept\n      }, dirProps, {\n        multiple: multiple,\n        onChange: this.onChange\n      }, capture != null ? {\n        capture: capture\n      } : {})), children);\n    }\n  }]);\n  return AjaxUploader;\n}(Component);\nexport default AjaxUploader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint react/prop-types:0 */\nimport React, { Component } from 'react';\nimport AjaxUpload from \"./AjaxUploader\";\nfunction empty() {}\nvar Upload = /*#__PURE__*/function (_Component) {\n  _inherits(Upload, _Component);\n  var _super = _createSuper(Upload);\n  function Upload() {\n    var _this;\n    _classCallCheck(this, Upload);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"uploader\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"saveUploader\", function (node) {\n      _this.uploader = node;\n    });\n    return _this;\n  }\n  _createClass(Upload, [{\n    key: \"abort\",\n    value: function abort(file) {\n      this.uploader.abort(file);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(AjaxUpload, _extends({}, this.props, {\n        ref: this.saveUploader\n      }));\n    }\n  }]);\n  return Upload;\n}(Component);\n_defineProperty(Upload, \"defaultProps\", {\n  component: 'span',\n  prefixCls: 'rc-upload',\n  data: {},\n  headers: {},\n  name: 'file',\n  multipart: false,\n  onStart: empty,\n  onError: empty,\n  onSuccess: empty,\n  multiple: false,\n  beforeUpload: null,\n  customRequest: null,\n  withCredentials: false,\n  openFileDialogOnClick: true,\n  hasControlInside: false\n});\nexport default Upload;","// This icon file is generated automatically.\nvar FileTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z\", \"fill\": primaryColor } }] }; }, \"name\": \"file\", \"theme\": \"twotone\" };\nexport default FileTwoTone;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FileTwoToneSvg from \"@ant-design/icons-svg/es/asn/FileTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar FileTwoTone = function FileTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: FileTwoToneSvg\n  }));\n};\n\n/**![file](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUzNCAzNTJWMTM2SDIzMnY3NTJoNTYwVjM5NEg1NzZhNDIgNDIgMCAwMS00Mi00MnoiIGZpbGw9IiNlNmY0ZmYiIC8+PHBhdGggZD0iTTg1NC42IDI4OC42TDYzOS40IDczLjRjLTYtNi0xNC4xLTkuNC0yMi42LTkuNEgxOTJjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjgzMmMwIDE3LjcgMTQuMyAzMiAzMiAzMmg2NDBjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzExLjNjMC04LjUtMy40LTE2LjctOS40LTIyLjd6TTYwMiAxMzcuOEw3OTAuMiAzMjZINjAyVjEzNy44ek03OTIgODg4SDIzMlYxMzZoMzAydjIxNmE0MiA0MiAwIDAwNDIgNDJoMjE2djQ5NHoiIGZpbGw9IiMxNjc3ZmYiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(FileTwoTone);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FileTwoTone';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar PaperClipOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z\" } }] }, \"name\": \"paper-clip\", \"theme\": \"outlined\" };\nexport default PaperClipOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PaperClipOutlinedSvg from \"@ant-design/icons-svg/es/asn/PaperClipOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PaperClipOutlined = function PaperClipOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PaperClipOutlinedSvg\n  }));\n};\n\n/**![paper-clip](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc3OS4zIDE5Ni42Yy05NC4yLTk0LjItMjQ3LjYtOTQuMi0zNDEuNyAwbC0yNjEgMjYwLjhjLTEuNyAxLjctMi42IDQtMi42IDYuNHMuOSA0LjcgMi42IDYuNGwzNi45IDM2LjlhOSA5IDAgMDAxMi43IDBsMjYxLTI2MC44YzMyLjQtMzIuNCA3NS41LTUwLjIgMTIxLjMtNTAuMnM4OC45IDE3LjggMTIxLjIgNTAuMmMzMi40IDMyLjQgNTAuMiA3NS41IDUwLjIgMTIxLjIgMCA0NS44LTE3LjggODguOC01MC4yIDEyMS4ybC0yNjYgMjY1LjktNDMuMSA0My4xYy00MC4zIDQwLjMtMTA1LjggNDAuMy0xNDYuMSAwLTE5LjUtMTkuNS0zMC4yLTQ1LjQtMzAuMi03M3MxMC43LTUzLjUgMzAuMi03M2wyNjMuOS0yNjMuOGM2LjctNi42IDE1LjUtMTAuMyAyNC45LTEwLjNoLjFjOS40IDAgMTguMSAzLjcgMjQuNyAxMC4zIDYuNyA2LjcgMTAuMyAxNS41IDEwLjMgMjQuOSAwIDkuMy0zLjcgMTguMS0xMC4zIDI0LjdMMzcyLjQgNjUzYy0xLjcgMS43LTIuNiA0LTIuNiA2LjRzLjkgNC43IDIuNiA2LjRsMzYuOSAzNi45YTkgOSAwIDAwMTIuNyAwbDIxNS42LTIxNS42YzE5LjktMTkuOSAzMC44LTQ2LjMgMzAuOC03NC40cy0xMS01NC42LTMwLjgtNzQuNGMtNDEuMS00MS4xLTEwNy45LTQxLTE0OSAwTDQ2MyAzNjQgMjI0LjggNjAyLjFBMTcyLjIyIDE3Mi4yMiAwIDAwMTc0IDcyNC44YzAgNDYuMyAxOC4xIDg5LjggNTAuOCAxMjIuNSAzMy45IDMzLjggNzguMyA1MC43IDEyMi43IDUwLjcgNDQuNCAwIDg4LjgtMTYuOSAxMjIuNi01MC43bDMwOS4yLTMwOUM4MjQuOCA0OTIuNyA4NTAgNDMyIDg1MCAzNjcuNWMuMS02NC42LTI1LjEtMTI1LjMtNzAuNy0xNzAuOXoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PaperClipOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PaperClipOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar PictureTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M276 368a28 28 0 1056 0 28 28 0 10-56 0z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\", \"fill\": primaryColor } }] }; }, \"name\": \"picture\", \"theme\": \"twotone\" };\nexport default PictureTwoTone;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PictureTwoToneSvg from \"@ant-design/icons-svg/es/asn/PictureTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PictureTwoTone = function PictureTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PictureTwoToneSvg\n  }));\n};\n\n/**![picture](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyOCAxNjBIOTZjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjY0MGMwIDE3LjcgMTQuMyAzMiAzMiAzMmg4MzJjMTcuNyAwIDMyLTE0LjMgMzItMzJWMTkyYzAtMTcuNy0xNC4zLTMyLTMyLTMyem0tNDAgNjMySDEzNnYtMzkuOWwxMzguNS0xNjQuMyAxNTAuMSAxNzhMNjU4LjEgNDg5IDg4OCA3NjEuNlY3OTJ6bTAtMTI5LjhMNjY0LjIgMzk2LjhjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDQyNC42IDY2Ni40bC0xNDQtMTcwLjdjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDEzNiA2NTIuN1YyMzJoNzUydjQzMC4yeiIgZmlsbD0iIzE2NzdmZiIgLz48cGF0aCBkPSJNNDI0LjYgNzY1LjhsLTE1MC4xLTE3OEwxMzYgNzUyLjFWNzkyaDc1MnYtMzAuNEw2NTguMSA0ODl6IiBmaWxsPSIjZTZmNGZmIiAvPjxwYXRoIGQ9Ik0xMzYgNjUyLjdsMTMyLjQtMTU3YzMuMi0zLjggOS0zLjggMTIuMiAwbDE0NCAxNzAuN0w2NTIgMzk2LjhjMy4yLTMuOCA5LTMuOCAxMi4yIDBMODg4IDY2Mi4yVjIzMkgxMzZ2NDIwLjd6TTMwNCAyODBhODggODggMCAxMTAgMTc2IDg4IDg4IDAgMDEwLTE3NnoiIGZpbGw9IiNlNmY0ZmYiIC8+PHBhdGggZD0iTTI3NiAzNjhhMjggMjggMCAxMDU2IDAgMjggMjggMCAxMC01NiAweiIgZmlsbD0iI2U2ZjRmZiIgLz48cGF0aCBkPSJNMzA0IDQ1NmE4OCA4OCAwIDEwMC0xNzYgODggODggMCAwMDAgMTc2em0wLTExNmMxNS41IDAgMjggMTIuNSAyOCAyOHMtMTIuNSAyOC0yOCAyOC0yOC0xMi41LTI4LTI4IDEyLjUtMjggMjgtMjh6IiBmaWxsPSIjMTY3N2ZmIiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PictureTwoTone);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PictureTwoTone';\n}\nexport default RefIcon;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nexport function updateFileList(file, fileList) {\n  const nextFileList = _toConsumableArray(fileList);\n  const fileIndex = nextFileList.findIndex(({\n    uid\n  }) => uid === file.uid);\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = (url = '') => {\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nexport const isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}","// This icon file is generated automatically.\nvar DownloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"download\", \"theme\": \"outlined\" };\nexport default DownloadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownloadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DownloadOutlined = function DownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DownloadOutlinedSvg\n  }));\n};\n\n/**![download](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUwNS43IDY2MWE4IDggMCAwMDEyLjYgMGwxMTItMTQxLjdjNC4xLTUuMi40LTEyLjktNi4zLTEyLjloLTc0LjFWMTY4YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYzMzguM0g0MDBjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDExMiAxNDEuOHpNODc4IDYyNmgtNjBjLTQuNCAwLTggMy42LTggOHYxNTRIMjE0VjYzNGMwLTQuNC0zLjYtOC04LThoLTYwYy00LjQgMC04IDMuNi04IDh2MTk4YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDY4NGMxNy43IDAgMzItMTQuMyAzMi0zMlY2MzRjMC00LjQtMy42LTgtOC04eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(DownloadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DownloadOutlined';\n}\nexport default RefIcon;","\"use client\";\n\nimport * as React from 'react';\nimport DeleteOutlined from \"@ant-design/icons/es/icons/DeleteOutlined\";\nimport DownloadOutlined from \"@ant-design/icons/es/icons/DownloadOutlined\";\nimport EyeOutlined from \"@ant-design/icons/es/icons/EyeOutlined\";\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { ConfigContext } from '../../config-provider';\nimport Progress from '../../progress';\nimport Tooltip from '../../tooltip';\nconst ListItem = /*#__PURE__*/React.forwardRef(({\n  prefixCls,\n  className,\n  style,\n  locale,\n  listType,\n  file,\n  items,\n  progress: progressProps,\n  iconRender,\n  actionIconRender,\n  itemRender,\n  isImgUrl,\n  showPreviewIcon,\n  showRemoveIcon,\n  showDownloadIcon,\n  previewIcon: customPreviewIcon,\n  removeIcon: customRemoveIcon,\n  downloadIcon: customDownloadIcon,\n  extra: customExtra,\n  onPreview,\n  onDownload,\n  onClose\n}, ref) => {\n  var _a, _b;\n  // Status: which will ignore `removed` status\n  const {\n    status\n  } = file;\n  const [mergedStatus, setMergedStatus] = React.useState(status);\n  React.useEffect(() => {\n    if (status !== 'removed') {\n      setMergedStatus(status);\n    }\n  }, [status]);\n  // Delay to show the progress bar\n  const [showProgress, setShowProgress] = React.useState(false);\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowProgress(true);\n    }, 300);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n  const iconNode = iconRender(file);\n  let icon = /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-icon`\n  }, iconNode);\n  if (listType === 'picture' || listType === 'picture-card' || listType === 'picture-circle') {\n    if (mergedStatus === 'uploading' || !file.thumbUrl && !file.url) {\n      const uploadingClassName = classNames(`${prefixCls}-list-item-thumbnail`, {\n        [`${prefixCls}-list-item-file`]: mergedStatus !== 'uploading'\n      });\n      icon = /*#__PURE__*/React.createElement(\"div\", {\n        className: uploadingClassName\n      }, iconNode);\n    } else {\n      const thumbnail = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? (/*#__PURE__*/React.createElement(\"img\", {\n        src: file.thumbUrl || file.url,\n        alt: file.name,\n        className: `${prefixCls}-list-item-image`,\n        crossOrigin: file.crossOrigin\n      })) : iconNode;\n      const aClassName = classNames(`${prefixCls}-list-item-thumbnail`, {\n        [`${prefixCls}-list-item-file`]: isImgUrl && !isImgUrl(file)\n      });\n      icon = /*#__PURE__*/React.createElement(\"a\", {\n        className: aClassName,\n        onClick: e => onPreview(file, e),\n        href: file.url || file.thumbUrl,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\"\n      }, thumbnail);\n    }\n  }\n  const listItemClassName = classNames(`${prefixCls}-list-item`, `${prefixCls}-list-item-${mergedStatus}`);\n  const linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n  const removeIcon = (typeof showRemoveIcon === 'function' ? showRemoveIcon(file) : showRemoveIcon) ? actionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || (/*#__PURE__*/React.createElement(DeleteOutlined, null)), () => onClose(file), prefixCls, locale.removeFile,\n  // acceptUploadDisabled is true, only remove icon will follow Upload disabled prop\n  // https://github.com/ant-design/ant-design/issues/46171\n  true) : null;\n  const downloadIcon = (typeof showDownloadIcon === 'function' ? showDownloadIcon(file) : showDownloadIcon) && mergedStatus === 'done' ? actionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(DownloadOutlined, null), () => onDownload(file), prefixCls, locale.downloadFile) : null;\n  const downloadOrDelete = listType !== 'picture-card' && listType !== 'picture-circle' && (/*#__PURE__*/React.createElement(\"span\", {\n    key: \"download-delete\",\n    className: classNames(`${prefixCls}-list-item-actions`, {\n      picture: listType === 'picture'\n    })\n  }, downloadIcon, removeIcon));\n  const extraContent = typeof customExtra === 'function' ? customExtra(file) : customExtra;\n  const extra = extraContent && (/*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-list-item-extra`\n  }, extraContent));\n  const listItemNameClass = classNames(`${prefixCls}-list-item-name`);\n  const fileName = file.url ? (/*#__PURE__*/React.createElement(\"a\", Object.assign({\n    key: \"view\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: listItemNameClass,\n    title: file.name\n  }, linkProps, {\n    href: file.url,\n    onClick: e => onPreview(file, e)\n  }), file.name, extra)) : (/*#__PURE__*/React.createElement(\"span\", {\n    key: \"view\",\n    className: listItemNameClass,\n    onClick: e => onPreview(file, e),\n    title: file.name\n  }, file.name, extra));\n  const previewIcon = (typeof showPreviewIcon === 'function' ? showPreviewIcon(file) : showPreviewIcon) && (file.url || file.thumbUrl) ? (/*#__PURE__*/React.createElement(\"a\", {\n    href: file.url || file.thumbUrl,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    onClick: e => onPreview(file, e),\n    title: locale.previewFile\n  }, typeof customPreviewIcon === 'function' ? customPreviewIcon(file) : customPreviewIcon || /*#__PURE__*/React.createElement(EyeOutlined, null))) : null;\n  const pictureCardActions = (listType === 'picture-card' || listType === 'picture-circle') && mergedStatus !== 'uploading' && (/*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-list-item-actions`\n  }, previewIcon, mergedStatus === 'done' && downloadIcon, removeIcon));\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const rootPrefixCls = getPrefixCls();\n  const dom = /*#__PURE__*/React.createElement(\"div\", {\n    className: listItemClassName\n  }, icon, fileName, downloadOrDelete, pictureCardActions, showProgress && (/*#__PURE__*/React.createElement(CSSMotion, {\n    motionName: `${rootPrefixCls}-fade`,\n    visible: mergedStatus === 'uploading',\n    motionDeadline: 2000\n  }, ({\n    className: motionClassName\n  }) => {\n    // show loading icon if upload progress listener is disabled\n    const loadingProgress = 'percent' in file ? (/*#__PURE__*/React.createElement(Progress, Object.assign({\n      type: \"line\",\n      percent: file.percent,\n      \"aria-label\": file['aria-label'],\n      \"aria-labelledby\": file['aria-labelledby']\n    }, progressProps))) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(`${prefixCls}-list-item-progress`, motionClassName)\n    }, loadingProgress);\n  })));\n  const message = file.response && typeof file.response === 'string' ? file.response : ((_a = file.error) === null || _a === void 0 ? void 0 : _a.statusText) || ((_b = file.error) === null || _b === void 0 ? void 0 : _b.message) || locale.uploadError;\n  const item = mergedStatus === 'error' ? (/*#__PURE__*/React.createElement(Tooltip, {\n    title: message,\n    getPopupContainer: node => node.parentNode\n  }, dom)) : dom;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${prefixCls}-list-item-container`, className),\n    style: style,\n    ref: ref\n  }, itemRender ? itemRender(item, file, items, {\n    download: onDownload.bind(null, file),\n    preview: onPreview.bind(null, file),\n    remove: onClose.bind(null, file)\n  }) : item);\n});\nexport default ListItem;","\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport classNames from 'classnames';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport omit from \"rc-util/es/omit\";\nimport { useForceUpdate } from '../../_util/hooks';\nimport initCollapseMotion from '../../_util/motion';\nimport { cloneElement } from '../../_util/reactNode';\nimport Button from '../../button';\nimport { ConfigContext } from '../../config-provider';\nimport { isImageUrl, previewImage } from '../utils';\nimport ListItem from './ListItem';\nconst InternalUploadList = (props, ref) => {\n  const {\n    listType = 'text',\n    previewFile = previewImage,\n    onPreview,\n    onDownload,\n    onRemove,\n    locale,\n    iconRender,\n    isImageUrl: isImgUrl = isImageUrl,\n    prefixCls: customizePrefixCls,\n    items = [],\n    showPreviewIcon = true,\n    showRemoveIcon = true,\n    showDownloadIcon = false,\n    removeIcon,\n    previewIcon,\n    downloadIcon,\n    extra,\n    progress = {\n      size: [-1, 2],\n      showInfo: false\n    },\n    appendAction,\n    appendActionVisible = true,\n    itemRender,\n    disabled\n  } = props;\n  const [, forceUpdate] = useForceUpdate();\n  const [motionAppear, setMotionAppear] = React.useState(false);\n  const isPictureCardOrCirle = ['picture-card', 'picture-circle'].includes(listType);\n  // ============================= Effect =============================\n  React.useEffect(() => {\n    if (!listType.startsWith('picture')) {\n      return;\n    }\n    (items || []).forEach(file => {\n      if (!(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n      file.thumbUrl = '';\n      previewFile === null || previewFile === void 0 ? void 0 : previewFile(file.originFileObj).then(previewDataUrl => {\n        // Need append '' to avoid dead loop\n        file.thumbUrl = previewDataUrl || '';\n        forceUpdate();\n      });\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(() => {\n    setMotionAppear(true);\n  }, []);\n  // ============================= Events =============================\n  const onInternalPreview = (file, e) => {\n    if (!onPreview) {\n      return;\n    }\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n  const onInternalDownload = file => {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n  const onInternalClose = file => {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n  const internalIconRender = file => {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n    const isLoading = file.status === 'uploading';\n    if (listType.startsWith('picture')) {\n      const loadingIcon = listType === 'picture' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : locale.uploading;\n      const fileIcon = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n      return isLoading ? loadingIcon : fileIcon;\n    }\n    return isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n  };\n  const actionIconRender = (customIcon, callback, prefixCls, title, acceptUploadDisabled) => {\n    const btnProps = {\n      type: 'text',\n      size: 'small',\n      title,\n      onClick: e => {\n        var _a, _b;\n        callback();\n        if (/*#__PURE__*/React.isValidElement(customIcon)) {\n          (_b = (_a = customIcon.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n      },\n      className: `${prefixCls}-list-item-action`,\n      disabled: acceptUploadDisabled ? disabled : false\n    };\n    return /*#__PURE__*/React.isValidElement(customIcon) ? (/*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps, {\n      icon: cloneElement(customIcon, Object.assign(Object.assign({}, customIcon.props), {\n        onClick: () => {}\n      }))\n    }))) : (/*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps), /*#__PURE__*/React.createElement(\"span\", null, customIcon)));\n  };\n  // ============================== Ref ===============================\n  // Test needs\n  React.useImperativeHandle(ref, () => ({\n    handlePreview: onInternalPreview,\n    handleDownload: onInternalDownload\n  }));\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  // ============================= Render =============================\n  const prefixCls = getPrefixCls('upload', customizePrefixCls);\n  const rootPrefixCls = getPrefixCls();\n  const listClassNames = classNames(`${prefixCls}-list`, `${prefixCls}-list-${listType}`);\n  const listItemMotion = React.useMemo(() => omit(initCollapseMotion(rootPrefixCls), ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd']), [rootPrefixCls]);\n  const motionConfig = Object.assign(Object.assign({}, isPictureCardOrCirle ? {} : listItemMotion), {\n    motionDeadline: 2000,\n    motionName: `${prefixCls}-${isPictureCardOrCirle ? 'animate-inline' : 'animate'}`,\n    keys: _toConsumableArray(items.map(file => ({\n      key: file.uid,\n      file\n    }))),\n    motionAppear\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listClassNames\n  }, /*#__PURE__*/React.createElement(CSSMotionList, Object.assign({}, motionConfig, {\n    component: false\n  }), ({\n    key,\n    file,\n    className: motionClassName,\n    style: motionStyle\n  }) => (/*#__PURE__*/React.createElement(ListItem, {\n    key: key,\n    locale: locale,\n    prefixCls: prefixCls,\n    className: motionClassName,\n    style: motionStyle,\n    file: file,\n    items: items,\n    progress: progress,\n    listType: listType,\n    isImgUrl: isImgUrl,\n    showPreviewIcon: showPreviewIcon,\n    showRemoveIcon: showRemoveIcon,\n    showDownloadIcon: showDownloadIcon,\n    removeIcon: removeIcon,\n    previewIcon: previewIcon,\n    downloadIcon: downloadIcon,\n    extra: extra,\n    iconRender: internalIconRender,\n    actionIconRender: actionIconRender,\n    itemRender: itemRender,\n    onPreview: onInternalPreview,\n    onDownload: onInternalDownload,\n    onClose: onInternalClose\n  }))), appendAction && (/*#__PURE__*/React.createElement(CSSMotion, Object.assign({}, motionConfig, {\n    visible: appendActionVisible,\n    forceRender: true\n  }), ({\n    className: motionClassName,\n    style: motionStyle\n  }) => cloneElement(appendAction, oriProps => ({\n    className: classNames(oriProps.className, motionClassName),\n    style: Object.assign(Object.assign(Object.assign({}, motionStyle), {\n      // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n      pointerEvents: motionClassName ? 'none' : undefined\n    }), oriProps.style)\n  })))));\n};\nconst UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nif (process.env.NODE_ENV !== 'production') {\n  UploadList.displayName = 'UploadList';\n}\nexport default UploadList;","\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport * as React from 'react';\nimport { flushSync } from 'react-dom';\nimport classNames from 'classnames';\nimport RcUpload from 'rc-upload';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport { useComponentConfig } from '../config-provider/context';\nimport DisabledContext from '../config-provider/DisabledContext';\nimport { useLocale } from '../locale';\nimport defaultLocale from '../locale/en_US';\nimport useStyle from './style';\nimport UploadList from './UploadList';\nimport { file2Obj, getFileItem, removeFileItem, updateFileList } from './utils';\nexport const LIST_IGNORE = `__LIST_IGNORE_${Date.now()}__`;\nconst InternalUpload = (props, ref) => {\n  const config = useComponentConfig('upload');\n  const {\n    fileList,\n    defaultFileList,\n    onRemove,\n    showUploadList = true,\n    listType = 'text',\n    onPreview,\n    onDownload,\n    onChange,\n    onDrop,\n    previewFile,\n    disabled: customDisabled,\n    locale: propLocale,\n    iconRender,\n    isImageUrl,\n    progress,\n    prefixCls: customizePrefixCls,\n    className,\n    type = 'select',\n    children,\n    style,\n    itemRender,\n    maxCount,\n    data = {},\n    multiple = false,\n    hasControlInside = true,\n    action = '',\n    accept = '',\n    supportServerRender = true,\n    rootClassName\n  } = props;\n  // ===================== Disabled =====================\n  const disabled = React.useContext(DisabledContext);\n  const mergedDisabled = customDisabled !== null && customDisabled !== void 0 ? customDisabled : disabled;\n  const customRequest = props.customRequest || config.customRequest;\n  const [mergedFileList, setMergedFileList] = useMergedState(defaultFileList || [], {\n    value: fileList,\n    postState: list => list !== null && list !== void 0 ? list : []\n  });\n  const [dragState, setDragState] = React.useState('drop');\n  const upload = React.useRef(null);\n  const wrapRef = React.useRef(null);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Upload');\n    process.env.NODE_ENV !== \"production\" ? warning('fileList' in props || !('value' in props), 'usage', '`value` is not a valid prop, do you mean `fileList`?') : void 0;\n    warning.deprecated(!('transformFile' in props), 'transformFile', 'beforeUpload');\n  }\n  // Control mode will auto fill file uid if not provided\n  React.useMemo(() => {\n    // eslint-disable-next-line react-hooks/purity\n    const timestamp = Date.now();\n    (fileList || []).forEach((file, index) => {\n      if (!file.uid && !Object.isFrozen(file)) {\n        file.uid = `__AUTO__${timestamp}_${index}__`;\n      }\n    });\n  }, [fileList]);\n  const onInternalChange = (file, changedFileList, event) => {\n    let cloneList = _toConsumableArray(changedFileList);\n    let exceedMaxCount = false;\n    // Cut to match count\n    if (maxCount === 1) {\n      cloneList = cloneList.slice(-1);\n    } else if (maxCount) {\n      exceedMaxCount = cloneList.length > maxCount;\n      cloneList = cloneList.slice(0, maxCount);\n    }\n    // Prevent React18 auto batch since input[upload] trigger process at same time\n    // which makes fileList closure problem\n    // eslint-disable-next-line react-dom/no-flush-sync\n    flushSync(() => {\n      setMergedFileList(cloneList);\n    });\n    const changeInfo = {\n      file: file,\n      fileList: cloneList\n    };\n    if (event) {\n      changeInfo.event = event;\n    }\n    if (!exceedMaxCount || file.status === 'removed' ||\n    // We should ignore event if current file is exceed `maxCount`\n    cloneList.some(f => f.uid === file.uid)) {\n      // eslint-disable-next-line react-dom/no-flush-sync\n      flushSync(() => {\n        onChange === null || onChange === void 0 ? void 0 : onChange(changeInfo);\n      });\n    }\n  };\n  const mergedBeforeUpload = (file, fileListArgs) => __awaiter(void 0, void 0, void 0, function* () {\n    const {\n      beforeUpload,\n      transformFile\n    } = props;\n    let parsedFile = file;\n    if (beforeUpload) {\n      const result = yield beforeUpload(file, fileListArgs);\n      if (result === false) {\n        return false;\n      }\n      // Hack for LIST_IGNORE, we add additional info to remove from the list\n      delete file[LIST_IGNORE];\n      if (result === LIST_IGNORE) {\n        Object.defineProperty(file, LIST_IGNORE, {\n          value: true,\n          configurable: true\n        });\n        return false;\n      }\n      if (typeof result === 'object' && result) {\n        parsedFile = result;\n      }\n    }\n    if (transformFile) {\n      parsedFile = yield transformFile(parsedFile);\n    }\n    return parsedFile;\n  });\n  const onBatchStart = batchFileInfoList => {\n    // Skip file which marked as `LIST_IGNORE`, these file will not add to file list\n    const filteredFileInfoList = batchFileInfoList.filter(info => !info.file[LIST_IGNORE]);\n    // Nothing to do since no file need upload\n    if (!filteredFileInfoList.length) {\n      return;\n    }\n    const objectFileList = filteredFileInfoList.map(info => file2Obj(info.file));\n    // Concat new files with prev files\n    let newFileList = _toConsumableArray(mergedFileList);\n    objectFileList.forEach(fileObj => {\n      // Replace file if exist\n      newFileList = updateFileList(fileObj, newFileList);\n    });\n    objectFileList.forEach((fileObj, index) => {\n      // Repeat trigger `onChange` event for compatible\n      let triggerFileObj = fileObj;\n      if (!filteredFileInfoList[index].parsedFile) {\n        // `beforeUpload` return false\n        const {\n          originFileObj\n        } = fileObj;\n        let clone;\n        try {\n          clone = new File([originFileObj], originFileObj.name, {\n            type: originFileObj.type\n          });\n        } catch (_a) {\n          clone = new Blob([originFileObj], {\n            type: originFileObj.type\n          });\n          clone.name = originFileObj.name;\n          clone.lastModifiedDate = new Date();\n          clone.lastModified = new Date().getTime();\n        }\n        clone.uid = fileObj.uid;\n        triggerFileObj = clone;\n      } else {\n        // Inject `uploading` status\n        fileObj.status = 'uploading';\n      }\n      onInternalChange(triggerFileObj, newFileList);\n    });\n  };\n  const onSuccess = (response, file, xhr) => {\n    try {\n      if (typeof response === 'string') {\n        response = JSON.parse(response);\n      }\n    } catch (_a) {\n      /* do nothing */\n    }\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n    const targetItem = file2Obj(file);\n    targetItem.status = 'done';\n    targetItem.percent = 100;\n    targetItem.response = response;\n    targetItem.xhr = xhr;\n    const nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList);\n  };\n  const onProgress = (e, file) => {\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n    const targetItem = file2Obj(file);\n    targetItem.status = 'uploading';\n    targetItem.percent = e.percent;\n    const nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList, e);\n  };\n  const onError = (error, response, file) => {\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n    const targetItem = file2Obj(file);\n    targetItem.error = error;\n    targetItem.response = response;\n    targetItem.status = 'error';\n    const nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList);\n  };\n  const handleRemove = file => {\n    let currentFile;\n    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove).then(ret => {\n      var _a;\n      // Prevent removing file\n      if (ret === false) {\n        return;\n      }\n      const removedFileList = removeFileItem(file, mergedFileList);\n      if (removedFileList) {\n        currentFile = Object.assign(Object.assign({}, file), {\n          status: 'removed'\n        });\n        mergedFileList === null || mergedFileList === void 0 ? void 0 : mergedFileList.forEach(item => {\n          const matchKey = currentFile.uid !== undefined ? 'uid' : 'name';\n          if (item[matchKey] === currentFile[matchKey] && !Object.isFrozen(item)) {\n            item.status = 'removed';\n          }\n        });\n        (_a = upload.current) === null || _a === void 0 ? void 0 : _a.abort(currentFile);\n        onInternalChange(currentFile, removedFileList);\n      }\n    });\n  };\n  const onFileDrop = e => {\n    setDragState(e.type);\n    if (e.type === 'drop') {\n      onDrop === null || onDrop === void 0 ? void 0 : onDrop(e);\n    }\n  };\n  // Test needs\n  React.useImperativeHandle(ref, () => ({\n    onBatchStart,\n    onSuccess,\n    onProgress,\n    onError,\n    fileList: mergedFileList,\n    upload: upload.current,\n    nativeElement: wrapRef.current\n  }));\n  const {\n    getPrefixCls,\n    direction,\n    upload: ctxUpload\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('upload', customizePrefixCls);\n  const rcUploadProps = Object.assign(Object.assign({\n    onBatchStart,\n    onError,\n    onProgress,\n    onSuccess\n  }, props), {\n    customRequest,\n    data,\n    multiple,\n    action,\n    accept,\n    supportServerRender,\n    prefixCls,\n    disabled: mergedDisabled,\n    beforeUpload: mergedBeforeUpload,\n    onChange: undefined,\n    hasControlInside\n  });\n  delete rcUploadProps.className;\n  delete rcUploadProps.style;\n  // Remove id to avoid open by label when trigger is hidden\n  // !children: https://github.com/ant-design/ant-design/issues/14298\n  // disabled: https://github.com/ant-design/ant-design/issues/16478\n  //           https://github.com/ant-design/ant-design/issues/24197\n  if (!children || mergedDisabled) {\n    delete rcUploadProps.id;\n  }\n  const wrapperCls = `${prefixCls}-wrapper`;\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, wrapperCls);\n  const [contextLocale] = useLocale('Upload', defaultLocale.Upload);\n  const {\n    showRemoveIcon,\n    showPreviewIcon,\n    showDownloadIcon,\n    removeIcon,\n    previewIcon,\n    downloadIcon,\n    extra\n  } = typeof showUploadList === 'boolean' ? {} : showUploadList;\n  // use showRemoveIcon if it is specified explicitly\n  const realShowRemoveIcon = typeof showRemoveIcon === 'undefined' ? !mergedDisabled : showRemoveIcon;\n  const renderUploadList = (button, buttonVisible) => {\n    if (!showUploadList) {\n      return button;\n    }\n    return /*#__PURE__*/React.createElement(UploadList, {\n      prefixCls: prefixCls,\n      listType: listType,\n      items: mergedFileList,\n      previewFile: previewFile,\n      onPreview: onPreview,\n      onDownload: onDownload,\n      onRemove: handleRemove,\n      showRemoveIcon: realShowRemoveIcon,\n      showPreviewIcon: showPreviewIcon,\n      showDownloadIcon: showDownloadIcon,\n      removeIcon: removeIcon,\n      previewIcon: previewIcon,\n      downloadIcon: downloadIcon,\n      iconRender: iconRender,\n      extra: extra,\n      locale: Object.assign(Object.assign({}, contextLocale), propLocale),\n      isImageUrl: isImageUrl,\n      progress: progress,\n      appendAction: button,\n      appendActionVisible: buttonVisible,\n      itemRender: itemRender,\n      disabled: mergedDisabled\n    });\n  };\n  const mergedCls = classNames(wrapperCls, className, rootClassName, hashId, cssVarCls, ctxUpload === null || ctxUpload === void 0 ? void 0 : ctxUpload.className, {\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-picture-card-wrapper`]: listType === 'picture-card',\n    [`${prefixCls}-picture-circle-wrapper`]: listType === 'picture-circle'\n  });\n  const mergedStyle = Object.assign(Object.assign({}, ctxUpload === null || ctxUpload === void 0 ? void 0 : ctxUpload.style), style);\n  // ======================== Render ========================\n  if (type === 'drag') {\n    const dragCls = classNames(hashId, prefixCls, `${prefixCls}-drag`, {\n      [`${prefixCls}-drag-uploading`]: mergedFileList.some(file => file.status === 'uploading'),\n      [`${prefixCls}-drag-hover`]: dragState === 'dragover',\n      [`${prefixCls}-disabled`]: mergedDisabled,\n      [`${prefixCls}-rtl`]: direction === 'rtl'\n    });\n    return wrapCSSVar(/*#__PURE__*/React.createElement(\"span\", {\n      className: mergedCls,\n      ref: wrapRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: dragCls,\n      style: mergedStyle,\n      onDrop: onFileDrop,\n      onDragOver: onFileDrop,\n      onDragLeave: onFileDrop\n    }, /*#__PURE__*/React.createElement(RcUpload, Object.assign({}, rcUploadProps, {\n      ref: upload,\n      className: `${prefixCls}-btn`\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${prefixCls}-drag-container`\n    }, children))), renderUploadList()));\n  }\n  const uploadBtnCls = classNames(prefixCls, `${prefixCls}-select`, {\n    [`${prefixCls}-disabled`]: mergedDisabled,\n    [`${prefixCls}-hidden`]: !children\n  });\n  const uploadButton = /*#__PURE__*/React.createElement(\"div\", {\n    className: uploadBtnCls,\n    style: mergedStyle\n  }, /*#__PURE__*/React.createElement(RcUpload, Object.assign({}, rcUploadProps, {\n    ref: upload\n  })));\n  if (listType === 'picture-card' || listType === 'picture-circle') {\n    return wrapCSSVar(/*#__PURE__*/React.createElement(\"span\", {\n      className: mergedCls,\n      ref: wrapRef\n    }, renderUploadList(uploadButton, !!children)));\n  }\n  return wrapCSSVar(/*#__PURE__*/React.createElement(\"span\", {\n    className: mergedCls,\n    ref: wrapRef\n  }, uploadButton, renderUploadList()));\n};\nconst Upload = /*#__PURE__*/React.forwardRef(InternalUpload);\nif (process.env.NODE_ENV !== 'production') {\n  Upload.displayName = 'Upload';\n}\nexport default Upload;","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport Upload from './Upload';\nconst Dragger = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      style,\n      height,\n      hasControlInside = false,\n      children\n    } = props,\n    restProps = __rest(props, [\"style\", \"height\", \"hasControlInside\", \"children\"]);\n  const mergedStyle = Object.assign(Object.assign({}, style), {\n    height\n  });\n  return /*#__PURE__*/React.createElement(Upload, Object.assign({\n    ref: ref,\n    hasControlInside: hasControlInside\n  }, restProps, {\n    style: mergedStyle,\n    type: \"drag\"\n  }), children);\n});\nif (process.env.NODE_ENV !== 'production') {\n  Dragger.displayName = 'Dragger';\n}\nexport default Dragger;","\"use client\";\n\nimport Dragger from './Dragger';\nimport InternalUpload, { LIST_IGNORE } from './Upload';\nconst Upload = InternalUpload;\nUpload.Dragger = Dragger;\nUpload.LIST_IGNORE = LIST_IGNORE;\nexport default Upload;","import { ScheduleSourceType, ScheduleType } from \"@/models/Schedule\";\nimport { z } from \"zod\";\n\nexport const scheduleSchema = z\n  .object({\n    title: z\n      .string()\n      .min(5, \"Tiêu đề phải có ít nhất 5 ký tự\")\n      .max(100, \"Tiêu đề không quá 100 ký tự\"),\n    description: z.string().optional(),\n    type: z.nativeEnum(ScheduleType),\n    priority: z.number().min(1).max(10),\n\n    // Source Config\n    sourceType: z.nativeEnum(ScheduleSourceType),\n    sourceUrl: z.string().optional(),\n    fileUrl: z.string().optional(),\n    streamUrl: z.string().optional(),\n    ttsContent: z.string().optional(),\n\n    // Relay Broadcasting Config\n    sourceUnitId: z.string().optional(),\n    sourceChannelId: z.string().optional(),\n    relayFromLevel: z.enum([\"PROVINCE\", \"DISTRICT\", \"COMMUNE\"]).optional(),\n\n    // Time Config\n    startTime: z.date({\n      error: \"Vui lòng chọn thời gian bắt đầu\",\n      // invalid_type_error: \"Thời gian bắt đầu không hợp lệ\",\n    }),\n    endTime: z.date().optional(),\n\n    // Targeting\n    targetUnitIds: z\n      .array(z.string())\n      .min(1, \"Vui lòng chọn ít nhất một đơn vị\"),\n    targetDeviceIds: z.array(z.string()),\n\n    // Routine\n    daysOfWeek: z.array(z.number()).optional(),\n  })\n  .superRefine((data, ctx) => {\n    // Validate TTS content\n    if (data.sourceType === ScheduleSourceType.TTS) {\n      if (!data.ttsContent || data.ttsContent.trim().length === 0) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: \"Vui lòng nhập nội dung văn bản\",\n          path: [\"ttsContent\"],\n        });\n      }\n    }\n    // Validate FILE source\n    else if (data.sourceType === ScheduleSourceType.FILE) {\n      if (!data.fileUrl || data.fileUrl.trim().length === 0) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: \"Vui lòng nhập đường dẫn file\",\n          path: [\"fileUrl\"],\n        });\n      }\n    }\n    // Validate STREAM source\n    else if (data.sourceType === ScheduleSourceType.STREAM) {\n      if (!data.streamUrl || data.streamUrl.trim().length === 0) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: \"Vui lòng nhập đường dẫn stream\",\n          path: [\"streamUrl\"],\n        });\n      }\n    }\n    // Validate RELAY source\n    else if (data.sourceType === ScheduleSourceType.RELAY) {\n      if (!data.sourceUnitId || data.sourceUnitId.trim().length === 0) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: \"Vui lòng chọn đơn vị nguồn\",\n          path: [\"sourceUnitId\"],\n        });\n      }\n      if (!data.sourceChannelId || data.sourceChannelId.trim().length === 0) {\n        ctx.addIssue({\n          code: z.ZodIssueCode.custom,\n          message: \"Vui lòng chọn kênh phát sóng\",\n          path: [\"sourceChannelId\"],\n        });\n      }\n    }\n  });\n\nexport type ScheduleFormValues = z.infer<typeof scheduleSchema>;\n","import { mockUnits } from \"@/mocks/mockUnit\";\nimport { UnitType } from \"@/models/Unit\";\nimport { buildTree } from \"@/pages/devices/list/utils/build-tree\";\nimport { Form, Select, TreeSelect } from \"antd\";\nimport React, { useMemo } from \"react\";\n\ninterface RelaySourceSelectorProps {\n  sourceUnitId?: string;\n  sourceChannelId?: string;\n  relayFromLevel?: \"PROVINCE\" | \"DISTRICT\" | \"COMMUNE\";\n  onSourceUnitChange: (value: string) => void;\n  onSourceChannelChange: (value: string) => void;\n  onRelayLevelChange: (value: \"PROVINCE\" | \"DISTRICT\" | \"COMMUNE\") => void;\n  errors?: {\n    sourceUnitId?: string;\n    sourceChannelId?: string;\n  };\n}\n\n// Mock channels data - In production, this should come from API\nconst mockChannels = [\n  { id: \"ch-1\", name: \"Kênh Trung ương 1\", unitId: \"province-1\" },\n  { id: \"ch-2\", name: \"Kênh Trung ương 2\", unitId: \"province-1\" },\n  { id: \"ch-3\", name: \"Kênh Huyện A\", unitId: \"district-1\" },\n  { id: \"ch-4\", name: \"Kênh Huyện B\", unitId: \"district-2\" },\n  { id: \"ch-5\", name: \"Kênh Xã 1\", unitId: \"commune-1\" },\n];\n\nexport const RelaySourceSelector: React.FC<RelaySourceSelectorProps> = ({\n  sourceUnitId,\n  sourceChannelId,\n  relayFromLevel,\n  onSourceUnitChange,\n  onSourceChannelChange,\n  onRelayLevelChange,\n  errors,\n}) => {\n  // Build tree data for upper-level units\n  const unitTreeData = useMemo(() => {\n    return buildTree(\n      mockUnits.getAll().filter((u) => u.type !== UnitType.EMPLOYEE)\n    );\n  }, []);\n\n  // Filter channels based on selected unit\n  const channelOptions = useMemo(() => {\n    if (!sourceUnitId) return [];\n\n    return mockChannels\n      .filter((ch) => ch.unitId === sourceUnitId)\n      .map((ch) => ({\n        label: ch.name,\n        value: ch.id,\n      }));\n  }, [sourceUnitId]);\n\n  // Auto-detect relay level based on selected unit\n  React.useEffect(() => {\n    if (sourceUnitId) {\n      const unit = mockUnits.getAll().find((u) => u.id === sourceUnitId);\n      if (unit) {\n        // Map unit type to relay level - simplified mapping\n        // In production, you'd have proper hierarchy detection\n        const levelMap: Partial<\n          Record<UnitType, \"PROVINCE\" | \"DISTRICT\" | \"COMMUNE\">\n        > = {\n          [UnitType.DEPARTMENT]: \"DISTRICT\",\n          [UnitType.EMPLOYEE]: \"COMMUNE\",\n        };\n        const level = levelMap[unit.type] || \"COMMUNE\";\n        onRelayLevelChange(level);\n      }\n    }\n  }, [sourceUnitId, onRelayLevelChange]);\n\n  return (\n    <div className=\"space-y-4\">\n      <Form.Item\n        label=\"Chọn cơ sở / Kênh phát nguồn\"\n        required\n        validateStatus={errors?.sourceUnitId ? \"error\" : \"\"}\n        help={errors?.sourceUnitId}\n      >\n        <TreeSelect\n          value={sourceUnitId}\n          onChange={onSourceUnitChange}\n          treeData={unitTreeData}\n          placeholder=\"Chọn đơn vị nguồn (cấp trên)...\"\n          showSearch\n          treeDefaultExpandAll\n          allowClear\n        />\n      </Form.Item>\n\n      <Form.Item\n        label=\"Kênh phát sóng\"\n        required\n        validateStatus={errors?.sourceChannelId ? \"error\" : \"\"}\n        help={errors?.sourceChannelId}\n      >\n        <Select\n          value={sourceChannelId}\n          onChange={onSourceChannelChange}\n          options={channelOptions}\n          placeholder=\"Chọn kênh phát sóng...\"\n          disabled={!sourceUnitId}\n          allowClear\n        />\n      </Form.Item>\n\n      {relayFromLevel && (\n        <div className=\"bg-blue-50 p-3 rounded border border-blue-200\">\n          <div className=\"text-sm text-blue-800\">\n            <strong>Cấp truyền xuống:</strong>{\" \"}\n            {relayFromLevel === \"PROVINCE\"\n              ? \"Tỉnh/Thành phố\"\n              : relayFromLevel === \"DISTRICT\"\n              ? \"Quận/Huyện\"\n              : \"Phường/Xã\"}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { mockDevices } from \"@/mocks/mockDevice\";\nimport { mockUnits } from \"@/mocks/mockUnit\";\nimport { ScheduleSourceType, ScheduleType } from \"@/models/Schedule\";\nimport { UnitType } from \"@/models/Unit\";\nimport { buildTree } from \"@/pages/devices/list/utils/build-tree\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport {\n  Button,\n  Col,\n  DatePicker,\n  Form,\n  Input,\n  Modal,\n  Radio,\n  Row,\n  Segmented,\n  Select,\n  TreeSelect,\n  Upload,\n  message,\n} from \"antd\";\nimport dayjs from \"dayjs\";\nimport React, { useEffect } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { ScheduleFormValues, scheduleSchema } from \"../schema/schedule\";\nimport { RelaySourceSelector } from \"./RelaySourceSelector\";\n\ninterface ScheduleFormProps {\n  open: boolean;\n  onCancel: () => void;\n  onSubmit: (values: ScheduleFormValues) => void;\n  initialValues?: Partial<ScheduleFormValues>;\n}\n\nexport const ScheduleForm: React.FC<ScheduleFormProps> = ({\n  open,\n  onCancel,\n  onSubmit,\n  initialValues,\n}) => {\n  const {\n    control,\n    handleSubmit,\n    watch,\n    reset,\n    setValue,\n    formState: { errors, isValid },\n  } = useForm<ScheduleFormValues>({\n    resolver: zodResolver(scheduleSchema),\n    defaultValues: {\n      type: ScheduleType.ROUTINE,\n      priority: 5,\n      sourceType: ScheduleSourceType.FILE,\n      targetUnitIds: [],\n      targetDeviceIds: [],\n      ...initialValues,\n    },\n  });\n\n  // Watch values for conditional rendering\n  const sourceType = watch(\"sourceType\");\n  const targetUnitIds = watch(\"targetUnitIds\");\n  const type = watch(\"type\");\n\n  // Segment state for filtering (All / Unit / Relay)\n  const [scheduleCategory, setScheduleCategory] = React.useState<\n    \"all\" | \"unit\" | \"relay\"\n  >(\"unit\");\n\n  useEffect(() => {\n    if (open) {\n      if (initialValues) {\n        // Map initial values to form fields\n        const formattedValues = {\n          ...initialValues,\n          startTime: initialValues.startTime\n            ? dayjs(initialValues.startTime)\n            : undefined,\n          endTime: initialValues.endTime\n            ? dayjs(initialValues.endTime)\n            : undefined,\n          // If editing, we might need to separate sourceUrl back to fileUrl/streamUrl\n          fileUrl:\n            initialValues.sourceType === ScheduleSourceType.FILE\n              ? initialValues.sourceUrl\n              : undefined,\n          streamUrl:\n            initialValues.sourceType === ScheduleSourceType.STREAM\n              ? initialValues.sourceUrl\n              : undefined,\n        };\n        // @ts-ignore - dayjs type mismatch with zod date sometimes needs explicit casting or just ignoring in quick resets if valid\n        reset(formattedValues);\n      } else {\n        reset({\n          type: ScheduleType.ROUTINE,\n          priority: 5,\n          sourceType: ScheduleSourceType.FILE,\n          targetUnitIds: [],\n          targetDeviceIds: [],\n        });\n      }\n    }\n  }, [open, initialValues, reset]);\n\n  const onFinish = (data: ScheduleFormValues) => {\n    // Transform fileUrl/streamUrl back to sourceUrl\n    let finalData = { ...data };\n    if (data.sourceType === ScheduleSourceType.FILE) {\n      finalData.sourceUrl = data.fileUrl;\n    } else if (data.sourceType === ScheduleSourceType.STREAM) {\n      finalData.sourceUrl = data.streamUrl;\n    }\n\n    const payload = {\n      ...finalData,\n      startTime: (finalData.startTime as any)?.toDate\n        ? (finalData.startTime as any).toDate()\n        : finalData.startTime,\n      endTime: (finalData.endTime as any)?.toDate\n        ? (finalData.endTime as any).toDate()\n        : finalData.endTime,\n    };\n\n    console.log(\"Form Submit:\", payload);\n    onSubmit(payload as ScheduleFormValues);\n    message.success(\n      initialValues ? \"Cập nhật lịch thành công!\" : \"Tạo lịch thành công!\"\n    );\n    onCancel();\n  };\n\n  const unitTreeData = buildTree(\n    mockUnits.getAll().filter((u) => u.type !== UnitType.EMPLOYEE)\n  );\n\n  // Filter devices logic\n  const filteredDevices = React.useMemo(() => {\n    const unitIds = targetUnitIds || [];\n    return mockDevices\n      .getAll()\n      .filter((d) => unitIds.length === 0 || unitIds.includes(d.unitId))\n      .map((d) => ({\n        label: `${d.name} (${d.hardwareInfo?.ipAddress})`,\n        value: d.id,\n      }));\n  }, [targetUnitIds]);\n\n  return (\n    <Modal\n      title={initialValues ? \"Cập nhật lịch phát\" : \"Tạo lịch phát mới\"}\n      width={800}\n      open={open}\n      onCancel={onCancel}\n      footer={\n        <div className=\"flex justify-end gap-2\">\n          <Button onClick={onCancel}>Hủy</Button>\n          <Button type=\"primary\" onClick={handleSubmit(onFinish)}>\n            {initialValues ? \"Cập nhật\" : \"Tạo mới\"}\n          </Button>\n        </div>\n      }\n      destroyOnHidden\n    >\n      <Form layout=\"vertical\" className=\"mt-4\">\n        {/* CARD 1: GENERAL INFO */}\n\n        <Row gutter={16}>\n          <Col span={16}>\n            <Form.Item\n              label=\"Tên lịch phát\"\n              validateStatus={errors.title ? \"error\" : \"\"}\n              help={errors.title?.message}\n              required\n            >\n              <Controller\n                name=\"title\"\n                control={control}\n                render={({ field }) => (\n                  <Input {...field} placeholder=\"Nhập tên lịch phát...\" />\n                )}\n              />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label=\"Loại lịch\"\n              validateStatus={errors.type ? \"error\" : \"\"}\n              help={errors.type?.message}\n              required\n            >\n              <Controller\n                name=\"type\"\n                control={control}\n                render={({ field }) => (\n                  <Select\n                    {...field}\n                    options={[\n                      {\n                        label: \"Định kỳ (Hàng ngày/Tuần)\",\n                        value: ScheduleType.ROUTINE,\n                      },\n                      { label: \"Một lần\", value: ScheduleType.ONE_TIME },\n                      { label: \"Khẩn cấp\", value: ScheduleType.EMERGENCY },\n                    ]}\n                  />\n                )}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Form.Item label=\"Mô tả\">\n          <Controller\n            name=\"description\"\n            control={control}\n            render={({ field }) => (\n              <Input.TextArea\n                {...field}\n                placeholder=\"Mô tả nội dung...\"\n                rows={5}\n              />\n            )}\n          />\n        </Form.Item>\n\n        {/* CARD 2: SOURCE CONFIG */}\n        <Form.Item label=\"Loại lịch phát\">\n          <Segmented\n            value={scheduleCategory}\n            onChange={(value: string | number) => {\n              setScheduleCategory(value as \"all\" | \"unit\" | \"relay\");\n              // Auto-switch sourceType based on category\n              if (value === \"relay\") {\n                setValue(\"sourceType\", ScheduleSourceType.RELAY);\n              } else if (value === \"unit\") {\n                setValue(\"sourceType\", ScheduleSourceType.FILE);\n              }\n            }}\n            options={[\n              { label: \"Tất cả\", value: \"all\" },\n              { label: \"Đơn vị\", value: \"unit\" },\n              { label: \"Tiếp sóng\", value: \"relay\" },\n            ]}\n            block\n          />\n        </Form.Item>\n\n        <Form.Item label=\"Chọn nguồn phát\">\n          <Controller\n            name=\"sourceType\"\n            control={control}\n            render={({ field }) => (\n              <Radio.Group\n                {...field}\n                options={\n                  scheduleCategory === \"relay\"\n                    ? [\n                        {\n                          label: \"Tiếp sóng từ cấp trên\",\n                          value: ScheduleSourceType.RELAY,\n                        },\n                      ]\n                    : scheduleCategory === \"unit\"\n                    ? [\n                        { label: \"File Audio\", value: ScheduleSourceType.FILE },\n                        {\n                          label: \"Chuyển văn bản (TTS)\",\n                          value: ScheduleSourceType.TTS,\n                        },\n                      ]\n                    : [\n                        { label: \"File Audio\", value: ScheduleSourceType.FILE },\n                        {\n                          label: \"Chuyển văn bản (TTS)\",\n                          value: ScheduleSourceType.TTS,\n                        },\n                        {\n                          label: \"Tiếp sóng từ cấp trên\",\n                          value: ScheduleSourceType.RELAY,\n                        },\n                      ]\n                }\n              />\n            )}\n          />\n        </Form.Item>\n\n        {sourceType === ScheduleSourceType.FILE && (\n          <Form.Item\n            label=\"Đường dẫn File\"\n            required\n            validateStatus={errors.fileUrl ? \"error\" : \"\"}\n            help={errors.fileUrl?.message}\n          >\n            <Controller\n              name=\"fileUrl\"\n              control={control}\n              render={({ field }) => (\n                <Upload\n                  name={field.name}\n                  accept=\"audio/*\"\n                  maxCount={1}\n                  beforeUpload={(file) => {\n                    const url = URL.createObjectURL(file);\n                    field.onChange(url);\n                    return false;\n                  }}\n                  onRemove={() => {\n                    field.onChange(\"\");\n                  }}\n                  fileList={\n                    field.value\n                      ? [\n                          {\n                            uid: \"-1\",\n                            name: \"Audio File\",\n                            status: \"done\",\n                            url: field.value,\n                          },\n                        ]\n                      : []\n                  }\n                >\n                  <Button icon={<UploadOutlined />}>Chọn file Audio</Button>\n                </Upload>\n              )}\n            />\n          </Form.Item>\n        )}\n\n        {sourceType === ScheduleSourceType.TTS && (\n          <Form.Item\n            label=\"Nội dung văn bản\"\n            required\n            validateStatus={errors.ttsContent ? \"error\" : \"\"}\n            help={errors.ttsContent?.message}\n          >\n            <Controller\n              name=\"ttsContent\"\n              control={control}\n              render={({ field }) => (\n                <Input.TextArea\n                  {...field}\n                  rows={4}\n                  placeholder=\"Nhập nội dung cần chuyển thành giọng nói...\"\n                />\n              )}\n            />\n          </Form.Item>\n        )}\n\n        {sourceType === ScheduleSourceType.RELAY && (\n          <RelaySourceSelector\n            sourceUnitId={watch(\"sourceUnitId\")}\n            sourceChannelId={watch(\"sourceChannelId\")}\n            relayFromLevel={watch(\"relayFromLevel\")}\n            onSourceUnitChange={(value) => setValue(\"sourceUnitId\", value)}\n            onSourceChannelChange={(value) =>\n              setValue(\"sourceChannelId\", value)\n            }\n            onRelayLevelChange={(value) => setValue(\"relayFromLevel\", value)}\n            errors={{\n              sourceUnitId: errors.sourceUnitId?.message,\n              sourceChannelId: errors.sourceChannelId?.message,\n            }}\n          />\n        )}\n\n        {/* CARD 3: TARGET & TIME */}\n        <Row gutter={16}>\n          <Col span={12}>\n            <Form.Item\n              label=\"Chọn Đơn vị / Địa bàn\"\n              validateStatus={errors.targetUnitIds ? \"error\" : \"\"}\n              help={errors.targetUnitIds?.message}\n            >\n              <Controller\n                name=\"targetUnitIds\"\n                control={control}\n                render={({ field }) => (\n                  <TreeSelect\n                    {...field}\n                    treeData={unitTreeData}\n                    treeCheckable\n                    showCheckedStrategy={TreeSelect.SHOW_PARENT}\n                    placeholder=\"Chọn đơn vị...\"\n                    treeDefaultExpandAll\n                    allowClear\n                  />\n                )}\n              />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item label=\"Chọn Thiết bị (Để trống = Chọn tất cả)\">\n              <Controller\n                name=\"targetDeviceIds\"\n                control={control}\n                render={({ field }) => (\n                  <Select\n                    {...field}\n                    mode=\"multiple\"\n                    options={filteredDevices}\n                    placeholder=\"Chọn thiết bị cụ thể...\"\n                    allowClear\n                  />\n                )}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={16}>\n          <Col span={12}>\n            <Form.Item\n              label=\"Bắt đầu\"\n              required\n              validateStatus={errors.startTime ? \"error\" : \"\"}\n              help={errors.startTime?.message}\n            >\n              <Controller\n                name=\"startTime\"\n                control={control}\n                render={({ field }) => (\n                  <DatePicker {...field} showTime className=\"w-full\" />\n                )}\n              />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item label=\"Kết thúc\">\n              <Controller\n                name=\"endTime\"\n                control={control}\n                render={({ field }) => (\n                  <DatePicker {...field} showTime className=\"w-full\" />\n                )}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n      </Form>\n    </Modal>\n  );\n};\n","// src/mutationObserver.ts\nimport { getDefaultState } from \"./mutation.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nimport { hashKey, shallowEqualObjects } from \"./utils.js\";\nvar MutationObserver = class extends Subscribable {\n  #client;\n  #currentResult = void 0;\n  #currentMutation;\n  #mutateOptions;\n  constructor(client, options) {\n    super();\n    this.#client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.#updateResult();\n  }\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  setOptions(options) {\n    const prevOptions = this.options;\n    this.options = this.#client.defaultMutationOptions(options);\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: \"observerOptionsUpdated\",\n        mutation: this.#currentMutation,\n        observer: this\n      });\n    }\n    if (prevOptions?.mutationKey && this.options.mutationKey && hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)) {\n      this.reset();\n    } else if (this.#currentMutation?.state.status === \"pending\") {\n      this.#currentMutation.setOptions(this.options);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this);\n    }\n  }\n  onMutationUpdate(action) {\n    this.#updateResult();\n    this.#notify(action);\n  }\n  getCurrentResult() {\n    return this.#currentResult;\n  }\n  reset() {\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = void 0;\n    this.#updateResult();\n    this.#notify();\n  }\n  mutate(variables, options) {\n    this.#mutateOptions = options;\n    this.#currentMutation?.removeObserver(this);\n    this.#currentMutation = this.#client.getMutationCache().build(this.#client, this.options);\n    this.#currentMutation.addObserver(this);\n    return this.#currentMutation.execute(variables);\n  }\n  #updateResult() {\n    const state = this.#currentMutation?.state ?? getDefaultState();\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === \"pending\",\n      isSuccess: state.status === \"success\",\n      isError: state.status === \"error\",\n      isIdle: state.status === \"idle\",\n      mutate: this.mutate,\n      reset: this.reset\n    };\n  }\n  #notify(action) {\n    notifyManager.batch(() => {\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables;\n        const onMutateResult = this.#currentResult.context;\n        const context = {\n          client: this.#client,\n          meta: this.options.meta,\n          mutationKey: this.options.mutationKey\n        };\n        if (action?.type === \"success\") {\n          try {\n            this.#mutateOptions.onSuccess?.(\n              action.data,\n              variables,\n              onMutateResult,\n              context\n            );\n          } catch (e) {\n            void Promise.reject(e);\n          }\n          try {\n            this.#mutateOptions.onSettled?.(\n              action.data,\n              null,\n              variables,\n              onMutateResult,\n              context\n            );\n          } catch (e) {\n            void Promise.reject(e);\n          }\n        } else if (action?.type === \"error\") {\n          try {\n            this.#mutateOptions.onError?.(\n              action.error,\n              variables,\n              onMutateResult,\n              context\n            );\n          } catch (e) {\n            void Promise.reject(e);\n          }\n          try {\n            this.#mutateOptions.onSettled?.(\n              void 0,\n              action.error,\n              variables,\n              onMutateResult,\n              context\n            );\n          } catch (e) {\n            void Promise.reject(e);\n          }\n        }\n      }\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult);\n      });\n    });\n  }\n};\nexport {\n  MutationObserver\n};\n//# sourceMappingURL=mutationObserver.js.map","\"use client\";\n\n// src/useMutation.ts\nimport * as React from \"react\";\nimport {\n  MutationObserver,\n  noop,\n  notifyManager,\n  shouldThrowError\n} from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider.js\";\nfunction useMutation(options, queryClient) {\n  const client = useQueryClient(queryClient);\n  const [observer] = React.useState(\n    () => new MutationObserver(\n      client,\n      options\n    )\n  );\n  React.useEffect(() => {\n    observer.setOptions(options);\n  }, [observer, options]);\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer]\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult()\n  );\n  const mutate = React.useCallback(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop);\n    },\n    [observer]\n  );\n  if (result.error && shouldThrowError(observer.options.throwOnError, [result.error])) {\n    throw result.error;\n  }\n  return { ...result, mutate, mutateAsync: result.mutate };\n}\nexport {\n  useMutation\n};\n//# sourceMappingURL=useMutation.js.map","import { mockSchedules } from \"@/mocks/mockSchedule\";\nimport { Schedule, ScheduleStatus } from \"@/models/Schedule\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { message } from \"antd\";\n\n/**\n * Hook để tạo schedule mới\n */\nexport const useCreateSchedule = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (data: Omit<Schedule, \"id\" | \"createdAt\">) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const newSchedule: Schedule = {\n        ...data,\n        id: `schedule-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n        createdAt: new Date(),\n      };\n\n      return mockSchedules.create(newSchedule);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.success(\"Tạo lịch phát thành công!\");\n    },\n    onError: (error: Error) => {\n      message.error(`Tạo lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n\n/**\n * Hook để cập nhật schedule\n */\nexport const useUpdateSchedule = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async ({\n      id,\n      data,\n    }: {\n      id: string;\n      data: Partial<Schedule>;\n    }) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const updated = mockSchedules.update(id, data);\n      if (!updated) {\n        throw new Error(\"Không tìm thấy lịch phát\");\n      }\n      return updated;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.success(\"Cập nhật lịch phát thành công!\");\n    },\n    onError: (error: Error) => {\n      message.error(`Cập nhật lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n\n/**\n * Hook để xóa schedule\n */\nexport const useDeleteSchedule = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (id: string) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const success = mockSchedules.delete(id);\n      if (!success) {\n        throw new Error(\"Không tìm thấy lịch phát\");\n      }\n      return id;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.success(\"Xóa lịch phát thành công!\");\n    },\n    onError: (error: Error) => {\n      message.error(`Xóa lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n\n/**\n * Hook để hủy schedule (chuyển status sang CANCELED)\n */\nexport const useCancelSchedule = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (id: string) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const updated = mockSchedules.update(id, {\n        status: ScheduleStatus.CANCELED,\n      });\n      if (!updated) {\n        throw new Error(\"Không tìm thấy lịch phát\");\n      }\n      return updated;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.success(\"Hủy lịch phát thành công!\");\n    },\n    onError: (error: Error) => {\n      message.error(`Hủy lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n\n/**\n * Hook để duyệt schedule (chuyển status sang APPROVED)\n */\nexport const useApproveSchedule = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (id: string) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const updated = mockSchedules.update(id, {\n        status: ScheduleStatus.APPROVED,\n        approvedBy: `admin-${Date.now()}`, // Mock admin ID\n      });\n      if (!updated) {\n        throw new Error(\"Không tìm thấy lịch phát\");\n      }\n      return updated;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.success(\"Duyệt lịch phát thành công!\");\n    },\n    onError: (error: Error) => {\n      message.error(`Duyệt lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n\n/**\n * Hook để từ chối schedule (chuyển status sang REJECTED)\n */\nexport const useRejectSchedule = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (id: string) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const updated = mockSchedules.update(id, {\n        status: ScheduleStatus.REJECTED,\n      });\n      if (!updated) {\n        throw new Error(\"Không tìm thấy lịch phát\");\n      }\n      return updated;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.warning(\"Đã từ chối lịch phát!\");\n    },\n    onError: (error: Error) => {\n      message.error(`Từ chối lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n\n/**\n * Hook để bulk delete schedules\n */\nexport const useBulkDeleteSchedules = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (ids: string[]) => {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 500));\n\n      const results = ids.map((id) => mockSchedules.delete(id));\n      const successCount = results.filter(Boolean).length;\n\n      if (successCount === 0) {\n        throw new Error(\"Không thể xóa lịch phát nào\");\n      }\n\n      return { total: ids.length, success: successCount };\n    },\n    onSuccess: (result) => {\n      queryClient.invalidateQueries({ queryKey: [\"schedules\"] });\n      message.success(\n        `Đã xóa ${result.success}/${result.total} lịch phát thành công!`\n      );\n    },\n    onError: (error: Error) => {\n      message.error(`Xóa lịch phát thất bại: ${error.message}`);\n    },\n  });\n};\n","import { ScheduleStatus } from \"@/models/Schedule\";\n\n/**\n * Định nghĩa các action có thể thực hiện với schedule theo trạng thái\n */\nexport interface ScheduleActions {\n  canView: boolean;\n  canEdit: boolean;\n  canDelete: boolean;\n  canCancel: boolean;\n  canApprove: boolean;\n  canReject: boolean;\n}\n\n/**\n * Lấy danh sách actions có thể thực hiện dựa trên status của schedule\n *\n * Logic:\n * - DRAFT: Có thể xem, sửa, xóa\n * - PENDING_APPROVAL: Có thể xem, hủy, duyệt, từ chối\n * - READY: Có thể xem, sửa, hủy\n * - RUNNING: Chỉ có thể xem, hủy (khẩn cấp)\n * - COMPLETED: Chỉ có thể xem\n * - APPROVED: Có thể xem, sửa, hủy\n * - CANCELED: Chỉ có thể xem\n * - REJECTED: Có thể xem, sửa, xóa (để tạo lại)\n */\nexport const getAvailableActions = (\n  status: ScheduleStatus\n): ScheduleActions => {\n  // Base: everyone can view\n  const actions: ScheduleActions = {\n    canView: true,\n    canEdit: false,\n    canDelete: false,\n    canCancel: false,\n    canApprove: false,\n    canReject: false,\n  };\n\n  switch (status) {\n    case ScheduleStatus.DRAFT:\n      // Nháp: có thể sửa và xóa\n      actions.canEdit = true;\n      actions.canDelete = true;\n      break;\n\n    case ScheduleStatus.PENDING_APPROVAL:\n      // Chờ duyệt: có thể hủy, duyệt, từ chối\n      actions.canCancel = true;\n      actions.canApprove = true;\n      actions.canReject = true;\n      break;\n\n    case ScheduleStatus.READY:\n      // Sẵn sàng: có thể sửa và hủy\n      actions.canEdit = true;\n      actions.canCancel = true;\n      break;\n\n    case ScheduleStatus.RUNNING:\n      // Đang chạy: chỉ có thể hủy (khẩn cấp)\n      actions.canCancel = true;\n      break;\n\n    case ScheduleStatus.COMPLETED:\n      // Đã hoàn thành: chỉ xem\n      break;\n\n    case ScheduleStatus.APPROVED:\n      // Đã duyệt: có thể sửa và hủy\n      actions.canEdit = true;\n      actions.canCancel = true;\n      break;\n\n    case ScheduleStatus.CANCELED:\n      // Đã hủy: chỉ xem\n      break;\n\n    case ScheduleStatus.REJECTED:\n      // Từ chối: có thể sửa và xóa để tạo lại\n      actions.canEdit = true;\n      actions.canDelete = true;\n      break;\n\n    default:\n      // Unknown status: chỉ xem\n      break;\n  }\n\n  return actions;\n};\n\n/**\n * Kiểm tra xem có thể thực hiện action này không\n */\nexport const canPerformAction = (\n  status: ScheduleStatus,\n  action: keyof ScheduleActions\n): boolean => {\n  const actions = getAvailableActions(status);\n  return actions[action];\n};\n\n/**\n * Lấy text cho action button\n */\nexport const getActionButtonText = (action: keyof ScheduleActions): string => {\n  const textMap: Record<keyof ScheduleActions, string> = {\n    canView: \"Xem\",\n    canEdit: \"Sửa\",\n    canDelete: \"Xóa\",\n    canCancel: \"Hủy\",\n    canApprove: \"Duyệt\",\n    canReject: \"Từ chối\",\n  };\n  return textMap[action];\n};\n\n/**\n * Lấy confirmation message cho action\n */\nexport const getActionConfirmMessage = (\n  action: keyof ScheduleActions,\n  scheduleTitle: string\n): string => {\n  const messages: Record<keyof ScheduleActions, string> = {\n    canView: \"\",\n    canEdit: \"\",\n    canDelete: `Bạn có chắc chắn muốn xóa lịch phát \"${scheduleTitle}\"?`,\n    canCancel: `Bạn có chắc chắn muốn hủy lịch phát \"${scheduleTitle}\"?`,\n    canApprove: `Bạn có chắc chắn muốn duyệt lịch phát \"${scheduleTitle}\"?`,\n    canReject: `Bạn có chắc chắn muốn từ chối lịch phát \"${scheduleTitle}\"?`,\n  };\n  return messages[action];\n};\n\n/**\n * Lấy màu cho action button (Ant Design button type)\n */\nexport const getActionButtonType = (\n  action: keyof ScheduleActions\n): \"default\" | \"primary\" | \"dashed\" | \"link\" | \"text\" => {\n  const typeMap: Record<\n    keyof ScheduleActions,\n    \"default\" | \"primary\" | \"dashed\" | \"link\" | \"text\"\n  > = {\n    canView: \"link\",\n    canEdit: \"default\",\n    canDelete: \"default\",\n    canCancel: \"default\",\n    canApprove: \"primary\",\n    canReject: \"default\",\n  };\n  return typeMap[action];\n};\n\n/**\n * Kiểm tra xem action có phải là destructive không (cần confirmation)\n */\nexport const isDestructiveAction = (action: keyof ScheduleActions): boolean => {\n  return [\"canDelete\", \"canCancel\", \"canReject\"].includes(action);\n};\n","import { mockDevices } from \"@/mocks/mockDevice\";\nimport { mockUnits } from \"@/mocks/mockUnit\";\nimport {\n  Schedule,\n  ScheduleSourceType,\n  ScheduleStatus,\n  ScheduleType,\n} from \"@/models/Schedule\";\nimport {\n  AudioOutlined,\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  EllipsisOutlined,\n  EyeOutlined,\n  FlagOutlined,\n  LinkOutlined,\n  SoundOutlined,\n  StopOutlined,\n  ThunderboltOutlined,\n} from \"@ant-design/icons\";\nimport type { MenuProps, TableColumnsType } from \"antd\";\nimport {\n  Badge,\n  Button,\n  Dropdown,\n  Input,\n  Modal,\n  Space,\n  Table,\n  Tag,\n  Tooltip,\n} from \"antd\";\nimport dayjs from \"dayjs\";\nimport React, { useMemo, useState } from \"react\";\nimport {\n  useApproveSchedule,\n  useBulkDeleteSchedules,\n  useCancelSchedule,\n  useDeleteSchedule,\n  useRejectSchedule,\n} from \"../hooks/useScheduleMutations\";\nimport { useSchedules } from \"../hooks/useSchedules\";\nimport { getAvailableActions } from \"../utils/scheduleActions\";\n\ninterface ScheduleListTableProps {\n  onEdit?: (schedule: Schedule) => void;\n  onView?: (schedule: Schedule) => void;\n  selectedUnitId?: string | null;\n  scheduleFilter?: \"all\" | \"unit\" | \"relay\";\n}\n\nexport const ScheduleListTable: React.FC<ScheduleListTableProps> = ({\n  onEdit,\n  onView,\n  selectedUnitId,\n  scheduleFilter = \"all\",\n}) => {\n  const { data: schedules, isLoading } = useSchedules();\n  const deleteMutation = useDeleteSchedule();\n  const cancelMutation = useCancelSchedule();\n  const approveMutation = useApproveSchedule();\n  const rejectMutation = useRejectSchedule();\n  const bulkDeleteMutation = useBulkDeleteSchedules();\n\n  const [selectedRowKeys, setSelectedRowKeys] = useState<string[]>([]);\n  const [searchText, setSearchText] = useState(\"\");\n\n  // Filter by unit\n  // Get all child unit IDs recursively\n  const getAllChildUnitIds = (unitId: string): string[] => {\n    const allUnits = mockUnits.getAll();\n    const childIds: string[] = [unitId]; // Include the unit itself\n\n    const findChildren = (parentId: string) => {\n      const children = allUnits.filter((u) => u.parentId === parentId);\n      children.forEach((child) => {\n        childIds.push(child.id);\n        findChildren(child.id); // Recursive\n      });\n    };\n\n    findChildren(unitId);\n    return childIds;\n  };\n\n  // Filter by unit\n  const filteredByUnit = useMemo(() => {\n    if (!selectedUnitId || !schedules) return schedules;\n\n    // Get all child unit IDs (including selected unit)\n    const allUnitIds = getAllChildUnitIds(selectedUnitId);\n\n    return schedules.filter((schedule) => {\n      // Check if schedule belongs to selected unit or any child unit\n      if (allUnitIds.includes(schedule.ownerUnitId)) return true;\n\n      // Check if schedule targets this unit or any child unit\n      if (schedule.targetUnitIds.some((id) => allUnitIds.includes(id)))\n        return true;\n\n      // Check if schedule targets devices in this unit or any child unit\n      const unitDevices = mockDevices\n        .getAll()\n        .filter((d) => allUnitIds.includes(d.unitId));\n      const unitDeviceIds = unitDevices.map((d) => d.id);\n      if (schedule.targetDeviceIds.some((id) => unitDeviceIds.includes(id)))\n        return true;\n\n      return false;\n    });\n  }, [schedules, selectedUnitId]);\n\n  // Filter by segment\n  const filteredBySegment = useMemo(() => {\n    if (!filteredByUnit) return [];\n\n    switch (scheduleFilter) {\n      case \"all\":\n        return filteredByUnit;\n\n      case \"unit\":\n        // Chỉ lịch của đơn vị (không phải relay)\n        return filteredByUnit.filter(\n          (s) => s.sourceType !== ScheduleSourceType.RELAY\n        );\n\n      case \"relay\":\n        // Chỉ lịch tiếp sóng\n        return filteredByUnit.filter(\n          (s) => s.sourceType === ScheduleSourceType.RELAY\n        );\n\n      default:\n        return filteredByUnit;\n    }\n  }, [filteredByUnit, scheduleFilter]);\n\n  // Filter by search\n  const filteredData = useMemo(() => {\n    if (!searchText) return filteredBySegment;\n\n    const lowerSearch = searchText.toLowerCase();\n    return filteredBySegment.filter(\n      (s) =>\n        s.title.toLowerCase().includes(lowerSearch) ||\n        s.description?.toLowerCase().includes(lowerSearch) ||\n        s.id.toLowerCase().includes(lowerSearch)\n    );\n  }, [filteredBySegment, searchText]);\n\n  // Handle menu click\n  const handleMenuClick = (key: string, record: Schedule) => {\n    switch (key) {\n      case \"view\":\n        onView?.(record);\n        break;\n\n      case \"edit\":\n        onEdit?.(record);\n        break;\n\n      case \"approve\":\n        Modal.confirm({\n          title: \"Duyệt lịch phát?\",\n          content: `Bạn có chắc chắn muốn duyệt lịch \"${record.title}\"?`,\n          okText: \"Duyệt\",\n          cancelText: \"Hủy\",\n          onOk: () => approveMutation.mutate(record.id),\n        });\n        break;\n\n      case \"reject\":\n        Modal.confirm({\n          title: \"Từ chối lịch phát?\",\n          content: `Bạn có chắc chắn muốn từ chối lịch \"${record.title}\"?`,\n          okText: \"Từ chối\",\n          okType: \"danger\",\n          cancelText: \"Hủy\",\n          onOk: () => rejectMutation.mutate(record.id),\n        });\n        break;\n\n      case \"cancel\":\n        Modal.confirm({\n          title: \"Hủy lịch phát?\",\n          content: `Bạn có chắc chắn muốn hủy lịch \"${record.title}\"?`,\n          okText: \"Hủy lịch\",\n          okType: \"danger\",\n          cancelText: \"Đóng\",\n          onOk: () => cancelMutation.mutate(record.id),\n        });\n        break;\n\n      case \"delete\":\n        Modal.confirm({\n          title: \"Xóa lịch phát?\",\n          content: `Bạn có chắc chắn muốn xóa lịch \"${record.title}\"? Hành động này không thể hoàn tác.`,\n          okText: \"Xóa\",\n          okType: \"danger\",\n          cancelText: \"Hủy\",\n          onOk: () => deleteMutation.mutate(record.id),\n        });\n        break;\n    }\n  };\n\n  // Get menu items based on status\n  const getMenuItems = (schedule: Schedule): MenuProps[\"items\"] => {\n    const actions = getAvailableActions(schedule.status);\n    const items: MenuProps[\"items\"] = [];\n\n    // Xem chi tiết\n    if (actions.canView) {\n      items.push({\n        key: \"view\",\n        icon: <EyeOutlined />,\n        label: \"Xem chi tiết\",\n      });\n    }\n\n    // Sửa\n    if (actions.canEdit) {\n      items.push({\n        key: \"edit\",\n        icon: <EditOutlined />,\n        label: \"Chỉnh sửa\",\n      });\n    }\n\n    // Divider\n    if (\n      items.length > 0 &&\n      (actions.canDelete ||\n        actions.canCancel ||\n        actions.canApprove ||\n        actions.canReject)\n    ) {\n      items.push({ type: \"divider\" });\n    }\n\n    // Duyệt\n    if (actions.canApprove) {\n      items.push({\n        key: \"approve\",\n        icon: <CheckCircleOutlined />,\n        label: \"Duyệt\",\n      });\n    }\n\n    // Từ chối\n    if (actions.canReject) {\n      items.push({\n        key: \"reject\",\n        icon: <CloseCircleOutlined />,\n        label: \"Từ chối\",\n        danger: true,\n      });\n    }\n\n    // Hủy\n    if (actions.canCancel) {\n      items.push({\n        key: \"cancel\",\n        icon: <StopOutlined />,\n        label: \"Hủy lịch\",\n        danger: true,\n      });\n    }\n\n    // Xóa\n    if (actions.canDelete) {\n      if (items.length > 0) {\n        items.push({ type: \"divider\" });\n      }\n      items.push({\n        key: \"delete\",\n        icon: <DeleteOutlined />,\n        label: \"Xóa\",\n        danger: true,\n      });\n    }\n\n    return items;\n  };\n\n  // Handle bulk delete\n  const handleBulkDelete = () => {\n    Modal.confirm({\n      title: `Xóa ${selectedRowKeys.length} lịch phát?`,\n      content:\n        \"Bạn có chắc chắn muốn xóa các lịch đã chọn? Hành động này không thể hoàn tác.\",\n      okText: \"Xóa\",\n      okType: \"danger\",\n      cancelText: \"Hủy\",\n      onOk: () => {\n        bulkDeleteMutation.mutate(selectedRowKeys);\n        setSelectedRowKeys([]);\n      },\n    });\n  };\n\n  // Row selection\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (keys: React.Key[]) => setSelectedRowKeys(keys as string[]),\n    getCheckboxProps: (record: Schedule) => ({\n      disabled: [\n        ScheduleStatus.COMPLETED,\n        ScheduleStatus.CANCELED,\n        ScheduleStatus.RUNNING,\n      ].includes(record.status),\n    }),\n  };\n\n  // Columns definition\n  const columns: TableColumnsType<Schedule> = [\n    {\n      title: \"STT\",\n      key: \"index\",\n      width: 60,\n      fixed: \"left\",\n      render: (_: any, __: any, index: number) => index + 1,\n    },\n    {\n      title: \"Tên lịch phát\",\n      dataIndex: \"title\",\n      key: \"title\",\n      width: 250,\n      fixed: \"left\",\n      render: (text: string, record: Schedule) => (\n        <div>\n          <div className=\"font-semibold\">{text}</div>\n          {record.description && (\n            <div className=\"text-xs text-gray-500 line-clamp-1\">\n              {record.description}\n            </div>\n          )}\n        </div>\n      ),\n    },\n    {\n      title: \"Loại lịch\",\n      dataIndex: \"type\",\n      key: \"type\",\n      width: 120,\n      filters: [\n        { text: \"Định kỳ\", value: ScheduleType.ROUTINE },\n        { text: \"Một lần\", value: ScheduleType.ONE_TIME },\n        { text: \"Khẩn cấp\", value: ScheduleType.EMERGENCY },\n      ],\n      onFilter: (value, record) => record.type === value,\n      render: (type: ScheduleType) => {\n        switch (type) {\n          case ScheduleType.ROUTINE:\n            return <Tag color=\"blue\">Định kỳ</Tag>;\n          case ScheduleType.ONE_TIME:\n            return <Tag>Một lần</Tag>;\n          case ScheduleType.EMERGENCY:\n            return (\n              <Tag color=\"red\" icon={<FlagOutlined />}>\n                Khẩn cấp\n              </Tag>\n            );\n          default:\n            return <Tag>{type}</Tag>;\n        }\n      },\n    },\n    {\n      title: \"Trạng thái\",\n      dataIndex: \"status\",\n      key: \"status\",\n      width: 130,\n      filters: [\n        { text: \"Nháp\", value: ScheduleStatus.DRAFT },\n        { text: \"Chờ duyệt\", value: ScheduleStatus.PENDING_APPROVAL },\n        { text: \"Sẵn sàng\", value: ScheduleStatus.READY },\n        { text: \"Đang chạy\", value: ScheduleStatus.RUNNING },\n        { text: \"Đã hoàn thành\", value: ScheduleStatus.COMPLETED },\n        { text: \"Đã duyệt\", value: ScheduleStatus.APPROVED },\n        { text: \"Đã hủy\", value: ScheduleStatus.CANCELED },\n        { text: \"Từ chối\", value: ScheduleStatus.REJECTED },\n      ],\n      onFilter: (value, record) => record.status === value,\n      render: (status: ScheduleStatus) => {\n        const statusConfig: Record<\n          ScheduleStatus,\n          { color: string; text: string }\n        > = {\n          [ScheduleStatus.DRAFT]: { color: \"default\", text: \"Nháp\" },\n          [ScheduleStatus.PENDING_APPROVAL]: {\n            color: \"orange\",\n            text: \"Chờ duyệt\",\n          },\n          [ScheduleStatus.READY]: { color: \"cyan\", text: \"Sẵn sàng\" },\n          [ScheduleStatus.RUNNING]: { color: \"green\", text: \"Đang chạy\" },\n          [ScheduleStatus.COMPLETED]: {\n            color: \"blue\",\n            text: \"Đã hoàn thành\",\n          },\n          [ScheduleStatus.APPROVED]: { color: \"blue\", text: \"Đã duyệt\" },\n          [ScheduleStatus.CANCELED]: { color: \"default\", text: \"Đã hủy\" },\n          [ScheduleStatus.REJECTED]: { color: \"red\", text: \"Từ chối\" },\n        };\n\n        const config = statusConfig[status];\n        return <Tag color={config.color}>{config.text}</Tag>;\n      },\n    },\n    {\n      title: \"Ưu tiên\",\n      dataIndex: \"priority\",\n      key: \"priority\",\n      width: 100,\n      sorter: (a, b) => b.priority - a.priority,\n      render: (priority: number) => {\n        if (priority >= 8) {\n          return (\n            <Badge count={priority} style={{ backgroundColor: \"#f5222d\" }}>\n              <Tag color=\"red\" icon={<FlagOutlined />}>\n                Cao\n              </Tag>\n            </Badge>\n          );\n        }\n        if (priority >= 5) {\n          return <Tag color=\"orange\">TB</Tag>;\n        }\n        return <span className=\"text-gray-400\">{priority}</span>;\n      },\n    },\n    {\n      title: \"Thời gian bắt đầu\",\n      dataIndex: \"startTime\",\n      key: \"startTime\",\n      width: 150,\n      sorter: (a, b) =>\n        new Date(a.startTime).getTime() - new Date(b.startTime).getTime(),\n      defaultSortOrder: \"descend\",\n      render: (date: Date) => (\n        <span>{dayjs(date).format(\"DD/MM/YYYY HH:mm\")}</span>\n      ),\n    },\n    {\n      title: \"Thời gian kết thúc\",\n      dataIndex: \"endTime\",\n      key: \"endTime\",\n      width: 150,\n      render: (date: Date | undefined) =>\n        date ? (\n          <span>{dayjs(date).format(\"DD/MM/YYYY HH:mm\")}</span>\n        ) : (\n          <span className=\"text-gray-400\">-</span>\n        ),\n    },\n    {\n      title: \"Thời lượng\",\n      key: \"duration\",\n      width: 100,\n      render: (_: any, record: Schedule) => {\n        if (!record.endTime) return <span className=\"text-gray-400\">-</span>;\n        const duration = dayjs(record.endTime).diff(\n          dayjs(record.startTime),\n          \"minute\"\n        );\n        return <span>{duration} phút</span>;\n      },\n    },\n    {\n      title: \"Nguồn phát\",\n      dataIndex: \"sourceType\",\n      key: \"sourceType\",\n      width: 150,\n      filters: [\n        { text: \"File âm thanh\", value: ScheduleSourceType.FILE },\n        { text: \"Tiếp sóng\", value: ScheduleSourceType.STREAM },\n        { text: \"TTS\", value: ScheduleSourceType.TTS },\n        { text: \"Relay\", value: ScheduleSourceType.RELAY },\n      ],\n      onFilter: (value, record) => record.sourceType === value,\n      render: (sourceType: ScheduleSourceType) => {\n        const sourceConfig: Record<\n          ScheduleSourceType,\n          { icon: React.ReactNode; text: string; color?: string }\n        > = {\n          [ScheduleSourceType.FILE]: {\n            icon: <AudioOutlined />,\n            text: \"File âm thanh\",\n          },\n          [ScheduleSourceType.STREAM]: {\n            icon: <LinkOutlined />,\n            text: \"Tiếp sóng\",\n          },\n          [ScheduleSourceType.TTS]: {\n            icon: <SoundOutlined />,\n            text: \"TTS\",\n          },\n          [ScheduleSourceType.RELAY]: {\n            icon: <ThunderboltOutlined />,\n            text: \"Relay\",\n            color: \"purple\",\n          },\n        };\n\n        const config = sourceConfig[sourceType];\n        return (\n          <span>\n            {config.icon} <span className=\"ml-1\">{config.text}</span>\n          </span>\n        );\n      },\n    },\n    {\n      title: \"Phạm vi\",\n      key: \"target\",\n      width: 120,\n      render: (_: any, record: Schedule) => {\n        const unitCount = record.targetUnitIds.length;\n        const deviceCount = record.targetDeviceIds.length;\n        const total = unitCount + deviceCount;\n\n        if (total === 0) {\n          return <Tag color=\"blue\">Toàn hệ thống</Tag>;\n        }\n\n        // Get unit names\n        const allUnits = mockUnits.getAll();\n        const unitNames = record.targetUnitIds\n          .map((id) => {\n            const unit = allUnits.find((u) => u.id === id);\n            return unit?.name || id;\n          })\n          .slice(0, 10); // Limit to 10\n\n        // Get device names\n        const allDevices = mockDevices.getAll();\n        const deviceNames = record.targetDeviceIds\n          .map((id) => {\n            const device = allDevices.find((d) => d.id === id);\n            return device?.name || id;\n          })\n          .slice(0, 10); // Limit to 10\n\n        const tooltipContent = (\n          <div className=\"max-h-60 overflow-y-auto\">\n            {unitCount > 0 && (\n              <div className=\"mb-2\">\n                <div className=\"font-semibold text-blue-300 mb-1\">\n                  📍 Đơn vị ({unitCount}):\n                </div>\n                <ul className=\"list-disc list-inside text-xs space-y-0.5\">\n                  {unitNames.map((name, idx) => (\n                    <li key={idx}>{name}</li>\n                  ))}\n                  {unitCount > 10 && (\n                    <li className=\"text-gray-400\">\n                      ... và {unitCount - 10} đơn vị khác\n                    </li>\n                  )}\n                </ul>\n              </div>\n            )}\n            {deviceCount > 0 && (\n              <div>\n                <div className=\"font-semibold text-green-300 mb-1\">\n                  📡 Thiết bị ({deviceCount}):\n                </div>\n                <ul className=\"list-disc list-inside text-xs space-y-0.5\">\n                  {deviceNames.map((name, idx) => (\n                    <li key={idx}>{name}</li>\n                  ))}\n                  {deviceCount > 10 && (\n                    <li className=\"text-gray-400\">\n                      ... và {deviceCount - 10} thiết bị khác\n                    </li>\n                  )}\n                </ul>\n              </div>\n            )}\n          </div>\n        );\n\n        return (\n          <Tooltip title={tooltipContent} overlayStyle={{ maxWidth: 400 }}>\n            <Tag>{total} điểm phát</Tag>\n          </Tooltip>\n        );\n      },\n    },\n    {\n      title: \"Ngày tạo\",\n      dataIndex: \"createdAt\",\n      key: \"createdAt\",\n      width: 120,\n      sorter: (a, b) =>\n        new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime(),\n      render: (date: Date) => <span>{dayjs(date).format(\"DD/MM/YYYY\")}</span>,\n    },\n    {\n      title: \"Thao tác\",\n      key: \"action\",\n      width: 80,\n      align: \"center\",\n      fixed: \"right\",\n      render: (_: any, record: Schedule) => (\n        <Dropdown\n          menu={{\n            items: getMenuItems(record),\n            onClick: (e) => handleMenuClick(e.key, record),\n          }}\n          trigger={[\"click\"]}\n        >\n          <Button size=\"small\">\n            {/* Thao tác <DownOutlined /> */}\n            <EllipsisOutlined />\n          </Button>\n        </Dropdown>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      {/* Toolbar */}\n      <div className=\"mb-4 flex justify-between items-center\">\n        <Input.Search\n          placeholder=\"Tìm kiếm theo tên, mô tả, ID...\"\n          value={searchText}\n          onChange={(e) => setSearchText(e.target.value)}\n          onSearch={setSearchText}\n          style={{ width: 350 }}\n          allowClear\n        />\n\n        {selectedRowKeys.length > 0 && (\n          <Space>\n            <span className=\"text-gray-600\">\n              Đã chọn {selectedRowKeys.length} mục\n            </span>\n            <Button danger icon={<DeleteOutlined />} onClick={handleBulkDelete}>\n              Xóa đã chọn\n            </Button>\n            <Button onClick={() => setSelectedRowKeys([])}>Bỏ chọn</Button>\n          </Space>\n        )}\n      </div>\n\n      {/* Table */}\n      <Table\n        dataSource={filteredData}\n        columns={columns}\n        rowKey=\"id\"\n        loading={isLoading}\n        rowSelection={rowSelection}\n        scroll={{ x: 1800 }}\n        pagination={{\n          pageSize: 20,\n          showSizeChanger: true,\n          pageSizeOptions: [\"10\", \"20\", \"50\", \"100\"],\n          showTotal: (total) => `Tổng ${total} lịch phát`,\n        }}\n        size=\"small\"\n      />\n    </div>\n  );\n};\n","import { useQuery } from \"@tanstack/react-query\";\nimport {\n  detectScheduleConflicts,\n  ScheduleConflict,\n} from \"../utils/conflictDetection\";\nimport { useSchedules } from \"./useSchedules\";\n\n/**\n * Deduplicate conflicts\n * Vì mỗi conflict được phát hiện từ 2 phía (A conflicts với B, B conflicts với A)\n * nên cần loại bỏ duplicates\n */\nconst deduplicateConflicts = (\n  conflicts: ScheduleConflict[]\n): ScheduleConflict[] => {\n  const seen = new Set<string>();\n  const unique: ScheduleConflict[] = [];\n\n  for (const conflict of conflicts) {\n    // Tạo unique key bằng cách sort 2 IDs\n    const key = [conflict.scheduleId, conflict.conflictingScheduleId]\n      .sort()\n      .join(\"-\");\n\n    if (!seen.has(key)) {\n      seen.add(key);\n      unique.push(conflict);\n    }\n  }\n\n  return unique;\n};\n\n/**\n * Hook để lấy tất cả conflicts\n */\nexport const useConflicts = () => {\n  const { data: schedules, isLoading: schedulesLoading } = useSchedules();\n\n  return useQuery({\n    queryKey: [\"conflicts\", schedules?.length],\n    queryFn: () => {\n      if (!schedules || schedules.length === 0) {\n        return [];\n      }\n\n      const allConflicts: ScheduleConflict[] = [];\n\n      // Detect conflicts for each schedule\n      schedules.forEach((schedule) => {\n        const conflicts = detectScheduleConflicts(schedule, schedules);\n        allConflicts.push(...conflicts);\n      });\n\n      // Deduplicate and return\n      return deduplicateConflicts(allConflicts);\n    },\n    enabled: !schedulesLoading && !!schedules && schedules.length > 0,\n    staleTime: 30000, // Cache for 30 seconds\n  });\n};\n\n/**\n * Hook để lấy conflicts cho một schedule cụ thể\n */\nexport const useScheduleConflicts = (scheduleId: string | undefined) => {\n  const { data: allConflicts, isLoading } = useConflicts();\n\n  return {\n    data: allConflicts?.filter(\n      (c) =>\n        c.scheduleId === scheduleId || c.conflictingScheduleId === scheduleId\n    ),\n    isLoading,\n  };\n};\n\n/**\n * Hook để đếm số lượng conflicts theo severity\n */\nexport const useConflictStats = () => {\n  const { data: conflicts, isLoading } = useConflicts();\n\n  const stats = {\n    total: conflicts?.length || 0,\n    high: conflicts?.filter((c) => c.severity === \"HIGH\").length || 0,\n    medium: conflicts?.filter((c) => c.severity === \"MEDIUM\").length || 0,\n    low: conflicts?.filter((c) => c.severity === \"LOW\").length || 0,\n  };\n\n  return {\n    data: stats,\n    isLoading,\n  };\n};\n","import { Schedule, ScheduleSourceType } from \"@/models/Schedule\";\n\nexport interface ScheduleConflict {\n  scheduleId: string;\n  conflictingScheduleId: string;\n  reason: \"TIME_OVERLAP\" | \"DEVICE_OVERLAP\" | \"RELAY_OVERRIDE\";\n  severity: \"HIGH\" | \"MEDIUM\" | \"LOW\";\n  description: string;\n}\n\n/**\n * Kiểm tra xem hai khoảng thời gian có trùng lặp không\n */\nfunction isTimeOverlap(\n  start1: Date,\n  end1: Date | undefined,\n  start2: Date,\n  end2: Date | undefined\n): boolean {\n  const s1 = new Date(start1).getTime();\n  const e1 = end1 ? new Date(end1).getTime() : s1 + 3600000; // Default 1 hour\n  const s2 = new Date(start2).getTime();\n  const e2 = end2 ? new Date(end2).getTime() : s2 + 3600000;\n\n  return s1 < e2 && s2 < e1;\n}\n\n/**\n * Kiểm tra xem hai lịch có cùng target devices/units không\n */\nfunction hasTargetOverlap(schedule1: Schedule, schedule2: Schedule): boolean {\n  // Check unit overlap\n  const unitOverlap = schedule1.targetUnitIds.some((unitId) =>\n    schedule2.targetUnitIds.includes(unitId)\n  );\n\n  // Check device overlap\n  const deviceOverlap = schedule1.targetDeviceIds.some((deviceId) =>\n    schedule2.targetDeviceIds.includes(deviceId)\n  );\n\n  return unitOverlap || deviceOverlap;\n}\n\n/**\n * Phát hiện xung đột giữa một lịch với tất cả các lịch khác\n */\nexport function detectScheduleConflicts(\n  schedule: Schedule,\n  allSchedules: Schedule[]\n): ScheduleConflict[] {\n  const conflicts: ScheduleConflict[] = [];\n\n  for (const otherSchedule of allSchedules) {\n    // Skip comparing with itself\n    if (schedule.id === otherSchedule.id) continue;\n\n    // Skip if schedules are not active (CANCELED, REJECTED, DRAFT)\n    if (\n      [\"CANCELED\", \"REJECTED\", \"DRAFT\"].includes(schedule.status) ||\n      [\"CANCELED\", \"REJECTED\", \"DRAFT\"].includes(otherSchedule.status)\n    ) {\n      continue;\n    }\n\n    // Check time overlap\n    const timeOverlap = isTimeOverlap(\n      schedule.startTime,\n      schedule.endTime,\n      otherSchedule.startTime,\n      otherSchedule.endTime\n    );\n\n    if (!timeOverlap) continue;\n\n    // Check target overlap\n    const targetOverlap = hasTargetOverlap(schedule, otherSchedule);\n\n    if (!targetOverlap) continue;\n\n    // Determine conflict type and severity\n    let reason: ScheduleConflict[\"reason\"] = \"TIME_OVERLAP\";\n    let severity: ScheduleConflict[\"severity\"] = \"MEDIUM\";\n    let description = \"\";\n\n    // RELAY schedule overrides local schedule\n    if (\n      schedule.sourceType === ScheduleSourceType.RELAY &&\n      otherSchedule.sourceType !== ScheduleSourceType.RELAY\n    ) {\n      reason = \"RELAY_OVERRIDE\";\n      severity = \"HIGH\";\n      description = `Lịch tiếp sóng từ cấp trên sẽ ghi đè lịch cục bộ \"${otherSchedule.title}\"`;\n    } else if (\n      otherSchedule.sourceType === ScheduleSourceType.RELAY &&\n      schedule.sourceType !== ScheduleSourceType.RELAY\n    ) {\n      reason = \"RELAY_OVERRIDE\";\n      severity = \"HIGH\";\n      description = `Lịch cục bộ sẽ bị ghi đè bởi lịch tiếp sóng \"${otherSchedule.title}\"`;\n    } else if (targetOverlap && timeOverlap) {\n      reason = \"DEVICE_OVERLAP\";\n      severity = \"HIGH\";\n      description = `Trùng thời gian và thiết bị với lịch \"${otherSchedule.title}\"`;\n    } else {\n      description = `Trùng thời gian với lịch \"${otherSchedule.title}\"`;\n    }\n\n    conflicts.push({\n      scheduleId: schedule.id,\n      conflictingScheduleId: otherSchedule.id,\n      reason,\n      severity,\n      description,\n    });\n  }\n\n  return conflicts;\n}\n\n/**\n * Kiểm tra xem một lịch có xung đột không\n */\nexport function hasConflicts(\n  scheduleId: string,\n  conflicts: ScheduleConflict[]\n): boolean {\n  return conflicts.some(\n    (c) => c.scheduleId === scheduleId || c.conflictingScheduleId === scheduleId\n  );\n}\n\n/**\n * Lấy tất cả conflicts liên quan đến một schedule\n */\nexport function getScheduleConflicts(\n  scheduleId: string,\n  allConflicts: ScheduleConflict[]\n): ScheduleConflict[] {\n  return allConflicts.filter(\n    (c) => c.scheduleId === scheduleId || c.conflictingScheduleId === scheduleId\n  );\n}\n\n/**\n * Đếm số lượng conflicts theo severity\n */\nexport function countConflictsBySeverity(\n  conflicts: ScheduleConflict[]\n): Record<ScheduleConflict[\"severity\"], number> {\n  return conflicts.reduce(\n    (acc, conflict) => {\n      acc[conflict.severity]++;\n      return acc;\n    },\n    { HIGH: 0, MEDIUM: 0, LOW: 0 } as Record<\n      ScheduleConflict[\"severity\"],\n      number\n    >\n  );\n}\n","import { mockUnits } from \"@/mocks/mockUnit\";\nimport { Schedule } from \"@/models/Schedule\";\nimport { UnitType } from \"@/models/Unit\";\nimport { buildTree } from \"@/pages/devices/list/utils/build-tree\";\nimport {\n  AppstoreOutlined,\n  AudioOutlined,\n  BarsOutlined,\n  ExclamationCircleOutlined,\n  HistoryOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\nimport { PageContainer } from \"@ant-design/pro-components\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { Badge, Button, Modal, Segmented, TreeSelect } from \"antd\";\nimport { useMemo, useState } from \"react\";\nimport { ApprovalQueue } from \"./components/ApprovalQueue\";\nimport { ConflictListModal } from \"./components/ConflictListModal\";\nimport { LiveBroadcastModal } from \"./components/LiveBroadcastModal\";\nimport { ScheduleCalendar } from \"./components/ScheduleCalendar\";\nimport { ScheduleDetailModal } from \"./components/ScheduleDetailModal\";\nimport { ScheduleForm } from \"./components/ScheduleForm\";\nimport { ScheduleListTable } from \"./components/ScheduleListTable\";\nimport { useConflicts } from \"./hooks/useConflicts\";\nimport { useSchedules } from \"./hooks/useSchedules\";\n\n// Create a client\nconst queryClient = new QueryClient();\n\n// Conflict Button Component with Badge\nconst ConflictButton: React.FC<{ onClick: () => void }> = ({ onClick }) => {\n  const { data: conflicts } = useConflicts();\n  const conflictCount = conflicts?.length || 0;\n  const highSeverityCount =\n    conflicts?.filter((c) => c.severity === \"HIGH\").length || 0;\n\n  return (\n    <Badge\n      count={conflictCount}\n      offset={[10, 0]}\n      showZero={false}\n      className=\"mr-4\"\n    >\n      <Button\n        icon={<ExclamationCircleOutlined />}\n        onClick={onClick}\n        danger={highSeverityCount > 0}\n      >\n        Cảnh báo xung đột\n      </Button>\n    </Badge>\n  );\n};\n\nconst SchedulePageContent = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingSchedule, setEditingSchedule] = useState<Schedule | undefined>(\n    undefined\n  );\n  const [isApprovalModalOpen, setIsApprovalModalOpen] = useState(false);\n  const [isConflictModalOpen, setIsConflictModalOpen] = useState(false);\n  const [isLiveBroadcastModalOpen, setIsLiveBroadcastModalOpen] =\n    useState(false);\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);\n  const [viewingSchedule, setViewingSchedule] = useState<Schedule | undefined>(\n    undefined\n  );\n  const [selectedUnitId, setSelectedUnitId] = useState<string | null>(null);\n  const [viewMode, setViewMode] = useState<\"calendar\" | \"table\">(\"table\");\n  const [scheduleFilter, setScheduleFilter] = useState<\n    \"all\" | \"unit\" | \"relay\"\n  >(\"all\");\n\n  const { data: schedules } = useSchedules();\n  const { data: allConflicts } = useConflicts();\n\n  const treeData = useMemo(() => {\n    return buildTree(\n      mockUnits.getAll().filter((u) => u.type !== UnitType.EMPLOYEE)\n    );\n  }, []);\n\n  return (\n    <PageContainer\n      title=\"Quản lý lịch phát\"\n      extra={[\n        <ConflictButton\n          key=\"conflicts\"\n          onClick={() => setIsConflictModalOpen(true)}\n        />,\n        <Button\n          key=\"approval\"\n          icon={<HistoryOutlined />}\n          onClick={() => setIsApprovalModalOpen(true)}\n          className=\"mr-4\"\n        >\n          Danh sách chờ duyệt\n        </Button>,\n        <Button\n          key=\"live-broadcast\"\n          type=\"primary\"\n          danger\n          icon={<AudioOutlined />}\n          onClick={() => setIsLiveBroadcastModalOpen(true)}\n          className=\"mr-4\"\n        >\n          Phát trực tiếp\n        </Button>,\n        <Button\n          key=\"create\"\n          type=\"primary\"\n          icon={<PlusOutlined />}\n          onClick={() => setIsModalOpen(true)}\n        >\n          Tạo lịch mới\n        </Button>,\n      ]}\n    >\n      <div className=\"flex justify-between items-center mb-4 gap-4\">\n        {/* Schedule Filter Segment */}\n        <div className=\"flex gap-4 items-center\">\n          <Segmented\n            value={scheduleFilter}\n            onChange={(value) =>\n              setScheduleFilter(value as \"all\" | \"unit\" | \"relay\")\n            }\n            options={[\n              { label: \"Tất cả\", value: \"all\" },\n              { label: \"Đơn vị\", value: \"unit\" },\n              { label: \"Tiếp sóng\", value: \"relay\" },\n            ]}\n          />\n          <TreeSelect\n            showSearch\n            style={{ width: 300 }}\n            value={selectedUnitId}\n            dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\n            placeholder=\"Chọn đơn vị quản lý\"\n            allowClear\n            treeDefaultExpandAll\n            onChange={setSelectedUnitId}\n            treeData={treeData}\n          />\n        </div>\n\n        {/* View Switcher */}\n        <Segmented\n          value={viewMode}\n          onChange={(v) => setViewMode(v as \"calendar\" | \"table\")}\n          options={[\n            {\n              label: \"Lịch biểu\",\n              value: \"calendar\",\n              icon: <AppstoreOutlined />,\n            },\n            { label: \"Danh sách\", value: \"table\", icon: <BarsOutlined /> },\n          ]}\n        />\n      </div>\n\n      {/* Main Content */}\n      {viewMode === \"calendar\" ? (\n        <ScheduleCalendar\n          onEdit={(id) => {\n            const schedule = schedules?.find((s) => s.id === id);\n            setEditingSchedule(schedule);\n            setIsModalOpen(true);\n          }}\n          selectedUnitId={selectedUnitId}\n          scheduleFilter={scheduleFilter}\n        />\n      ) : (\n        <ScheduleListTable\n          onEdit={(schedule) => {\n            setEditingSchedule(schedule);\n            setIsModalOpen(true);\n          }}\n          onView={(schedule) => {\n            setViewingSchedule(schedule);\n            setIsDetailModalOpen(true);\n          }}\n          selectedUnitId={selectedUnitId}\n          scheduleFilter={scheduleFilter}\n        />\n      )}\n\n      <ScheduleForm\n        open={isModalOpen}\n        initialValues={editingSchedule}\n        onCancel={() => {\n          setIsModalOpen(false);\n          setEditingSchedule(undefined);\n        }}\n        onSubmit={(values) => {\n          console.log(\"Submit:\", values);\n          setIsModalOpen(false);\n          setEditingSchedule(undefined);\n        }}\n      />\n\n      <Modal\n        title=\"Duyệt lịch chờ\"\n        open={isApprovalModalOpen}\n        onCancel={() => setIsApprovalModalOpen(false)}\n        footer={null}\n        width={700}\n      >\n        <ApprovalQueue />\n      </Modal>\n\n      <Modal\n        title=\"Danh sách lịch xung đột\"\n        open={isConflictModalOpen}\n        onCancel={() => setIsConflictModalOpen(false)}\n        footer={null}\n        width={900}\n      >\n        <ConflictListModal\n          conflicts={allConflicts || []}\n          schedules={schedules || []}\n        />\n      </Modal>\n\n      <LiveBroadcastModal\n        open={isLiveBroadcastModalOpen}\n        onClose={() => setIsLiveBroadcastModalOpen(false)}\n      />\n\n      <ScheduleDetailModal\n        open={isDetailModalOpen}\n        schedule={viewingSchedule || null}\n        onClose={() => {\n          setIsDetailModalOpen(false);\n          setViewingSchedule(undefined);\n        }}\n        onEdit={(schedule) => {\n          setEditingSchedule(schedule);\n          setIsModalOpen(true);\n        }}\n      />\n    </PageContainer>\n  );\n};\n\nconst SchedulePage = () => {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <SchedulePageContent />\n    </QueryClientProvider>\n  );\n};\n\nexport default SchedulePage;\n","import { AbstractModel } from \"./AbstractModel\";\n\nexport enum ScheduleType {\n  ROUTINE = \"ROUTINE\", // Lịch định kỳ (hàng ngày/tuần)\n  ONE_TIME = \"ONE_TIME\", // Lịch phát một lần\n  EMERGENCY = \"EMERGENCY\", // Lịch khẩn cấp (Ưu tiên cao nhất)\n}\n\nexport enum ScheduleSourceType {\n  FILE = \"FILE\", // Phát từ file audio (S3/MinIO)\n  STREAM = \"STREAM\", // Phát từ link luồng (HLS/RTSP)\n  TTS = \"TTS\", // Text-to-Speech\n  RELAY = \"RELAY\", // Tiếp sóng từ cấp trên\n}\n\nexport enum ScheduleStatus {\n  DRAFT = \"DRAFT\", // Nháp\n  PENDING_APPROVAL = \"PENDING_APPROVAL\", // Chờ duyệt\n  READY = \"READY\", // Sẵn sàng phát\n  RUNNING = \"RUNNING\", // Đang phát\n  COMPLETED = \"COMPLETED\", // Đã hoàn thành\n  CANCELED = \"CANCELED\", // Đã hủy\n  APPROVED = \"APPROVED\", // Đã duyệt (legacy, có thể dùng cho workflow cũ)\n  REJECTED = \"REJECTED\", // Từ chối\n}\n\nexport interface Schedule extends AbstractModel {\n  title: string;\n  description?: string;\n\n  // Quản lý phân cấp\n  ownerUnitId: string; // Đơn vị tạo lịch\n  type: ScheduleType;\n  priority: number; // Độ ưu tiên (ví dụ: 1-10, Emergency = 10)\n\n  // Cấu hình nguồn phát\n  sourceType: ScheduleSourceType;\n  sourceUrl: string; // Đường dẫn file hoặc link stream\n  ttsContent?: string; // Nội dung văn bản nếu là TTS\n\n  // Relay Broadcasting Config (khi sourceType = RELAY)\n  sourceUnitId?: string; // Đơn vị nguồn (cơ sở/kênh phát)\n  sourceChannelId?: string; // Kênh phát sóng cụ thể\n  relayFromLevel?: \"PROVINCE\" | \"DISTRICT\" | \"COMMUNE\"; // Cấp truyền xuống\n\n  // Cấu hình thời gian\n  startTime: Date; // Thời điểm bắt đầu (với Routine là giờ:phút)\n  endTime?: Date; // Thời điểm kết thúc (dự kiến)\n\n  // Cấu hình lặp (Dùng cho ROUTINE)\n  // Ví dụ: [1, 3, 5] cho Thứ 2, 4, 6\n  daysOfWeek?: number[];\n\n  // Đối tượng thụ hưởng (Targeting)\n  // Có thể chọn theo Unit (phát toàn xã) hoặc danh sách Device cụ thể\n  targetUnitIds: string[];\n  targetDeviceIds: string[];\n\n  status: ScheduleStatus;\n  approvedBy?: string;\n  createdAt: Date;\n}\n"],"names":[],"mappings":"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"}